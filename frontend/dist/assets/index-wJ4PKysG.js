(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function pa(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ze={},Sn=[],rs=()=>{},ed=()=>!1,Tr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),ma=t=>t.startsWith("onUpdate:"),at=Object.assign,ga=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},h0=Object.prototype.hasOwnProperty,Be=(t,e)=>h0.call(t,e),ye=Array.isArray,En=t=>Pi(t)==="[object Map]",Dn=t=>Pi(t)==="[object Set]",Ja=t=>Pi(t)==="[object Date]",Se=t=>typeof t=="function",st=t=>typeof t=="string",Vt=t=>typeof t=="symbol",Ge=t=>t!==null&&typeof t=="object",td=t=>(Ge(t)||Se(t))&&Se(t.then)&&Se(t.catch),sd=Object.prototype.toString,Pi=t=>sd.call(t),f0=t=>Pi(t).slice(8,-1),nd=t=>Pi(t)==="[object Object]",ba=t=>st(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ii=pa(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},p0=/-\w/g,Ft=Rr(t=>t.replace(p0,e=>e.slice(1).toUpperCase())),m0=/\B([A-Z])/g,un=Rr(t=>t.replace(m0,"-$1").toLowerCase()),Mr=Rr(t=>t.charAt(0).toUpperCase()+t.slice(1)),sr=Rr(t=>t?`on${Mr(t)}`:""),Ns=(t,e)=>!Object.is(t,e),nr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},id=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},pr=t=>{const e=parseFloat(t);return isNaN(e)?t:e},g0=t=>{const e=st(t)?Number(t):NaN;return isNaN(e)?t:e};let Za;const Ir=()=>Za||(Za=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zs(t){if(ye(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=st(n)?x0(n):zs(n);if(i)for(const r in i)e[r]=i[r]}return e}else if(st(t)||Ge(t))return t}const b0=/;(?![^(]*\))/g,v0=/:([^]+)/,y0=/\/\*[^]*?\*\//g;function x0(t){const e={};return t.replace(y0,"").split(b0).forEach(s=>{if(s){const n=s.split(v0);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function re(t){let e="";if(st(t))e=t;else if(ye(t))for(let s=0;s<t.length;s++){const n=re(t[s]);n&&(e+=n+" ")}else if(Ge(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const _0="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",w0=pa(_0);function rd(t){return!!t||t===""}function C0(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=ln(t[n],e[n]);return s}function ln(t,e){if(t===e)return!0;let s=Ja(t),n=Ja(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=Vt(t),n=Vt(e),s||n)return t===e;if(s=ye(t),n=ye(e),s||n)return s&&n?C0(t,e):!1;if(s=Ge(t),n=Ge(e),s||n){if(!s||!n)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!ln(t[o],e[o]))return!1}}return String(t)===String(e)}function va(t,e){return t.findIndex(s=>ln(s,e))}const od=t=>!!(t&&t.__v_isRef===!0),F=t=>st(t)?t:t==null?"":ye(t)||Ge(t)&&(t.toString===sd||!Se(t.toString))?od(t)?F(t.value):JSON.stringify(t,ad,2):String(t),ad=(t,e)=>od(e)?ad(t,e.value):En(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,i],r)=>(s[io(n,r)+" =>"]=i,s),{})}:Dn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>io(s))}:Vt(e)?io(e):Ge(e)&&!ye(e)&&!nd(e)?String(e):e,io=(t,e="")=>{var s;return Vt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pt;class ld{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pt,!e&&pt&&(this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=pt;try{return pt=this,e()}finally{pt=s}}}on(){++this._on===1&&(this.prevScope=pt,pt=this)}off(){this._on>0&&--this._on===0&&(pt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function cd(t){return new ld(t)}function dd(){return pt}function k0(t,e=!1){pt&&pt.cleanups.push(t)}let qe;const ro=new WeakSet;class ud{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pt&&pt.active&&pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ro.has(this)&&(ro.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Qa(this),pd(this);const e=qe,s=Ut;qe=this,Ut=!0;try{return this.fn()}finally{md(this),qe=e,Ut=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)_a(e);this.deps=this.depsTail=void 0,Qa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ro.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Lo(this)&&this.run()}get dirty(){return Lo(this)}}let hd=0,ri,oi;function fd(t,e=!1){if(t.flags|=8,e){t.next=oi,oi=t;return}t.next=ri,ri=t}function ya(){hd++}function xa(){if(--hd>0)return;if(oi){let e=oi;for(oi=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;ri;){let e=ri;for(ri=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function pd(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function md(t){let e,s=t.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),_a(n),S0(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=s}function Lo(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(gd(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function gd(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===bi)||(t.globalVersion=bi,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!Lo(t))))return;t.flags|=2;const e=t.dep,s=qe,n=Ut;qe=t,Ut=!0;try{pd(t);const i=t.fn(t._value);(e.version===0||Ns(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{qe=s,Ut=n,md(t),t.flags&=-3}}function _a(t,e=!1){const{dep:s,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let r=s.computed.deps;r;r=r.nextDep)_a(r,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function S0(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Ut=!0;const bd=[];function vs(){bd.push(Ut),Ut=!1}function ys(){const t=bd.pop();Ut=t===void 0?!0:t}function Qa(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=qe;qe=void 0;try{e()}finally{qe=s}}}let bi=0;class E0{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wa{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!qe||!Ut||qe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==qe)s=this.activeLink=new E0(qe,this),qe.deps?(s.prevDep=qe.depsTail,qe.depsTail.nextDep=s,qe.depsTail=s):qe.deps=qe.depsTail=s,vd(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=qe.depsTail,s.nextDep=void 0,qe.depsTail.nextDep=s,qe.depsTail=s,qe.deps===s&&(qe.deps=n)}return s}trigger(e){this.version++,bi++,this.notify(e)}notify(e){ya();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{xa()}}}function vd(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)vd(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const mr=new WeakMap,rn=Symbol(""),$o=Symbol(""),vi=Symbol("");function mt(t,e,s){if(Ut&&qe){let n=mr.get(t);n||mr.set(t,n=new Map);let i=n.get(s);i||(n.set(s,i=new wa),i.map=n,i.key=s),i.track()}}function ps(t,e,s,n,i,r){const o=mr.get(t);if(!o){bi++;return}const a=l=>{l&&l.trigger()};if(ya(),e==="clear")o.forEach(a);else{const l=ye(t),u=l&&ba(s);if(l&&s==="length"){const d=Number(n);o.forEach((h,f)=>{(f==="length"||f===vi||!Vt(f)&&f>=d)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(vi)),e){case"add":l?u&&a(o.get("length")):(a(o.get(rn)),En(t)&&a(o.get($o)));break;case"delete":l||(a(o.get(rn)),En(t)&&a(o.get($o)));break;case"set":En(t)&&a(o.get(rn));break}}xa()}function A0(t,e){const s=mr.get(t);return s&&s.get(e)}function bn(t){const e=Re(t);return e===t?e:(mt(e,"iterate",vi),Bt(t)?e:e.map(ht))}function Or(t){return mt(t=Re(t),"iterate",vi),t}const P0={__proto__:null,[Symbol.iterator](){return oo(this,Symbol.iterator,ht)},concat(...t){return bn(this).concat(...t.map(e=>ye(e)?bn(e):e))},entries(){return oo(this,"entries",t=>(t[1]=ht(t[1]),t))},every(t,e){return cs(this,"every",t,e,void 0,arguments)},filter(t,e){return cs(this,"filter",t,e,s=>s.map(ht),arguments)},find(t,e){return cs(this,"find",t,e,ht,arguments)},findIndex(t,e){return cs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return cs(this,"findLast",t,e,ht,arguments)},findLastIndex(t,e){return cs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return cs(this,"forEach",t,e,void 0,arguments)},includes(...t){return ao(this,"includes",t)},indexOf(...t){return ao(this,"indexOf",t)},join(t){return bn(this).join(t)},lastIndexOf(...t){return ao(this,"lastIndexOf",t)},map(t,e){return cs(this,"map",t,e,void 0,arguments)},pop(){return zn(this,"pop")},push(...t){return zn(this,"push",t)},reduce(t,...e){return el(this,"reduce",t,e)},reduceRight(t,...e){return el(this,"reduceRight",t,e)},shift(){return zn(this,"shift")},some(t,e){return cs(this,"some",t,e,void 0,arguments)},splice(...t){return zn(this,"splice",t)},toReversed(){return bn(this).toReversed()},toSorted(t){return bn(this).toSorted(t)},toSpliced(...t){return bn(this).toSpliced(...t)},unshift(...t){return zn(this,"unshift",t)},values(){return oo(this,"values",ht)}};function oo(t,e,s){const n=Or(t),i=n[e]();return n!==t&&!Bt(t)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.done||(r.value=s(r.value)),r}),i}const T0=Array.prototype;function cs(t,e,s,n,i,r){const o=Or(t),a=o!==t&&!Bt(t),l=o[e];if(l!==T0[e]){const h=l.apply(t,r);return a?ht(h):h}let u=s;o!==t&&(a?u=function(h,f){return s.call(this,ht(h),f,t)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,t)}));const d=l.call(o,u,n);return a&&i?i(d):d}function el(t,e,s,n){const i=Or(t);let r=s;return i!==t&&(Bt(t)?s.length>3&&(r=function(o,a,l){return s.call(this,o,a,l,t)}):r=function(o,a,l){return s.call(this,o,ht(a),l,t)}),i[e](r,...n)}function ao(t,e,s){const n=Re(t);mt(n,"iterate",vi);const i=n[e](...s);return(i===-1||i===!1)&&Sa(s[0])?(s[0]=Re(s[0]),n[e](...s)):i}function zn(t,e,s=[]){vs(),ya();const n=Re(t)[e].apply(t,s);return xa(),ys(),n}const R0=pa("__proto__,__v_isRef,__isVue"),yd=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Vt));function M0(t){Vt(t)||(t=String(t));const e=Re(this);return mt(e,"has",t),e.hasOwnProperty(t)}class xd{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,r=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return r;if(s==="__v_raw")return n===(i?r?G0:kd:r?Cd:wd).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=ye(e);if(!i){let l;if(o&&(l=P0[s]))return l;if(s==="hasOwnProperty")return M0}const a=Reflect.get(e,s,it(e)?e:n);if((Vt(s)?yd.has(s):R0(s))||(i||mt(e,"get",s),r))return a;if(it(a)){const l=o&&ba(s)?a:a.value;return i&&Ge(l)?No(l):l}return Ge(a)?i?No(a):He(a):a}}class _d extends xd{constructor(e=!1){super(!1,e)}set(e,s,n,i){let r=e[s];if(!this._isShallow){const l=js(r);if(!Bt(n)&&!js(n)&&(r=Re(r),n=Re(n)),!ye(e)&&it(r)&&!it(n))return l||(r.value=n),!0}const o=ye(e)&&ba(s)?Number(s)<e.length:Be(e,s),a=Reflect.set(e,s,n,it(e)?e:i);return e===Re(i)&&(o?Ns(n,r)&&ps(e,"set",s,n):ps(e,"add",s,n)),a}deleteProperty(e,s){const n=Be(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&n&&ps(e,"delete",s,void 0),i}has(e,s){const n=Reflect.has(e,s);return(!Vt(s)||!yd.has(s))&&mt(e,"has",s),n}ownKeys(e){return mt(e,"iterate",ye(e)?"length":rn),Reflect.ownKeys(e)}}class I0 extends xd{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const O0=new _d,L0=new I0,$0=new _d(!0);const Do=t=>t,ji=t=>Reflect.getPrototypeOf(t);function D0(t,e,s){return function(...n){const i=this.__v_raw,r=Re(i),o=En(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=i[t](...n),d=s?Do:e?gr:ht;return!e&&mt(r,"iterate",l?$o:rn),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function Fi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function N0(t,e){const s={get(i){const r=this.__v_raw,o=Re(r),a=Re(i);t||(Ns(i,a)&&mt(o,"get",i),mt(o,"get",a));const{has:l}=ji(o),u=e?Do:t?gr:ht;if(l.call(o,i))return u(r.get(i));if(l.call(o,a))return u(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!t&&mt(Re(i),"iterate",rn),i.size},has(i){const r=this.__v_raw,o=Re(r),a=Re(i);return t||(Ns(i,a)&&mt(o,"has",i),mt(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=Re(a),u=e?Do:t?gr:ht;return!t&&mt(l,"iterate",rn),a.forEach((d,h)=>i.call(r,u(d),u(h),o))}};return at(s,t?{add:Fi("add"),set:Fi("set"),delete:Fi("delete"),clear:Fi("clear")}:{add(i){!e&&!Bt(i)&&!js(i)&&(i=Re(i));const r=Re(this);return ji(r).has.call(r,i)||(r.add(i),ps(r,"add",i,i)),this},set(i,r){!e&&!Bt(r)&&!js(r)&&(r=Re(r));const o=Re(this),{has:a,get:l}=ji(o);let u=a.call(o,i);u||(i=Re(i),u=a.call(o,i));const d=l.call(o,i);return o.set(i,r),u?Ns(r,d)&&ps(o,"set",i,r):ps(o,"add",i,r),this},delete(i){const r=Re(this),{has:o,get:a}=ji(r);let l=o.call(r,i);l||(i=Re(i),l=o.call(r,i)),a&&a.call(r,i);const u=r.delete(i);return l&&ps(r,"delete",i,void 0),u},clear(){const i=Re(this),r=i.size!==0,o=i.clear();return r&&ps(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=D0(i,t,e)}),s}function Ca(t,e){const s=N0(t,e);return(n,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Be(s,i)&&i in n?s:n,i,r)}const B0={get:Ca(!1,!1)},j0={get:Ca(!1,!0)},F0={get:Ca(!0,!1)};const wd=new WeakMap,Cd=new WeakMap,kd=new WeakMap,G0=new WeakMap;function z0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function H0(t){return t.__v_skip||!Object.isExtensible(t)?0:z0(f0(t))}function He(t){return js(t)?t:ka(t,!1,O0,B0,wd)}function Sd(t){return ka(t,!1,$0,j0,Cd)}function No(t){return ka(t,!0,L0,F0,kd)}function ka(t,e,s,n,i){if(!Ge(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=H0(t);if(r===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,r===2?n:s);return i.set(t,a),a}function Bs(t){return js(t)?Bs(t.__v_raw):!!(t&&t.__v_isReactive)}function js(t){return!!(t&&t.__v_isReadonly)}function Bt(t){return!!(t&&t.__v_isShallow)}function Sa(t){return t?!!t.__v_raw:!1}function Re(t){const e=t&&t.__v_raw;return e?Re(e):t}function Ea(t){return!Be(t,"__v_skip")&&Object.isExtensible(t)&&id(t,"__v_skip",!0),t}const ht=t=>Ge(t)?He(t):t,gr=t=>Ge(t)?No(t):t;function it(t){return t?t.__v_isRef===!0:!1}function ie(t){return Ed(t,!1)}function U0(t){return Ed(t,!0)}function Ed(t,e){return it(t)?t:new V0(t,e)}class V0{constructor(e,s){this.dep=new wa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:Re(e),this._value=s?e:ht(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Bt(e)||js(e);e=n?e:Re(e),Ns(e,s)&&(this._rawValue=e,this._value=n?e:ht(e),this.dep.trigger())}}function Oe(t){return it(t)?t.value:t}const W0={get:(t,e,s)=>e==="__v_raw"?t:Oe(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const i=t[e];return it(i)&&!it(s)?(i.value=s,!0):Reflect.set(t,e,s,n)}};function Ad(t){return Bs(t)?t:new Proxy(t,W0)}function q0(t){const e=ye(t)?new Array(t.length):{};for(const s in t)e[s]=Y0(t,s);return e}class X0{constructor(e,s,n){this._object=e,this._key=s,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return A0(Re(this._object),this._key)}}function Y0(t,e,s){const n=t[e];return it(n)?n:new X0(t,e,s)}class K0{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new wa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&qe!==this)return fd(this,!0),!0}get value(){const e=this.dep.track();return gd(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function J0(t,e,s=!1){let n,i;return Se(t)?n=t:(n=t.get,i=t.set),new K0(n,i,s)}const Gi={},br=new WeakMap;let Zs;function Z0(t,e=!1,s=Zs){if(s){let n=br.get(s);n||br.set(s,n=[]),n.push(t)}}function Q0(t,e,s=ze){const{immediate:n,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=s,u=_=>i?_:Bt(_)||i===!1||i===0?ms(_,1):ms(_);let d,h,f,m,p=!1,x=!1;if(it(t)?(h=()=>t.value,p=Bt(t)):Bs(t)?(h=()=>u(t),p=!0):ye(t)?(x=!0,p=t.some(_=>Bs(_)||Bt(_)),h=()=>t.map(_=>{if(it(_))return _.value;if(Bs(_))return u(_);if(Se(_))return l?l(_,2):_()})):Se(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){vs();try{f()}finally{ys()}}const _=Zs;Zs=d;try{return l?l(t,3,[m]):t(m)}finally{Zs=_}}:h=rs,e&&i){const _=h,O=i===!0?1/0:i;h=()=>ms(_(),O)}const v=dd(),y=()=>{d.stop(),v&&v.active&&ga(v.effects,d)};if(r&&e){const _=e;e=(...O)=>{_(...O),y()}}let g=x?new Array(t.length).fill(Gi):Gi;const b=_=>{if(!(!(d.flags&1)||!d.dirty&&!_))if(e){const O=d.run();if(i||p||(x?O.some((z,B)=>Ns(z,g[B])):Ns(O,g))){f&&f();const z=Zs;Zs=d;try{const B=[O,g===Gi?void 0:x&&g[0]===Gi?[]:g,m];g=O,l?l(e,3,B):e(...B)}finally{Zs=z}}}else d.run()};return a&&a(b),d=new ud(h),d.scheduler=o?()=>o(b,!1):b,m=_=>Z0(_,!1,d),f=d.onStop=()=>{const _=br.get(d);if(_){if(l)l(_,4);else for(const O of _)O();br.delete(d)}},e?n?b(!0):g=d.run():o?o(b.bind(null,!0),!0):d.run(),y.pause=d.pause.bind(d),y.resume=d.resume.bind(d),y.stop=y,y}function ms(t,e=1/0,s){if(e<=0||!Ge(t)||t.__v_skip||(s=s||new Map,(s.get(t)||0)>=e))return t;if(s.set(t,e),e--,it(t))ms(t.value,e,s);else if(ye(t))for(let n=0;n<t.length;n++)ms(t[n],e,s);else if(Dn(t)||En(t))t.forEach(n=>{ms(n,e,s)});else if(nd(t)){for(const n in t)ms(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&ms(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ti(t,e,s,n){try{return n?t(...n):t()}catch(i){Lr(i,e,s)}}function Wt(t,e,s,n){if(Se(t)){const i=Ti(t,e,s,n);return i&&td(i)&&i.catch(r=>{Lr(r,e,s)}),i}if(ye(t)){const i=[];for(let r=0;r<t.length;r++)i.push(Wt(t[r],e,s,n));return i}}function Lr(t,e,s,n=!0){const i=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ze;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const d=a.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,l,u)===!1)return}a=a.parent}if(r){vs(),Ti(r,null,10,[t,l,u]),ys();return}}ef(t,s,i,n,o)}function ef(t,e,s,n=!0,i=!1){if(i)throw t;console.error(t)}const wt=[];let ns=-1;const An=[];let Os=null,wn=0;const Pd=Promise.resolve();let vr=null;function Nn(t){const e=vr||Pd;return t?e.then(this?t.bind(this):t):e}function tf(t){let e=ns+1,s=wt.length;for(;e<s;){const n=e+s>>>1,i=wt[n],r=yi(i);r<t||r===t&&i.flags&2?e=n+1:s=n}return e}function Aa(t){if(!(t.flags&1)){const e=yi(t),s=wt[wt.length-1];!s||!(t.flags&2)&&e>=yi(s)?wt.push(t):wt.splice(tf(e),0,t),t.flags|=1,Td()}}function Td(){vr||(vr=Pd.then(Md))}function sf(t){ye(t)?An.push(...t):Os&&t.id===-1?Os.splice(wn+1,0,t):t.flags&1||(An.push(t),t.flags|=1),Td()}function tl(t,e,s=ns+1){for(;s<wt.length;s++){const n=wt[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;wt.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Rd(t){if(An.length){const e=[...new Set(An)].sort((s,n)=>yi(s)-yi(n));if(An.length=0,Os){Os.push(...e);return}for(Os=e,wn=0;wn<Os.length;wn++){const s=Os[wn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Os=null,wn=0}}const yi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Md(t){try{for(ns=0;ns<wt.length;ns++){const e=wt[ns];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ti(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ns<wt.length;ns++){const e=wt[ns];e&&(e.flags&=-2)}ns=-1,wt.length=0,Rd(),vr=null,(wt.length||An.length)&&Md()}}let ft=null,Id=null;function yr(t){const e=ft;return ft=t,Id=t&&t.type.__scopeId||null,e}function pe(t,e=ft,s){if(!e||t._n)return t;const n=(...i)=>{n._d&&wr(-1);const r=yr(e);let o;try{o=t(...i)}finally{yr(r),n._d&&wr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Pe(t,e){if(ft===null)return t;const s=zr(ft),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[r,o,a,l=ze]=e[i];r&&(Se(r)&&(r={mounted:r,updated:r}),r.deep&&ms(o),n.push({dir:r,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function qs(t,e,s,n){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[n];l&&(vs(),Wt(l,s,8,[t.el,a,t,e]),ys())}}const nf=Symbol("_vte"),Od=t=>t.__isTeleport,fs=Symbol("_leaveCb"),zi=Symbol("_enterCb");function Ld(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return $t(()=>{t.isMounted=!0}),zd(()=>{t.isUnmounting=!0}),t}const Dt=[Function,Array],$d={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Dt,onEnter:Dt,onAfterEnter:Dt,onEnterCancelled:Dt,onBeforeLeave:Dt,onLeave:Dt,onAfterLeave:Dt,onLeaveCancelled:Dt,onBeforeAppear:Dt,onAppear:Dt,onAfterAppear:Dt,onAppearCancelled:Dt},Dd=t=>{const e=t.subTree;return e.component?Dd(e.component):e},rf={name:"BaseTransition",props:$d,setup(t,{slots:e}){const s=Ri(),n=Ld();return()=>{const i=e.default&&Pa(e.default(),!0);if(!i||!i.length)return;const r=Nd(i),o=Re(t),{mode:a}=o;if(n.isLeaving)return lo(r);const l=sl(r);if(!l)return lo(r);let u=xi(l,o,n,s,h=>u=h);l.type!==gt&&cn(l,u);let d=s.subTree&&sl(s.subTree);if(d&&d.type!==gt&&!Qs(d,l)&&Dd(s).type!==gt){let h=xi(d,o,n,s);if(cn(d,h),a==="out-in"&&l.type!==gt)return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,s.job.flags&8||s.update(),delete h.afterLeave,d=void 0},lo(r);a==="in-out"&&l.type!==gt?h.delayLeave=(f,m,p)=>{const x=Bd(n,d);x[String(d.key)]=d,f[fs]=()=>{m(),f[fs]=void 0,delete u.delayedLeave,d=void 0},u.delayedLeave=()=>{p(),delete u.delayedLeave,d=void 0}}:d=void 0}else d&&(d=void 0);return r}}};function Nd(t){let e=t[0];if(t.length>1){for(const s of t)if(s.type!==gt){e=s;break}}return e}const of=rf;function Bd(t,e){const{leavingVNodes:s}=t;let n=s.get(e.type);return n||(n=Object.create(null),s.set(e.type,n)),n}function xi(t,e,s,n,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:d,onEnterCancelled:h,onBeforeLeave:f,onLeave:m,onAfterLeave:p,onLeaveCancelled:x,onBeforeAppear:v,onAppear:y,onAfterAppear:g,onAppearCancelled:b}=e,_=String(t.key),O=Bd(s,t),z=(D,W)=>{D&&Wt(D,n,9,W)},B=(D,W)=>{const H=W[1];z(D,W),ye(D)?D.every(C=>C.length<=1)&&H():D.length<=1&&H()},A={mode:o,persisted:a,beforeEnter(D){let W=l;if(!s.isMounted)if(r)W=v||l;else return;D[fs]&&D[fs](!0);const H=O[_];H&&Qs(t,H)&&H.el[fs]&&H.el[fs](),z(W,[D])},enter(D){let W=u,H=d,C=h;if(!s.isMounted)if(r)W=y||u,H=g||d,C=b||h;else return;let Q=!1;const I=D[zi]=q=>{Q||(Q=!0,q?z(C,[D]):z(H,[D]),A.delayedLeave&&A.delayedLeave(),D[zi]=void 0)};W?B(W,[D,I]):I()},leave(D,W){const H=String(t.key);if(D[zi]&&D[zi](!0),s.isUnmounting)return W();z(f,[D]);let C=!1;const Q=D[fs]=I=>{C||(C=!0,W(),I?z(x,[D]):z(p,[D]),D[fs]=void 0,O[H]===t&&delete O[H])};O[H]=t,m?B(m,[D,Q]):Q()},clone(D){const W=xi(D,e,s,n,i);return i&&i(W),W}};return A}function lo(t){if($r(t))return t=Fs(t),t.children=null,t}function sl(t){if(!$r(t))return Od(t.type)&&t.children?Nd(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:s}=t;if(s){if(e&16)return s[0];if(e&32&&Se(s.default))return s.default()}}function cn(t,e){t.shapeFlag&6&&t.component?(t.transition=e,cn(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Pa(t,e=!1,s){let n=[],i=0;for(let r=0;r<t.length;r++){let o=t[r];const a=s==null?o.key:String(s)+String(o.key!=null?o.key:r);o.type===we?(o.patchFlag&128&&i++,n=n.concat(Pa(o.children,e,a))):(e||o.type!==gt)&&n.push(a!=null?Fs(o,{key:a}):o)}if(i>1)for(let r=0;r<n.length;r++)n[r].patchFlag=-2;return n}function xs(t,e){return Se(t)?at({name:t.name},e,{setup:t}):t}function jd(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const xr=new WeakMap;function ai(t,e,s,n,i=!1){if(ye(t)){t.forEach((p,x)=>ai(p,e&&(ye(e)?e[x]:e),s,n,i));return}if(Pn(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ai(t,e,s,n.component.subTree);return}const r=n.shapeFlag&4?zr(n.component):n.el,o=i?null:r,{i:a,r:l}=t,u=e&&e.r,d=a.refs===ze?a.refs={}:a.refs,h=a.setupState,f=Re(h),m=h===ze?ed:p=>Be(f,p);if(u!=null&&u!==l){if(nl(e),st(u))d[u]=null,m(u)&&(h[u]=null);else if(it(u)){u.value=null;const p=e;p.k&&(d[p.k]=null)}}if(Se(l))Ti(l,a,12,[o,d]);else{const p=st(l),x=it(l);if(p||x){const v=()=>{if(t.f){const y=p?m(l)?h[l]:d[l]:l.value;if(i)ye(y)&&ga(y,r);else if(ye(y))y.includes(r)||y.push(r);else if(p)d[l]=[r],m(l)&&(h[l]=d[l]);else{const g=[r];l.value=g,t.k&&(d[t.k]=g)}}else p?(d[l]=o,m(l)&&(h[l]=o)):x&&(l.value=o,t.k&&(d[t.k]=o))};if(o){const y=()=>{v(),xr.delete(t)};y.id=-1,xr.set(t,y),Pt(y,s)}else nl(t),v()}}}function nl(t){const e=xr.get(t);e&&(e.flags|=8,xr.delete(t))}Ir().requestIdleCallback;Ir().cancelIdleCallback;const Pn=t=>!!t.type.__asyncLoader,$r=t=>t.type.__isKeepAlive;function af(t,e){Fd(t,"a",e)}function lf(t,e){Fd(t,"da",e)}function Fd(t,e,s=bt){const n=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Dr(e,n,s),s){let i=s.parent;for(;i&&i.parent;)$r(i.parent.vnode)&&cf(n,e,s,i),i=i.parent}}function cf(t,e,s,n){const i=Dr(e,t,n,!0);Nr(()=>{ga(n[e],i)},s)}function Dr(t,e,s=bt,n=!1){if(s){const i=s[t]||(s[t]=[]),r=e.__weh||(e.__weh=(...o)=>{vs();const a=Mi(s),l=Wt(e,s,t,o);return a(),ys(),l});return n?i.unshift(r):i.push(r),r}}const _s=t=>(e,s=bt)=>{(!Ci||t==="sp")&&Dr(t,(...n)=>e(...n),s)},df=_s("bm"),$t=_s("m"),uf=_s("bu"),Gd=_s("u"),zd=_s("bum"),Nr=_s("um"),hf=_s("sp"),ff=_s("rtg"),pf=_s("rtc");function mf(t,e=bt){Dr("ec",t,e)}const Hd="components";function rt(t,e){return Vd(Hd,t,!0,e)||t}const Ud=Symbol.for("v-ndc");function Br(t){return st(t)?Vd(Hd,t,!1)||t:t||Ud}function Vd(t,e,s=!0,n=!1){const i=ft||bt;if(i){const r=i.type;{const a=ip(r,!1);if(a&&(a===e||a===Ft(e)||a===Mr(Ft(e))))return r}const o=il(i[t]||r[t],e)||il(i.appContext[t],e);return!o&&n?r:o}}function il(t,e){return t&&(t[e]||t[Ft(e)]||t[Mr(Ft(e))])}function Le(t,e,s,n){let i;const r=s,o=ye(t);if(o||st(t)){const a=o&&Bs(t);let l=!1,u=!1;a&&(l=!Bt(t),u=js(t),t=Or(t)),i=new Array(t.length);for(let d=0,h=t.length;d<h;d++)i[d]=e(l?u?gr(ht(t[d])):ht(t[d]):t[d],d,void 0,r)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,r)}else if(Ge(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,r));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const d=a[l];i[l]=e(t[d],d,l,r)}}else i=[];return i}function gf(t,e,s={},n,i){if(ft.ce||ft.parent&&Pn(ft.parent)&&ft.parent.ce){const u=Object.keys(s).length>0;return w(),Ye(we,null,[he("slot",s,n)],u?-2:64)}let r=t[e];r&&r._c&&(r._d=!1),w();const o=r&&Wd(r(s)),a=s.key||o&&o.key,l=Ye(we,{key:(a&&!Vt(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||[],o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function Wd(t){return t.some(e=>wi(e)?!(e.type===gt||e.type===we&&!Wd(e.children)):!0)?t:null}function bf(t,e){const s={};for(const n in t)s[sr(n)]=t[n];return s}const Bo=t=>t?hu(t)?zr(t):Bo(t.parent):null,li=at(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Bo(t.parent),$root:t=>Bo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Xd(t),$forceUpdate:t=>t.f||(t.f=()=>{Aa(t.update)}),$nextTick:t=>t.n||(t.n=Nn.bind(t.proxy)),$watch:t=>jf.bind(t)}),co=(t,e)=>t!==ze&&!t.__isScriptSetup&&Be(t,e),vf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:r,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return n[e];case 2:return i[e];case 4:return s[e];case 3:return r[e]}else{if(co(n,e))return o[e]=1,n[e];if(i!==ze&&Be(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Be(u,e))return o[e]=3,r[e];if(s!==ze&&Be(s,e))return o[e]=4,s[e];jo&&(o[e]=0)}}const d=li[e];let h,f;if(d)return e==="$attrs"&&mt(t.attrs,"get",""),d(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==ze&&Be(s,e))return o[e]=4,s[e];if(f=l.config.globalProperties,Be(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:i,ctx:r}=t;return co(i,e)?(i[e]=s,!0):n!==ze&&Be(n,e)?(n[e]=s,!0):Be(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:i,propsOptions:r,type:o}},a){let l,u;return!!(s[a]||t!==ze&&a[0]!=="$"&&Be(t,a)||co(e,a)||(l=r[0])&&Be(l,a)||Be(n,a)||Be(li,a)||Be(i.config.globalProperties,a)||(u=o.__cssModules)&&u[a])},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Be(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function rl(t){return ye(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let jo=!0;function yf(t){const e=Xd(t),s=t.proxy,n=t.ctx;jo=!1,e.beforeCreate&&ol(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:u,created:d,beforeMount:h,mounted:f,beforeUpdate:m,updated:p,activated:x,deactivated:v,beforeDestroy:y,beforeUnmount:g,destroyed:b,unmounted:_,render:O,renderTracked:z,renderTriggered:B,errorCaptured:A,serverPrefetch:D,expose:W,inheritAttrs:H,components:C,directives:Q,filters:I}=e;if(u&&xf(u,n,null),o)for(const M in o){const R=o[M];Se(R)&&(n[M]=R.bind(s))}if(i){const M=i.call(s,s);Ge(M)&&(t.data=He(M))}if(jo=!0,r)for(const M in r){const R=r[M],P=Se(R)?R.bind(s,s):Se(R.get)?R.get.bind(s,s):rs,X=!Se(R)&&Se(R.set)?R.set.bind(s):rs,ce=ke({get:P,set:X});Object.defineProperty(n,M,{enumerable:!0,configurable:!0,get:()=>ce.value,set:se=>ce.value=se})}if(a)for(const M in a)qd(a[M],n,s,M);if(l){const M=Se(l)?l.call(s):l;Reflect.ownKeys(M).forEach(R=>{ir(R,M[R])})}d&&ol(d,t,"c");function L(M,R){ye(R)?R.forEach(P=>M(P.bind(s))):R&&M(R.bind(s))}if(L(df,h),L($t,f),L(uf,m),L(Gd,p),L(af,x),L(lf,v),L(mf,A),L(pf,z),L(ff,B),L(zd,g),L(Nr,_),L(hf,D),ye(W))if(W.length){const M=t.exposed||(t.exposed={});W.forEach(R=>{Object.defineProperty(M,R,{get:()=>s[R],set:P=>s[R]=P,enumerable:!0})})}else t.exposed||(t.exposed={});O&&t.render===rs&&(t.render=O),H!=null&&(t.inheritAttrs=H),C&&(t.components=C),Q&&(t.directives=Q),D&&jd(t)}function xf(t,e,s=rs){ye(t)&&(t=Fo(t));for(const n in t){const i=t[n];let r;Ge(i)?"default"in i?r=Ot(i.from||n,i.default,!0):r=Ot(i.from||n):r=Ot(i),it(r)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[n]=r}}function ol(t,e,s){Wt(ye(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function qd(t,e,s,n){let i=n.includes(".")?au(s,n):()=>s[n];if(st(t)){const r=e[t];Se(r)&&ct(i,r)}else if(Se(t))ct(i,t.bind(s));else if(Ge(t))if(ye(t))t.forEach(r=>qd(r,e,s,n));else{const r=Se(t.handler)?t.handler.bind(s):e[t.handler];Se(r)&&ct(i,r,t)}}function Xd(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!i.length&&!s&&!n?l=e:(l={},i.length&&i.forEach(u=>_r(l,u,o,!0)),_r(l,e,o)),Ge(e)&&r.set(e,l),l}function _r(t,e,s,n=!1){const{mixins:i,extends:r}=e;r&&_r(t,r,s,!0),i&&i.forEach(o=>_r(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=_f[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const _f={data:al,props:ll,emits:ll,methods:Zn,computed:Zn,beforeCreate:xt,created:xt,beforeMount:xt,mounted:xt,beforeUpdate:xt,updated:xt,beforeDestroy:xt,beforeUnmount:xt,destroyed:xt,unmounted:xt,activated:xt,deactivated:xt,errorCaptured:xt,serverPrefetch:xt,components:Zn,directives:Zn,watch:Cf,provide:al,inject:wf};function al(t,e){return e?t?function(){return at(Se(t)?t.call(this,this):t,Se(e)?e.call(this,this):e)}:e:t}function wf(t,e){return Zn(Fo(t),Fo(e))}function Fo(t){if(ye(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function xt(t,e){return t?[...new Set([].concat(t,e))]:e}function Zn(t,e){return t?at(Object.create(null),t,e):e}function ll(t,e){return t?ye(t)&&ye(e)?[...new Set([...t,...e])]:at(Object.create(null),rl(t),rl(e??{})):e}function Cf(t,e){if(!t)return e;if(!e)return t;const s=at(Object.create(null),t);for(const n in e)s[n]=xt(t[n],e[n]);return s}function Yd(){return{app:null,config:{isNativeTag:ed,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kf=0;function Sf(t,e){return function(n,i=null){Se(n)||(n=at({},n)),i!=null&&!Ge(i)&&(i=null);const r=Yd(),o=new WeakSet,a=[];let l=!1;const u=r.app={_uid:kf++,_component:n,_props:i,_container:null,_context:r,_instance:null,version:op,get config(){return r.config},set config(d){},use(d,...h){return o.has(d)||(d&&Se(d.install)?(o.add(d),d.install(u,...h)):Se(d)&&(o.add(d),d(u,...h))),u},mixin(d){return r.mixins.includes(d)||r.mixins.push(d),u},component(d,h){return h?(r.components[d]=h,u):r.components[d]},directive(d,h){return h?(r.directives[d]=h,u):r.directives[d]},mount(d,h,f){if(!l){const m=u._ceVNode||he(n,i);return m.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),t(m,d,f),l=!0,u._container=d,d.__vue_app__=u,zr(m.component)}},onUnmount(d){a.push(d)},unmount(){l&&(Wt(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(d,h){return r.provides[d]=h,u},runWithContext(d){const h=on;on=u;try{return d()}finally{on=h}}};return u}}let on=null;function ir(t,e){if(bt){let s=bt.provides;const n=bt.parent&&bt.parent.provides;n===s&&(s=bt.provides=Object.create(n)),s[t]=e}}function Ot(t,e,s=!1){const n=Ri();if(n||on){let i=on?on._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&Se(e)?e.call(n&&n.proxy):e}}function Ef(){return!!(Ri()||on)}const Kd={},Jd=()=>Object.create(Kd),Zd=t=>Object.getPrototypeOf(t)===Kd;function Af(t,e,s,n=!1){const i={},r=Jd();t.propsDefaults=Object.create(null),Qd(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);s?t.props=n?i:Sd(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function Pf(t,e,s,n){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,a=Re(i),[l]=t.propsOptions;let u=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let f=d[h];if(jr(t.emitsOptions,f))continue;const m=e[f];if(l)if(Be(r,f))m!==r[f]&&(r[f]=m,u=!0);else{const p=Ft(f);i[p]=Go(l,a,p,m,t,!1)}else m!==r[f]&&(r[f]=m,u=!0)}}}else{Qd(t,e,i,r)&&(u=!0);let d;for(const h in a)(!e||!Be(e,h)&&((d=un(h))===h||!Be(e,d)))&&(l?s&&(s[h]!==void 0||s[d]!==void 0)&&(i[h]=Go(l,a,h,void 0,t,!0)):delete i[h]);if(r!==a)for(const h in r)(!e||!Be(e,h))&&(delete r[h],u=!0)}u&&ps(t.attrs,"set","")}function Qd(t,e,s,n){const[i,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ii(l))continue;const u=e[l];let d;i&&Be(i,d=Ft(l))?!r||!r.includes(d)?s[d]=u:(a||(a={}))[d]=u:jr(t.emitsOptions,l)||(!(l in n)||u!==n[l])&&(n[l]=u,o=!0)}if(r){const l=Re(s),u=a||ze;for(let d=0;d<r.length;d++){const h=r[d];s[h]=Go(i,l,h,u[h],t,!Be(u,h))}}return o}function Go(t,e,s,n,i,r){const o=t[s];if(o!=null){const a=Be(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Se(l)){const{propsDefaults:u}=i;if(s in u)n=u[s];else{const d=Mi(i);n=u[s]=l.call(null,e),d()}}else n=l;i.ce&&i.ce._setProp(s,n)}o[0]&&(r&&!a?n=!1:o[1]&&(n===""||n===un(s))&&(n=!0))}return n}const Tf=new WeakMap;function eu(t,e,s=!1){const n=s?Tf:e.propsCache,i=n.get(t);if(i)return i;const r=t.props,o={},a=[];let l=!1;if(!Se(t)){const d=h=>{l=!0;const[f,m]=eu(h,e,!0);at(o,f),m&&a.push(...m)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!l)return Ge(t)&&n.set(t,Sn),Sn;if(ye(r))for(let d=0;d<r.length;d++){const h=Ft(r[d]);cl(h)&&(o[h]=ze)}else if(r)for(const d in r){const h=Ft(d);if(cl(h)){const f=r[d],m=o[h]=ye(f)||Se(f)?{type:f}:at({},f),p=m.type;let x=!1,v=!0;if(ye(p))for(let y=0;y<p.length;++y){const g=p[y],b=Se(g)&&g.name;if(b==="Boolean"){x=!0;break}else b==="String"&&(v=!1)}else x=Se(p)&&p.name==="Boolean";m[0]=x,m[1]=v,(x||Be(m,"default"))&&a.push(h)}}const u=[o,a];return Ge(t)&&n.set(t,u),u}function cl(t){return t[0]!=="$"&&!ii(t)}const Ta=t=>t==="_"||t==="_ctx"||t==="$stable",Ra=t=>ye(t)?t.map(is):[is(t)],Rf=(t,e,s)=>{if(e._n)return e;const n=pe((...i)=>Ra(e(...i)),s);return n._c=!1,n},tu=(t,e,s)=>{const n=t._ctx;for(const i in t){if(Ta(i))continue;const r=t[i];if(Se(r))e[i]=Rf(i,r,n);else if(r!=null){const o=Ra(r);e[i]=()=>o}}},su=(t,e)=>{const s=Ra(e);t.slots.default=()=>s},nu=(t,e,s)=>{for(const n in e)(s||!Ta(n))&&(t[n]=e[n])},Mf=(t,e,s)=>{const n=t.slots=Jd();if(t.vnode.shapeFlag&32){const i=e._;i?(nu(n,e,s),s&&id(n,"_",i,!0)):tu(e,n)}else e&&su(t,e)},If=(t,e,s)=>{const{vnode:n,slots:i}=t;let r=!0,o=ze;if(n.shapeFlag&32){const a=e._;a?s&&a===1?r=!1:nu(i,e,s):(r=!e.$stable,tu(e,i)),o=e}else e&&(su(t,e),o={default:1});if(r)for(const a in i)!Ta(a)&&o[a]==null&&delete i[a]},Pt=qf;function Of(t){return Lf(t)}function Lf(t,e){const s=Ir();s.__VUE__=!0;const{insert:n,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:u,setElementText:d,parentNode:h,nextSibling:f,setScopeId:m=rs,insertStaticContent:p}=t,x=(S,T,G,K=null,ee=null,Y=null,be=void 0,me=null,fe=!!T.dynamicChildren)=>{if(S===T)return;S&&!Qs(S,T)&&(K=V(S),se(S,ee,Y,!0),S=null),T.patchFlag===-2&&(fe=!1,T.dynamicChildren=null);const{type:ne,ref:_e,shapeFlag:ve}=T;switch(ne){case Fr:v(S,T,G,K);break;case gt:y(S,T,G,K);break;case rr:S==null&&g(T,G,K,be);break;case we:C(S,T,G,K,ee,Y,be,me,fe);break;default:ve&1?O(S,T,G,K,ee,Y,be,me,fe):ve&6?Q(S,T,G,K,ee,Y,be,me,fe):(ve&64||ve&128)&&ne.process(S,T,G,K,ee,Y,be,me,fe,ge)}_e!=null&&ee?ai(_e,S&&S.ref,Y,T||S,!T):_e==null&&S&&S.ref!=null&&ai(S.ref,null,Y,S,!0)},v=(S,T,G,K)=>{if(S==null)n(T.el=a(T.children),G,K);else{const ee=T.el=S.el;T.children!==S.children&&u(ee,T.children)}},y=(S,T,G,K)=>{S==null?n(T.el=l(T.children||""),G,K):T.el=S.el},g=(S,T,G,K)=>{[S.el,S.anchor]=p(S.children,T,G,K,S.el,S.anchor)},b=({el:S,anchor:T},G,K)=>{let ee;for(;S&&S!==T;)ee=f(S),n(S,G,K),S=ee;n(T,G,K)},_=({el:S,anchor:T})=>{let G;for(;S&&S!==T;)G=f(S),i(S),S=G;i(T)},O=(S,T,G,K,ee,Y,be,me,fe)=>{T.type==="svg"?be="svg":T.type==="math"&&(be="mathml"),S==null?z(T,G,K,ee,Y,be,me,fe):D(S,T,ee,Y,be,me,fe)},z=(S,T,G,K,ee,Y,be,me)=>{let fe,ne;const{props:_e,shapeFlag:ve,transition:xe,dirs:Ce}=S;if(fe=S.el=o(S.type,Y,_e&&_e.is,_e),ve&8?d(fe,S.children):ve&16&&A(S.children,fe,null,K,ee,uo(S,Y),be,me),Ce&&qs(S,null,K,"created"),B(fe,S,S.scopeId,be,K),_e){for(const Ve in _e)Ve!=="value"&&!ii(Ve)&&r(fe,Ve,null,_e[Ve],Y,K);"value"in _e&&r(fe,"value",null,_e.value,Y),(ne=_e.onVnodeBeforeMount)&&es(ne,K,S)}Ce&&qs(S,null,K,"beforeMount");const Ie=$f(ee,xe);Ie&&xe.beforeEnter(fe),n(fe,T,G),((ne=_e&&_e.onVnodeMounted)||Ie||Ce)&&Pt(()=>{ne&&es(ne,K,S),Ie&&xe.enter(fe),Ce&&qs(S,null,K,"mounted")},ee)},B=(S,T,G,K,ee)=>{if(G&&m(S,G),K)for(let Y=0;Y<K.length;Y++)m(S,K[Y]);if(ee){let Y=ee.subTree;if(T===Y||cu(Y.type)&&(Y.ssContent===T||Y.ssFallback===T)){const be=ee.vnode;B(S,be,be.scopeId,be.slotScopeIds,ee.parent)}}},A=(S,T,G,K,ee,Y,be,me,fe=0)=>{for(let ne=fe;ne<S.length;ne++){const _e=S[ne]=me?Ls(S[ne]):is(S[ne]);x(null,_e,T,G,K,ee,Y,be,me)}},D=(S,T,G,K,ee,Y,be)=>{const me=T.el=S.el;let{patchFlag:fe,dynamicChildren:ne,dirs:_e}=T;fe|=S.patchFlag&16;const ve=S.props||ze,xe=T.props||ze;let Ce;if(G&&Xs(G,!1),(Ce=xe.onVnodeBeforeUpdate)&&es(Ce,G,T,S),_e&&qs(T,S,G,"beforeUpdate"),G&&Xs(G,!0),(ve.innerHTML&&xe.innerHTML==null||ve.textContent&&xe.textContent==null)&&d(me,""),ne?W(S.dynamicChildren,ne,me,G,K,uo(T,ee),Y):be||R(S,T,me,null,G,K,uo(T,ee),Y,!1),fe>0){if(fe&16)H(me,ve,xe,G,ee);else if(fe&2&&ve.class!==xe.class&&r(me,"class",null,xe.class,ee),fe&4&&r(me,"style",ve.style,xe.style,ee),fe&8){const Ie=T.dynamicProps;for(let Ve=0;Ve<Ie.length;Ve++){const je=Ie[Ve],Ct=ve[je],kt=xe[je];(kt!==Ct||je==="value")&&r(me,je,Ct,kt,ee,G)}}fe&1&&S.children!==T.children&&d(me,T.children)}else!be&&ne==null&&H(me,ve,xe,G,ee);((Ce=xe.onVnodeUpdated)||_e)&&Pt(()=>{Ce&&es(Ce,G,T,S),_e&&qs(T,S,G,"updated")},K)},W=(S,T,G,K,ee,Y,be)=>{for(let me=0;me<T.length;me++){const fe=S[me],ne=T[me],_e=fe.el&&(fe.type===we||!Qs(fe,ne)||fe.shapeFlag&198)?h(fe.el):G;x(fe,ne,_e,null,K,ee,Y,be,!0)}},H=(S,T,G,K,ee)=>{if(T!==G){if(T!==ze)for(const Y in T)!ii(Y)&&!(Y in G)&&r(S,Y,T[Y],null,ee,K);for(const Y in G){if(ii(Y))continue;const be=G[Y],me=T[Y];be!==me&&Y!=="value"&&r(S,Y,me,be,ee,K)}"value"in G&&r(S,"value",T.value,G.value,ee)}},C=(S,T,G,K,ee,Y,be,me,fe)=>{const ne=T.el=S?S.el:a(""),_e=T.anchor=S?S.anchor:a("");let{patchFlag:ve,dynamicChildren:xe,slotScopeIds:Ce}=T;Ce&&(me=me?me.concat(Ce):Ce),S==null?(n(ne,G,K),n(_e,G,K),A(T.children||[],G,_e,ee,Y,be,me,fe)):ve>0&&ve&64&&xe&&S.dynamicChildren?(W(S.dynamicChildren,xe,G,ee,Y,be,me),(T.key!=null||ee&&T===ee.subTree)&&iu(S,T,!0)):R(S,T,G,_e,ee,Y,be,me,fe)},Q=(S,T,G,K,ee,Y,be,me,fe)=>{T.slotScopeIds=me,S==null?T.shapeFlag&512?ee.ctx.activate(T,G,K,be,fe):I(T,G,K,ee,Y,be,fe):q(S,T,fe)},I=(S,T,G,K,ee,Y,be)=>{const me=S.component=Qf(S,K,ee);if($r(S)&&(me.ctx.renderer=ge),ep(me,!1,be),me.asyncDep){if(ee&&ee.registerDep(me,L,be),!S.el){const fe=me.subTree=he(gt);y(null,fe,T,G),S.placeholder=fe.el}}else L(me,S,T,G,ee,Y,be)},q=(S,T,G)=>{const K=T.component=S.component;if(Vf(S,T,G))if(K.asyncDep&&!K.asyncResolved){M(K,T,G);return}else K.next=T,K.update();else T.el=S.el,K.vnode=T},L=(S,T,G,K,ee,Y,be)=>{const me=()=>{if(S.isMounted){let{next:ve,bu:xe,u:Ce,parent:Ie,vnode:Ve}=S;{const Zt=ru(S);if(Zt){ve&&(ve.el=Ve.el,M(S,ve,be)),Zt.asyncDep.then(()=>{S.isUnmounted||me()});return}}let je=ve,Ct;Xs(S,!1),ve?(ve.el=Ve.el,M(S,ve,be)):ve=Ve,xe&&nr(xe),(Ct=ve.props&&ve.props.onVnodeBeforeUpdate)&&es(Ct,Ie,ve,Ve),Xs(S,!0);const kt=ul(S),Jt=S.subTree;S.subTree=kt,x(Jt,kt,h(Jt.el),V(Jt),S,ee,Y),ve.el=kt.el,je===null&&Wf(S,kt.el),Ce&&Pt(Ce,ee),(Ct=ve.props&&ve.props.onVnodeUpdated)&&Pt(()=>es(Ct,Ie,ve,Ve),ee)}else{let ve;const{el:xe,props:Ce}=T,{bm:Ie,m:Ve,parent:je,root:Ct,type:kt}=S,Jt=Pn(T);Xs(S,!1),Ie&&nr(Ie),!Jt&&(ve=Ce&&Ce.onVnodeBeforeMount)&&es(ve,je,T),Xs(S,!0);{Ct.ce&&Ct.ce._def.shadowRoot!==!1&&Ct.ce._injectChildStyle(kt);const Zt=S.subTree=ul(S);x(null,Zt,G,K,S,ee,Y),T.el=Zt.el}if(Ve&&Pt(Ve,ee),!Jt&&(ve=Ce&&Ce.onVnodeMounted)){const Zt=T;Pt(()=>es(ve,je,Zt),ee)}(T.shapeFlag&256||je&&Pn(je.vnode)&&je.vnode.shapeFlag&256)&&S.a&&Pt(S.a,ee),S.isMounted=!0,T=G=K=null}};S.scope.on();const fe=S.effect=new ud(me);S.scope.off();const ne=S.update=fe.run.bind(fe),_e=S.job=fe.runIfDirty.bind(fe);_e.i=S,_e.id=S.uid,fe.scheduler=()=>Aa(_e),Xs(S,!0),ne()},M=(S,T,G)=>{T.component=S;const K=S.vnode.props;S.vnode=T,S.next=null,Pf(S,T.props,K,G),If(S,T.children,G),vs(),tl(S),ys()},R=(S,T,G,K,ee,Y,be,me,fe=!1)=>{const ne=S&&S.children,_e=S?S.shapeFlag:0,ve=T.children,{patchFlag:xe,shapeFlag:Ce}=T;if(xe>0){if(xe&128){X(ne,ve,G,K,ee,Y,be,me,fe);return}else if(xe&256){P(ne,ve,G,K,ee,Y,be,me,fe);return}}Ce&8?(_e&16&&Qe(ne,ee,Y),ve!==ne&&d(G,ve)):_e&16?Ce&16?X(ne,ve,G,K,ee,Y,be,me,fe):Qe(ne,ee,Y,!0):(_e&8&&d(G,""),Ce&16&&A(ve,G,K,ee,Y,be,me,fe))},P=(S,T,G,K,ee,Y,be,me,fe)=>{S=S||Sn,T=T||Sn;const ne=S.length,_e=T.length,ve=Math.min(ne,_e);let xe;for(xe=0;xe<ve;xe++){const Ce=T[xe]=fe?Ls(T[xe]):is(T[xe]);x(S[xe],Ce,G,null,ee,Y,be,me,fe)}ne>_e?Qe(S,ee,Y,!0,!1,ve):A(T,G,K,ee,Y,be,me,fe,ve)},X=(S,T,G,K,ee,Y,be,me,fe)=>{let ne=0;const _e=T.length;let ve=S.length-1,xe=_e-1;for(;ne<=ve&&ne<=xe;){const Ce=S[ne],Ie=T[ne]=fe?Ls(T[ne]):is(T[ne]);if(Qs(Ce,Ie))x(Ce,Ie,G,null,ee,Y,be,me,fe);else break;ne++}for(;ne<=ve&&ne<=xe;){const Ce=S[ve],Ie=T[xe]=fe?Ls(T[xe]):is(T[xe]);if(Qs(Ce,Ie))x(Ce,Ie,G,null,ee,Y,be,me,fe);else break;ve--,xe--}if(ne>ve){if(ne<=xe){const Ce=xe+1,Ie=Ce<_e?T[Ce].el:K;for(;ne<=xe;)x(null,T[ne]=fe?Ls(T[ne]):is(T[ne]),G,Ie,ee,Y,be,me,fe),ne++}}else if(ne>xe)for(;ne<=ve;)se(S[ne],ee,Y,!0),ne++;else{const Ce=ne,Ie=ne,Ve=new Map;for(ne=Ie;ne<=xe;ne++){const At=T[ne]=fe?Ls(T[ne]):is(T[ne]);At.key!=null&&Ve.set(At.key,ne)}let je,Ct=0;const kt=xe-Ie+1;let Jt=!1,Zt=0;const Gn=new Array(kt);for(ne=0;ne<kt;ne++)Gn[ne]=0;for(ne=Ce;ne<=ve;ne++){const At=S[ne];if(Ct>=kt){se(At,ee,Y,!0);continue}let Qt;if(At.key!=null)Qt=Ve.get(At.key);else for(je=Ie;je<=xe;je++)if(Gn[je-Ie]===0&&Qs(At,T[je])){Qt=je;break}Qt===void 0?se(At,ee,Y,!0):(Gn[Qt-Ie]=ne+1,Qt>=Zt?Zt=Qt:Jt=!0,x(At,T[Qt],G,null,ee,Y,be,me,fe),Ct++)}const Xa=Jt?Df(Gn):Sn;for(je=Xa.length-1,ne=kt-1;ne>=0;ne--){const At=Ie+ne,Qt=T[At],Ya=T[At+1],Ka=At+1<_e?Ya.el||Ya.placeholder:K;Gn[ne]===0?x(null,Qt,G,Ka,ee,Y,be,me,fe):Jt&&(je<0||ne!==Xa[je]?ce(Qt,G,Ka,2):je--)}}},ce=(S,T,G,K,ee=null)=>{const{el:Y,type:be,transition:me,children:fe,shapeFlag:ne}=S;if(ne&6){ce(S.component.subTree,T,G,K);return}if(ne&128){S.suspense.move(T,G,K);return}if(ne&64){be.move(S,T,G,ge);return}if(be===we){n(Y,T,G);for(let ve=0;ve<fe.length;ve++)ce(fe[ve],T,G,K);n(S.anchor,T,G);return}if(be===rr){b(S,T,G);return}if(K!==2&&ne&1&&me)if(K===0)me.beforeEnter(Y),n(Y,T,G),Pt(()=>me.enter(Y),ee);else{const{leave:ve,delayLeave:xe,afterLeave:Ce}=me,Ie=()=>{S.ctx.isUnmounted?i(Y):n(Y,T,G)},Ve=()=>{Y._isLeaving&&Y[fs](!0),ve(Y,()=>{Ie(),Ce&&Ce()})};xe?xe(Y,Ie,Ve):Ve()}else n(Y,T,G)},se=(S,T,G,K=!1,ee=!1)=>{const{type:Y,props:be,ref:me,children:fe,dynamicChildren:ne,shapeFlag:_e,patchFlag:ve,dirs:xe,cacheIndex:Ce}=S;if(ve===-2&&(ee=!1),me!=null&&(vs(),ai(me,null,G,S,!0),ys()),Ce!=null&&(T.renderCache[Ce]=void 0),_e&256){T.ctx.deactivate(S);return}const Ie=_e&1&&xe,Ve=!Pn(S);let je;if(Ve&&(je=be&&be.onVnodeBeforeUnmount)&&es(je,T,S),_e&6)De(S.component,G,K);else{if(_e&128){S.suspense.unmount(G,K);return}Ie&&qs(S,null,T,"beforeUnmount"),_e&64?S.type.remove(S,T,G,ge,K):ne&&!ne.hasOnce&&(Y!==we||ve>0&&ve&64)?Qe(ne,T,G,!1,!0):(Y===we&&ve&384||!ee&&_e&16)&&Qe(fe,T,G),K&&N(S)}(Ve&&(je=be&&be.onVnodeUnmounted)||Ie)&&Pt(()=>{je&&es(je,T,S),Ie&&qs(S,null,T,"unmounted")},G)},N=S=>{const{type:T,el:G,anchor:K,transition:ee}=S;if(T===we){oe(G,K);return}if(T===rr){_(S);return}const Y=()=>{i(G),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(S.shapeFlag&1&&ee&&!ee.persisted){const{leave:be,delayLeave:me}=ee,fe=()=>be(G,Y);me?me(S.el,Y,fe):fe()}else Y()},oe=(S,T)=>{let G;for(;S!==T;)G=f(S),i(S),S=G;i(T)},De=(S,T,G)=>{const{bum:K,scope:ee,job:Y,subTree:be,um:me,m:fe,a:ne}=S;dl(fe),dl(ne),K&&nr(K),ee.stop(),Y&&(Y.flags|=8,se(be,S,T,G)),me&&Pt(me,T),Pt(()=>{S.isUnmounted=!0},T)},Qe=(S,T,G,K=!1,ee=!1,Y=0)=>{for(let be=Y;be<S.length;be++)se(S[be],T,G,K,ee)},V=S=>{if(S.shapeFlag&6)return V(S.component.subTree);if(S.shapeFlag&128)return S.suspense.next();const T=f(S.anchor||S.el),G=T&&T[nf];return G?f(G):T};let de=!1;const $=(S,T,G)=>{S==null?T._vnode&&se(T._vnode,null,null,!0):x(T._vnode||null,S,T,null,null,null,G),T._vnode=S,de||(de=!0,tl(),Rd(),de=!1)},ge={p:x,um:se,m:ce,r:N,mt:I,mc:A,pc:R,pbc:W,n:V,o:t};return{render:$,hydrate:void 0,createApp:Sf($)}}function uo({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Xs({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function $f(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function iu(t,e,s=!1){const n=t.children,i=e.children;if(ye(n)&&ye(i))for(let r=0;r<n.length;r++){const o=n[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=Ls(i[r]),a.el=o.el),!s&&a.patchFlag!==-2&&iu(o,a)),a.type===Fr&&a.patchFlag!==-1&&(a.el=o.el),a.type===gt&&!a.el&&(a.el=o.el)}}function Df(t){const e=t.slice(),s=[0];let n,i,r,o,a;const l=t.length;for(n=0;n<l;n++){const u=t[n];if(u!==0){if(i=s[s.length-1],t[i]<u){e[n]=i,s.push(n);continue}for(r=0,o=s.length-1;r<o;)a=r+o>>1,t[s[a]]<u?r=a+1:o=a;u<t[s[r]]&&(r>0&&(e[n]=s[r-1]),s[r]=n)}}for(r=s.length,o=s[r-1];r-- >0;)s[r]=o,o=e[o];return s}function ru(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ru(e)}function dl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Nf=Symbol.for("v-scx"),Bf=()=>Ot(Nf);function ct(t,e,s){return ou(t,e,s)}function ou(t,e,s=ze){const{immediate:n,deep:i,flush:r,once:o}=s,a=at({},s),l=e&&n||!e&&r!=="post";let u;if(Ci){if(r==="sync"){const m=Bf();u=m.__watcherHandles||(m.__watcherHandles=[])}else if(!l){const m=()=>{};return m.stop=rs,m.resume=rs,m.pause=rs,m}}const d=bt;a.call=(m,p,x)=>Wt(m,d,p,x);let h=!1;r==="post"?a.scheduler=m=>{Pt(m,d&&d.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(m,p)=>{p?m():Aa(m)}),a.augmentJob=m=>{e&&(m.flags|=4),h&&(m.flags|=2,d&&(m.id=d.uid,m.i=d))};const f=Q0(t,e,a);return Ci&&(u?u.push(f):l&&f()),f}function jf(t,e,s){const n=this.proxy,i=st(t)?t.includes(".")?au(n,t):()=>n[t]:t.bind(n,n);let r;Se(e)?r=e:(r=e.handler,s=e);const o=Mi(this),a=ou(i,r.bind(n),s);return o(),a}function au(t,e){const s=e.split(".");return()=>{let n=t;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const Ff=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ft(e)}Modifiers`]||t[`${un(e)}Modifiers`];function Gf(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||ze;let i=s;const r=e.startsWith("update:"),o=r&&Ff(n,e.slice(7));o&&(o.trim&&(i=s.map(d=>st(d)?d.trim():d)),o.number&&(i=s.map(pr)));let a,l=n[a=sr(e)]||n[a=sr(Ft(e))];!l&&r&&(l=n[a=sr(un(e))]),l&&Wt(l,t,6,i);const u=n[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Wt(u,t,6,i)}}const zf=new WeakMap;function lu(t,e,s=!1){const n=s?zf:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const r=t.emits;let o={},a=!1;if(!Se(t)){const l=u=>{const d=lu(u,e,!0);d&&(a=!0,at(o,d))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Ge(t)&&n.set(t,null),null):(ye(r)?r.forEach(l=>o[l]=null):at(o,r),Ge(t)&&n.set(t,o),o)}function jr(t,e){return!t||!Tr(e)?!1:(e=e.slice(2).replace(/Once$/,""),Be(t,e[0].toLowerCase()+e.slice(1))||Be(t,un(e))||Be(t,e))}function ul(t){const{type:e,vnode:s,proxy:n,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:u,renderCache:d,props:h,data:f,setupState:m,ctx:p,inheritAttrs:x}=t,v=yr(t);let y,g;try{if(s.shapeFlag&4){const _=i||n,O=_;y=is(u.call(O,_,d,h,m,f,p)),g=a}else{const _=e;y=is(_.length>1?_(h,{attrs:a,slots:o,emit:l}):_(h,null)),g=e.props?a:Hf(a)}}catch(_){ci.length=0,Lr(_,t,1),y=he(gt)}let b=y;if(g&&x!==!1){const _=Object.keys(g),{shapeFlag:O}=b;_.length&&O&7&&(r&&_.some(ma)&&(g=Uf(g,r)),b=Fs(b,g,!1,!0))}return s.dirs&&(b=Fs(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(s.dirs):s.dirs),s.transition&&cn(b,s.transition),y=b,yr(v),y}const Hf=t=>{let e;for(const s in t)(s==="class"||s==="style"||Tr(s))&&((e||(e={}))[s]=t[s]);return e},Uf=(t,e)=>{const s={};for(const n in t)(!ma(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Vf(t,e,s){const{props:n,children:i,component:r}=t,{props:o,children:a,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?hl(n,o,u):!!o;if(l&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const f=d[h];if(o[f]!==n[f]&&!jr(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?hl(n,o,u):!0:!!o;return!1}function hl(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const r=n[i];if(e[r]!==t[r]&&!jr(s,r))return!0}return!1}function Wf({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const cu=t=>t.__isSuspense;function qf(t,e){e&&e.pendingBranch?ye(t)?e.effects.push(...t):e.effects.push(t):sf(t)}const we=Symbol.for("v-fgt"),Fr=Symbol.for("v-txt"),gt=Symbol.for("v-cmt"),rr=Symbol.for("v-stc"),ci=[];let It=null;function w(t=!1){ci.push(It=t?null:[])}function Xf(){ci.pop(),It=ci[ci.length-1]||null}let _i=1;function wr(t,e=!1){_i+=t,t<0&&It&&e&&(It.hasOnce=!0)}function du(t){return t.dynamicChildren=_i>0?It||Sn:null,Xf(),_i>0&&It&&It.push(t),t}function E(t,e,s,n,i,r){return du(c(t,e,s,n,i,r,!0))}function Ye(t,e,s,n,i){return du(he(t,e,s,n,i,!0))}function wi(t){return t?t.__v_isVNode===!0:!1}function Qs(t,e){return t.type===e.type&&t.key===e.key}const uu=({key:t})=>t??null,or=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?st(t)||it(t)||Se(t)?{i:ft,r:t,k:e,f:!!s}:t:null);function c(t,e=null,s=null,n=0,i=null,r=t===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&uu(e),ref:e&&or(e),scopeId:Id,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:ft};return a?(Ma(l,s),r&128&&t.normalize(l)):s&&(l.shapeFlag|=st(s)?8:16),_i>0&&!o&&It&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&It.push(l),l}const he=Yf;function Yf(t,e=null,s=null,n=0,i=null,r=!1){if((!t||t===Ud)&&(t=gt),wi(t)){const a=Fs(t,e,!0);return s&&Ma(a,s),_i>0&&!r&&It&&(a.shapeFlag&6?It[It.indexOf(t)]=a:It.push(a)),a.patchFlag=-2,a}if(rp(t)&&(t=t.__vccOpts),e){e=Kf(e);let{class:a,style:l}=e;a&&!st(a)&&(e.class=re(a)),Ge(l)&&(Sa(l)&&!ye(l)&&(l=at({},l)),e.style=zs(l))}const o=st(t)?1:cu(t)?128:Od(t)?64:Ge(t)?4:Se(t)?2:0;return c(t,e,s,n,i,o,r,!0)}function Kf(t){return t?Sa(t)||Zd(t)?at({},t):t:null}function Fs(t,e,s=!1,n=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=t,u=e?Gr(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&uu(u),ref:e&&e.ref?s&&r?ye(r)?r.concat(or(e)):[r,or(e)]:or(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==we?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fs(t.ssContent),ssFallback:t.ssFallback&&Fs(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&cn(d,l.clone(d)),d}function J(t=" ",e=0){return he(Fr,null,t,e)}function dt(t,e){const s=he(rr,null,t);return s.staticCount=e,s}function Z(t="",e=!1){return e?(w(),Ye(gt,null,t)):he(gt,null,t)}function is(t){return t==null||typeof t=="boolean"?he(gt):ye(t)?he(we,null,t.slice()):wi(t)?Ls(t):he(Fr,null,String(t))}function Ls(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Fs(t)}function Ma(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ye(e))s=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),Ma(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!Zd(e)?e._ctx=ft:i===3&&ft&&(ft.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Se(e)?(e={default:e,_ctx:ft},s=32):(e=String(e),n&64?(s=16,e=[J(e)]):s=8);t.children=e,t.shapeFlag|=s}function Gr(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=re([e.class,n.class]));else if(i==="style")e.style=zs([e.style,n.style]);else if(Tr(i)){const r=e[i],o=n[i];o&&r!==o&&!(ye(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=n[i])}return e}function es(t,e,s,n=null){Wt(t,e,7,[s,n])}const Jf=Yd();let Zf=0;function Qf(t,e,s){const n=t.type,i=(e?e.appContext:t.appContext)||Jf,r={uid:Zf++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ld(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:eu(n,i),emitsOptions:lu(n,i),emit:null,emitted:null,propsDefaults:ze,inheritAttrs:n.inheritAttrs,ctx:ze,data:ze,props:ze,attrs:ze,slots:ze,refs:ze,setupState:ze,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Gf.bind(null,r),t.ce&&t.ce(r),r}let bt=null;const Ri=()=>bt||ft;let Cr,zo;{const t=Ir(),e=(s,n)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(n),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Cr=e("__VUE_INSTANCE_SETTERS__",s=>bt=s),zo=e("__VUE_SSR_SETTERS__",s=>Ci=s)}const Mi=t=>{const e=bt;return Cr(t),t.scope.on(),()=>{t.scope.off(),Cr(e)}},fl=()=>{bt&&bt.scope.off(),Cr(null)};function hu(t){return t.vnode.shapeFlag&4}let Ci=!1;function ep(t,e=!1,s=!1){e&&zo(e);const{props:n,children:i}=t.vnode,r=hu(t);Af(t,n,r,e),Mf(t,i,s||e);const o=r?tp(t,e):void 0;return e&&zo(!1),o}function tp(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,vf);const{setup:n}=s;if(n){vs();const i=t.setupContext=n.length>1?np(t):null,r=Mi(t),o=Ti(n,t,0,[t.props,i]),a=td(o);if(ys(),r(),(a||t.sp)&&!Pn(t)&&jd(t),a){if(o.then(fl,fl),e)return o.then(l=>{pl(t,l)}).catch(l=>{Lr(l,t,0)});t.asyncDep=o}else pl(t,o)}else fu(t)}function pl(t,e,s){Se(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ge(e)&&(t.setupState=Ad(e)),fu(t)}function fu(t,e,s){const n=t.type;t.render||(t.render=n.render||rs);{const i=Mi(t);vs();try{yf(t)}finally{ys(),i()}}}const sp={get(t,e){return mt(t,"get",""),t[e]}};function np(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,sp),slots:t.slots,emit:t.emit,expose:e}}function zr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Ad(Ea(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in li)return li[s](t)},has(e,s){return s in e||s in li}})):t.proxy}function ip(t,e=!0){return Se(t)?t.displayName||t.name:t.name||e&&t.__name}function rp(t){return Se(t)&&"__vccOpts"in t}const ke=(t,e)=>J0(t,e,Ci);function Ia(t,e,s){try{wr(-1);const n=arguments.length;return n===2?Ge(e)&&!ye(e)?wi(e)?he(t,null,[e]):he(t,e):he(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&wi(s)&&(s=[s]),he(t,e,s))}finally{wr(1)}}const op="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ho;const ml=typeof window<"u"&&window.trustedTypes;if(ml)try{Ho=ml.createPolicy("vue",{createHTML:t=>t})}catch{}const pu=Ho?t=>Ho.createHTML(t):t=>t,ap="http://www.w3.org/2000/svg",lp="http://www.w3.org/1998/Math/MathML",hs=typeof document<"u"?document:null,gl=hs&&hs.createElement("template"),cp={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const i=e==="svg"?hs.createElementNS(ap,t):e==="mathml"?hs.createElementNS(lp,t):s?hs.createElement(t,{is:s}):hs.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>hs.createTextNode(t),createComment:t=>hs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>hs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,i,r){const o=s?s.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===r||!(i=i.nextSibling)););else{gl.innerHTML=pu(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=gl.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Es="transition",Hn="animation",Tn=Symbol("_vtc"),mu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},gu=at({},$d,mu),dp=t=>(t.displayName="Transition",t.props=gu,t),ho=dp((t,{slots:e})=>Ia(of,bu(t),e)),Ys=(t,e=[])=>{ye(t)?t.forEach(s=>s(...e)):t&&t(...e)},bl=t=>t?ye(t)?t.some(e=>e.length>1):t.length>1:!1;function bu(t){const e={};for(const C in t)C in mu||(e[C]=t[C]);if(t.css===!1)return e;const{name:s="v",type:n,duration:i,enterFromClass:r=`${s}-enter-from`,enterActiveClass:o=`${s}-enter-active`,enterToClass:a=`${s}-enter-to`,appearFromClass:l=r,appearActiveClass:u=o,appearToClass:d=a,leaveFromClass:h=`${s}-leave-from`,leaveActiveClass:f=`${s}-leave-active`,leaveToClass:m=`${s}-leave-to`}=t,p=up(i),x=p&&p[0],v=p&&p[1],{onBeforeEnter:y,onEnter:g,onEnterCancelled:b,onLeave:_,onLeaveCancelled:O,onBeforeAppear:z=y,onAppear:B=g,onAppearCancelled:A=b}=e,D=(C,Q,I,q)=>{C._enterCancelled=q,Ts(C,Q?d:a),Ts(C,Q?u:o),I&&I()},W=(C,Q)=>{C._isLeaving=!1,Ts(C,h),Ts(C,m),Ts(C,f),Q&&Q()},H=C=>(Q,I)=>{const q=C?B:g,L=()=>D(Q,C,I);Ys(q,[Q,L]),vl(()=>{Ts(Q,C?l:r),ss(Q,C?d:a),bl(q)||yl(Q,n,x,L)})};return at(e,{onBeforeEnter(C){Ys(y,[C]),ss(C,r),ss(C,o)},onBeforeAppear(C){Ys(z,[C]),ss(C,l),ss(C,u)},onEnter:H(!1),onAppear:H(!0),onLeave(C,Q){C._isLeaving=!0;const I=()=>W(C,Q);ss(C,h),C._enterCancelled?(ss(C,f),Uo(C)):(Uo(C),ss(C,f)),vl(()=>{C._isLeaving&&(Ts(C,h),ss(C,m),bl(_)||yl(C,n,v,I))}),Ys(_,[C,I])},onEnterCancelled(C){D(C,!1,void 0,!0),Ys(b,[C])},onAppearCancelled(C){D(C,!0,void 0,!0),Ys(A,[C])},onLeaveCancelled(C){W(C),Ys(O,[C])}})}function up(t){if(t==null)return null;if(Ge(t))return[fo(t.enter),fo(t.leave)];{const e=fo(t);return[e,e]}}function fo(t){return g0(t)}function ss(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Tn]||(t[Tn]=new Set)).add(e)}function Ts(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const s=t[Tn];s&&(s.delete(e),s.size||(t[Tn]=void 0))}function vl(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let hp=0;function yl(t,e,s,n){const i=t._endId=++hp,r=()=>{i===t._endId&&n()};if(s!=null)return setTimeout(r,s);const{type:o,timeout:a,propCount:l}=vu(t,e);if(!o)return n();const u=o+"end";let d=0;const h=()=>{t.removeEventListener(u,f),r()},f=m=>{m.target===t&&++d>=l&&h()};setTimeout(()=>{d<l&&h()},a+1),t.addEventListener(u,f)}function vu(t,e){const s=window.getComputedStyle(t),n=p=>(s[p]||"").split(", "),i=n(`${Es}Delay`),r=n(`${Es}Duration`),o=xl(i,r),a=n(`${Hn}Delay`),l=n(`${Hn}Duration`),u=xl(a,l);let d=null,h=0,f=0;e===Es?o>0&&(d=Es,h=o,f=r.length):e===Hn?u>0&&(d=Hn,h=u,f=l.length):(h=Math.max(o,u),d=h>0?o>u?Es:Hn:null,f=d?d===Es?r.length:l.length:0);const m=d===Es&&/\b(?:transform|all)(?:,|$)/.test(n(`${Es}Property`).toString());return{type:d,timeout:h,propCount:f,hasTransform:m}}function xl(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((s,n)=>_l(s)+_l(t[n])))}function _l(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Uo(t){return(t?t.ownerDocument:document).body.offsetHeight}function fp(t,e,s){const n=t[Tn];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const kr=Symbol("_vod"),yu=Symbol("_vsh"),Un={name:"show",beforeMount(t,{value:e},{transition:s}){t[kr]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Vn(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),Vn(t,!0),n.enter(t)):n.leave(t,()=>{Vn(t,!1)}):Vn(t,e))},beforeUnmount(t,{value:e}){Vn(t,e)}};function Vn(t,e){t.style.display=e?t[kr]:"none",t[yu]=!e}const pp=Symbol(""),mp=/(?:^|;)\s*display\s*:/;function gp(t,e,s){const n=t.style,i=st(s);let r=!1;if(s&&!i){if(e)if(st(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&ar(n,a,"")}else for(const o in e)s[o]==null&&ar(n,o,"");for(const o in s)o==="display"&&(r=!0),ar(n,o,s[o])}else if(i){if(e!==s){const o=n[pp];o&&(s+=";"+o),n.cssText=s,r=mp.test(s)}}else e&&t.removeAttribute("style");kr in t&&(t[kr]=r?n.display:"",t[yu]&&(n.display="none"))}const wl=/\s*!important$/;function ar(t,e,s){if(ye(s))s.forEach(n=>ar(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=bp(t,e);wl.test(s)?t.setProperty(un(n),s.replace(wl,""),"important"):t[n]=s}}const Cl=["Webkit","Moz","ms"],po={};function bp(t,e){const s=po[e];if(s)return s;let n=Ft(e);if(n!=="filter"&&n in t)return po[e]=n;n=Mr(n);for(let i=0;i<Cl.length;i++){const r=Cl[i]+n;if(r in t)return po[e]=r}return e}const kl="http://www.w3.org/1999/xlink";function Sl(t,e,s,n,i,r=w0(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(kl,e.slice(6,e.length)):t.setAttributeNS(kl,e,s):s==null||r&&!rd(s)?t.removeAttribute(e):t.setAttribute(e,r?"":Vt(s)?String(s):s)}function El(t,e,s,n,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?pu(s):s);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=rd(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(i||e)}function gs(t,e,s,n){t.addEventListener(e,s,n)}function vp(t,e,s,n){t.removeEventListener(e,s,n)}const Al=Symbol("_vei");function yp(t,e,s,n,i=null){const r=t[Al]||(t[Al]={}),o=r[e];if(n&&o)o.value=n;else{const[a,l]=xp(e);if(n){const u=r[e]=Cp(n,i);gs(t,a,u,l)}else o&&(vp(t,a,o,l),r[e]=void 0)}}const Pl=/(?:Once|Passive|Capture)$/;function xp(t){let e;if(Pl.test(t)){e={};let n;for(;n=t.match(Pl);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):un(t.slice(2)),e]}let mo=0;const _p=Promise.resolve(),wp=()=>mo||(_p.then(()=>mo=0),mo=Date.now());function Cp(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Wt(kp(n,s.value),e,5,[n])};return s.value=t,s.attached=wp(),s}function kp(t,e){if(ye(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const Tl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Sp=(t,e,s,n,i,r)=>{const o=i==="svg";e==="class"?fp(t,n,o):e==="style"?gp(t,s,n):Tr(e)?ma(e)||yp(t,e,s,n,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Ep(t,e,n,o))?(El(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Sl(t,e,n,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!st(n))?El(t,Ft(e),n,r,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Sl(t,e,n,o))};function Ep(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Tl(e)&&Se(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Tl(e)&&st(s)?!1:e in t}const xu=new WeakMap,_u=new WeakMap,Sr=Symbol("_moveCb"),Rl=Symbol("_enterCb"),Ap=t=>(delete t.props.mode,t),Pp=Ap({name:"TransitionGroup",props:at({},gu,{tag:String,moveClass:String}),setup(t,{slots:e}){const s=Ri(),n=Ld();let i,r;return Gd(()=>{if(!i.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!Op(i[0].el,s.vnode.el,o)){i=[];return}i.forEach(Rp),i.forEach(Mp);const a=i.filter(Ip);Uo(s.vnode.el),a.forEach(l=>{const u=l.el,d=u.style;ss(u,o),d.transform=d.webkitTransform=d.transitionDuration="";const h=u[Sr]=f=>{f&&f.target!==u||(!f||f.propertyName.endsWith("transform"))&&(u.removeEventListener("transitionend",h),u[Sr]=null,Ts(u,o))};u.addEventListener("transitionend",h)}),i=[]}),()=>{const o=Re(t),a=bu(o);let l=o.tag||we;if(i=[],r)for(let u=0;u<r.length;u++){const d=r[u];d.el&&d.el instanceof Element&&(i.push(d),cn(d,xi(d,a,n,s)),xu.set(d,d.el.getBoundingClientRect()))}r=e.default?Pa(e.default()):[];for(let u=0;u<r.length;u++){const d=r[u];d.key!=null&&cn(d,xi(d,a,n,s))}return he(l,null,r)}}}),Tp=Pp;function Rp(t){const e=t.el;e[Sr]&&e[Sr](),e[Rl]&&e[Rl]()}function Mp(t){_u.set(t,t.el.getBoundingClientRect())}function Ip(t){const e=xu.get(t),s=_u.get(t),n=e.left-s.left,i=e.top-s.top;if(n||i){const r=t.el.style;return r.transform=r.webkitTransform=`translate(${n}px,${i}px)`,r.transitionDuration="0s",t}}function Op(t,e,s){const n=t.cloneNode(),i=t[Tn];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),s.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const r=e.nodeType===1?e:e.parentNode;r.appendChild(n);const{hasTransform:o}=vu(n);return r.removeChild(n),o}const Gs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ye(e)?s=>nr(e,s):e};function Lp(t){t.target.composing=!0}function Ml(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const jt=Symbol("_assign"),Ze={created(t,{modifiers:{lazy:e,trim:s,number:n}},i){t[jt]=Gs(i);const r=n||i.props&&i.props.type==="number";gs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),r&&(a=pr(a)),t[jt](a)}),s&&gs(t,"change",()=>{t.value=t.value.trim()}),e||(gs(t,"compositionstart",Lp),gs(t,"compositionend",Ml),gs(t,"change",Ml))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:i,number:r}},o){if(t[jt]=Gs(o),t.composing)return;const a=(r||t.type==="number")&&!/^0\d/.test(t.value)?pr(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||i&&t.value.trim()===l)||(t.value=l))}},Rn={deep:!0,created(t,e,s){t[jt]=Gs(s),gs(t,"change",()=>{const n=t._modelValue,i=Mn(t),r=t.checked,o=t[jt];if(ye(n)){const a=va(n,i),l=a!==-1;if(r&&!l)o(n.concat(i));else if(!r&&l){const u=[...n];u.splice(a,1),o(u)}}else if(Dn(n)){const a=new Set(n);r?a.add(i):a.delete(i),o(a)}else o(wu(t,r))})},mounted:Il,beforeUpdate(t,e,s){t[jt]=Gs(s),Il(t,e,s)}};function Il(t,{value:e,oldValue:s},n){t._modelValue=e;let i;if(ye(e))i=va(e,n.props.value)>-1;else if(Dn(e))i=e.has(n.props.value);else{if(e===s)return;i=ln(e,wu(t,!0))}t.checked!==i&&(t.checked=i)}const $p={created(t,{value:e},s){t.checked=ln(e,s.props.value),t[jt]=Gs(s),gs(t,"change",()=>{t[jt](Mn(t))})},beforeUpdate(t,{value:e,oldValue:s},n){t[jt]=Gs(n),e!==s&&(t.checked=ln(e,n.props.value))}},di={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const i=Dn(e);gs(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?pr(Mn(o)):Mn(o));t[jt](t.multiple?i?new Set(r):r:r[0]),t._assigning=!0,Nn(()=>{t._assigning=!1})}),t[jt]=Gs(n)},mounted(t,{value:e}){Ol(t,e)},beforeUpdate(t,e,s){t[jt]=Gs(s)},updated(t,{value:e}){t._assigning||Ol(t,e)}};function Ol(t,e){const s=t.multiple,n=ye(e);if(!(s&&!n&&!Dn(e))){for(let i=0,r=t.options.length;i<r;i++){const o=t.options[i],a=Mn(o);if(s)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(u=>String(u)===String(a)):o.selected=va(e,a)>-1}else o.selected=e.has(a);else if(ln(Mn(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Mn(t){return"_value"in t?t._value:t.value}function wu(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const ki={created(t,e,s){Hi(t,e,s,null,"created")},mounted(t,e,s){Hi(t,e,s,null,"mounted")},beforeUpdate(t,e,s,n){Hi(t,e,s,n,"beforeUpdate")},updated(t,e,s,n){Hi(t,e,s,n,"updated")}};function Dp(t,e){switch(t){case"SELECT":return di;case"TEXTAREA":return Ze;default:switch(e){case"checkbox":return Rn;case"radio":return $p;default:return Ze}}}function Hi(t,e,s,n,i){const o=Dp(t.tagName,s.props&&s.props.type)[i];o&&o(t,e,s,n)}const Np=["ctrl","shift","alt","meta"],Bp={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Np.some(s=>t[`${s}Key`]&&!e.includes(s))},Ee=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(i,...r)=>{for(let o=0;o<e.length;o++){const a=Bp[e[o]];if(a&&a(i,e))return}return t(i,...r)})},jp=at({patchProp:Sp},cp);let Ll;function Fp(){return Ll||(Ll=Of(jp))}const Cu=(...t)=>{const e=Fp().createApp(...t),{mount:s}=e;return e.mount=n=>{const i=zp(n);if(!i)return;const r=e._component;!Se(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=s(i,!1,Gp(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function Gp(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function zp(t){return st(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let ku;const Hr=t=>ku=t,Su=Symbol();function Vo(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ui;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ui||(ui={}));function Hp(){const t=cd(!0),e=t.run(()=>ie({}));let s=[],n=[];const i=Ea({install(r){Hr(i),i._a=r,r.provide(Su,i),r.config.globalProperties.$pinia=i,n.forEach(o=>s.push(o)),n=[]},use(r){return this._a?s.push(r):n.push(r),this},_p:s,_a:null,_e:t,_s:new Map,state:e});return i}const Eu=()=>{};function $l(t,e,s,n=Eu){t.push(e);const i=()=>{const r=t.indexOf(e);r>-1&&(t.splice(r,1),n())};return!s&&dd()&&k0(i),i}function vn(t,...e){t.slice().forEach(s=>{s(...e)})}const Up=t=>t(),Dl=Symbol(),go=Symbol();function Wo(t,e){t instanceof Map&&e instanceof Map?e.forEach((s,n)=>t.set(n,s)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const s in e){if(!e.hasOwnProperty(s))continue;const n=e[s],i=t[s];Vo(i)&&Vo(n)&&t.hasOwnProperty(s)&&!it(n)&&!Bs(n)?t[s]=Wo(i,n):t[s]=n}return t}const Vp=Symbol();function Wp(t){return!Vo(t)||!t.hasOwnProperty(Vp)}const{assign:Rs}=Object;function qp(t){return!!(it(t)&&t.effect)}function Xp(t,e,s,n){const{state:i,actions:r,getters:o}=e,a=s.state.value[t];let l;function u(){a||(s.state.value[t]=i?i():{});const d=q0(s.state.value[t]);return Rs(d,r,Object.keys(o||{}).reduce((h,f)=>(h[f]=Ea(ke(()=>{Hr(s);const m=s._s.get(t);return o[f].call(m,m)})),h),{}))}return l=Au(t,u,e,s,n,!0),l}function Au(t,e,s={},n,i,r){let o;const a=Rs({actions:{}},s),l={deep:!0};let u,d,h=[],f=[],m;const p=n.state.value[t];!r&&!p&&(n.state.value[t]={}),ie({});let x;function v(A){let D;u=d=!1,typeof A=="function"?(A(n.state.value[t]),D={type:ui.patchFunction,storeId:t,events:m}):(Wo(n.state.value[t],A),D={type:ui.patchObject,payload:A,storeId:t,events:m});const W=x=Symbol();Nn().then(()=>{x===W&&(u=!0)}),d=!0,vn(h,D,n.state.value[t])}const y=r?function(){const{state:D}=s,W=D?D():{};this.$patch(H=>{Rs(H,W)})}:Eu;function g(){o.stop(),h=[],f=[],n._s.delete(t)}const b=(A,D="")=>{if(Dl in A)return A[go]=D,A;const W=function(){Hr(n);const H=Array.from(arguments),C=[],Q=[];function I(M){C.push(M)}function q(M){Q.push(M)}vn(f,{args:H,name:W[go],store:O,after:I,onError:q});let L;try{L=A.apply(this&&this.$id===t?this:O,H)}catch(M){throw vn(Q,M),M}return L instanceof Promise?L.then(M=>(vn(C,M),M)).catch(M=>(vn(Q,M),Promise.reject(M))):(vn(C,L),L)};return W[Dl]=!0,W[go]=D,W},_={_p:n,$id:t,$onAction:$l.bind(null,f),$patch:v,$reset:y,$subscribe(A,D={}){const W=$l(h,A,D.detached,()=>H()),H=o.run(()=>ct(()=>n.state.value[t],C=>{(D.flush==="sync"?d:u)&&A({storeId:t,type:ui.direct,events:m},C)},Rs({},l,D)));return W},$dispose:g},O=He(_);n._s.set(t,O);const B=(n._a&&n._a.runWithContext||Up)(()=>n._e.run(()=>(o=cd()).run(()=>e({action:b}))));for(const A in B){const D=B[A];if(it(D)&&!qp(D)||Bs(D))r||(p&&Wp(D)&&(it(D)?D.value=p[A]:Wo(D,p[A])),n.state.value[t][A]=D);else if(typeof D=="function"){const W=b(D,A);B[A]=W,a.actions[A]=D}}return Rs(O,B),Rs(Re(O),B),Object.defineProperty(O,"$state",{get:()=>n.state.value[t],set:A=>{v(D=>{Rs(D,A)})}}),n._p.forEach(A=>{Rs(O,o.run(()=>A({store:O,app:n._a,pinia:n,options:a})))}),p&&r&&s.hydrate&&s.hydrate(O.$state,p),u=!0,d=!0,O}/*! #__NO_SIDE_EFFECTS__ */function Oa(t,e,s){let n,i;const r=typeof e=="function";typeof t=="string"?(n=t,i=r?s:e):(i=t,n=t.id);function o(a,l){const u=Ef();return a=a||(u?Ot(Su,null):null),a&&Hr(a),a=ku,a._s.has(n)||(r?Au(n,e,i,a):Xp(n,i,a)),a._s.get(n)}return o.$id=n,o}var Yp=Object.defineProperty,Nl=Object.getOwnPropertySymbols,Kp=Object.prototype.hasOwnProperty,Jp=Object.prototype.propertyIsEnumerable,Bl=(t,e,s)=>e in t?Yp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Pu=(t,e)=>{for(var s in e||(e={}))Kp.call(e,s)&&Bl(t,s,e[s]);if(Nl)for(var s of Nl(e))Jp.call(e,s)&&Bl(t,s,e[s]);return t},Ur=t=>typeof t=="function",Vr=t=>typeof t=="string",Tu=t=>Vr(t)&&t.trim().length>0,Zp=t=>typeof t=="number",en=t=>typeof t>"u",Si=t=>typeof t=="object"&&t!==null,Qp=t=>os(t,"tag")&&Tu(t.tag),Ru=t=>window.TouchEvent&&t instanceof TouchEvent,Mu=t=>os(t,"component")&&Iu(t.component),e1=t=>Ur(t)||Si(t),Iu=t=>!en(t)&&(Vr(t)||e1(t)||Mu(t)),jl=t=>Si(t)&&["height","width","right","left","top","bottom"].every(e=>Zp(t[e])),os=(t,e)=>(Si(t)||Ur(t))&&e in t,t1=(t=>()=>t++)(0);function bo(t){return Ru(t)?t.targetTouches[0].clientX:t.clientX}function Fl(t){return Ru(t)?t.targetTouches[0].clientY:t.clientY}var s1=t=>{en(t.remove)?t.parentNode&&t.parentNode.removeChild(t):t.remove()},Ii=t=>Mu(t)?Ii(t.component):Qp(t)?xs({render(){return t}}):typeof t=="string"?t:Re(Oe(t)),n1=t=>{if(typeof t=="string")return t;const e=os(t,"props")&&Si(t.props)?t.props:{},s=os(t,"listeners")&&Si(t.listeners)?t.listeners:{};return{component:Ii(t),props:e,listeners:s}},i1=()=>typeof window<"u",La=class{constructor(){this.allHandlers={}}getHandlers(t){return this.allHandlers[t]||[]}on(t,e){const s=this.getHandlers(t);s.push(e),this.allHandlers[t]=s}off(t,e){const s=this.getHandlers(t);s.splice(s.indexOf(e)>>>0,1)}emit(t,e){this.getHandlers(t).forEach(n=>n(e))}},r1=t=>["on","off","emit"].every(e=>os(t,e)&&Ur(t[e])),Tt;(function(t){t.SUCCESS="success",t.ERROR="error",t.WARNING="warning",t.INFO="info",t.DEFAULT="default"})(Tt||(Tt={}));var Er;(function(t){t.TOP_LEFT="top-left",t.TOP_CENTER="top-center",t.TOP_RIGHT="top-right",t.BOTTOM_LEFT="bottom-left",t.BOTTOM_CENTER="bottom-center",t.BOTTOM_RIGHT="bottom-right"})(Er||(Er={}));var Rt;(function(t){t.ADD="add",t.DISMISS="dismiss",t.UPDATE="update",t.CLEAR="clear",t.UPDATE_DEFAULTS="update_defaults"})(Rt||(Rt={}));var Ht="Vue-Toastification",zt={type:{type:String,default:Tt.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},Ou={type:zt.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},lr={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:zt.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},qo={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},Lu={transition:{type:[Object,String],default:`${Ht}__bounce`}},o1={position:{type:String,default:Er.TOP_RIGHT},draggable:zt.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:zt.trueBoolean,pauseOnHover:zt.trueBoolean,closeOnClick:zt.trueBoolean,timeout:qo.timeout,hideProgressBar:qo.hideProgressBar,toastClassName:zt.classNames,bodyClassName:zt.classNames,icon:Ou.customIcon,closeButton:lr.component,closeButtonClassName:lr.classNames,showCloseButtonOnHover:lr.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new La}},a1={id:{type:[String,Number],required:!0,default:0},type:zt.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},l1={container:{type:[Object,Function],default:()=>document.body},newestOnTop:zt.trueBoolean,maxToasts:{type:Number,default:20},transition:Lu.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:t=>t},filterToasts:{type:Function,default:t=>t},containerClassName:zt.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},bs={CORE_TOAST:o1,TOAST:a1,CONTAINER:l1,PROGRESS_BAR:qo,ICON:Ou,TRANSITION:Lu,CLOSE_BUTTON:lr},$u=xs({name:"VtProgressBar",props:bs.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Ht}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function c1(t,e){return w(),E("div",{style:zs(t.style),class:re(t.cpClass)},null,6)}$u.render=c1;var d1=$u,Du=xs({name:"VtCloseButton",props:bs.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?Ii(this.component):"button"},classes(){const t=[`${Ht}__close-button`];return this.showOnHover&&t.push("show-on-hover"),t.concat(this.classNames)}}}),u1=J("  ");function h1(t,e){return w(),Ye(Br(t.buttonComponent),Gr({"aria-label":t.ariaLabel,class:t.classes},t.$attrs),{default:pe(()=>[u1]),_:1},16,["aria-label","class"])}Du.render=h1;var f1=Du,Nu={},p1={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},m1=c("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),g1=[m1];function b1(t,e){return w(),E("svg",p1,g1)}Nu.render=b1;var v1=Nu,Bu={},y1={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},x1=c("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),_1=[x1];function w1(t,e){return w(),E("svg",y1,_1)}Bu.render=w1;var Gl=Bu,ju={},C1={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},k1=c("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),S1=[k1];function E1(t,e){return w(),E("svg",C1,S1)}ju.render=E1;var A1=ju,Fu={},P1={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},T1=c("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),R1=[T1];function M1(t,e){return w(),E("svg",P1,R1)}Fu.render=M1;var I1=Fu,Gu=xs({name:"VtIcon",props:bs.ICON,computed:{customIconChildren(){return os(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Vr(this.customIcon)?this.trimValue(this.customIcon):os(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return os(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:Iu(this.customIcon)?Ii(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[Tt.DEFAULT]:Gl,[Tt.INFO]:Gl,[Tt.SUCCESS]:v1,[Tt.ERROR]:I1,[Tt.WARNING]:A1}[this.type]},iconClasses(){const t=[`${Ht}__icon`];return this.hasCustomIcon?t.concat(this.customIconClass):t}},methods:{trimValue(t,e=""){return Tu(t)?t.trim():e}}});function O1(t,e){return w(),Ye(Br(t.component),{class:re(t.iconClasses)},{default:pe(()=>[J(F(t.customIconChildren),1)]),_:1},8,["class"])}Gu.render=O1;var L1=Gu,zu=xs({name:"VtToast",components:{ProgressBar:d1,CloseButton:f1,Icon:L1},inheritAttrs:!1,props:Object.assign({},bs.CORE_TOAST,bs.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const t=[`${Ht}__toast`,`${Ht}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&t.push("disable-transition"),this.rtl&&t.push(`${Ht}__toast--rtl`),t},bodyClasses(){return[`${Ht}__toast-${Vr(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return jl(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:os,getVueComponentFromObj:Ii,closeToast(){this.eventBus.emit(Rt.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const t=this.$el;t.addEventListener("touchstart",this.onDragStart,{passive:!0}),t.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const t=this.$el;t.removeEventListener("touchstart",this.onDragStart),t.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(t){this.beingDragged=!0,this.dragPos={x:bo(t),y:Fl(t)},this.dragStart=bo(t),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(t){this.beingDragged&&(t.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:bo(t),y:Fl(t)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,jl(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),$1=["role"];function D1(t,e){const s=rt("Icon"),n=rt("CloseButton"),i=rt("ProgressBar");return w(),E("div",{class:re(t.classes),style:zs(t.draggableStyle),onClick:e[0]||(e[0]=(...r)=>t.clickHandler&&t.clickHandler(...r)),onMouseenter:e[1]||(e[1]=(...r)=>t.hoverPause&&t.hoverPause(...r)),onMouseleave:e[2]||(e[2]=(...r)=>t.hoverPlay&&t.hoverPlay(...r))},[t.icon?(w(),Ye(s,{key:0,"custom-icon":t.icon,type:t.type},null,8,["custom-icon","type"])):Z("v-if",!0),c("div",{role:t.accessibility.toastRole||"alert",class:re(t.bodyClasses)},[typeof t.content=="string"?(w(),E(we,{key:0},[J(F(t.content),1)],2112)):(w(),Ye(Br(t.getVueComponentFromObj(t.content)),Gr({key:1,"toast-id":t.id},t.hasProp(t.content,"props")?t.content.props:{},bf(t.hasProp(t.content,"listeners")?t.content.listeners:{}),{onCloseToast:t.closeToast}),null,16,["toast-id","onCloseToast"]))],10,$1),t.closeButton?(w(),Ye(n,{key:1,component:t.closeButton,"class-names":t.closeButtonClassName,"show-on-hover":t.showCloseButtonOnHover,"aria-label":t.accessibility.closeButtonLabel,onClick:Ee(t.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Z("v-if",!0),t.timeout?(w(),Ye(i,{key:2,"is-running":t.isRunning,"hide-progress-bar":t.hideProgressBar,timeout:t.timeout,onCloseToast:t.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Z("v-if",!0)],38)}zu.render=D1;var N1=zu,Hu=xs({name:"VtTransition",props:bs.TRANSITION,emits:["leave"],methods:{hasProp:os,leave(t){t instanceof HTMLElement&&(t.style.left=t.offsetLeft+"px",t.style.top=t.offsetTop+"px",t.style.width=getComputedStyle(t).width,t.style.position="absolute")}}});function B1(t,e){return w(),Ye(Tp,{tag:"div","enter-active-class":t.transition.enter?t.transition.enter:`${t.transition}-enter-active`,"move-class":t.transition.move?t.transition.move:`${t.transition}-move`,"leave-active-class":t.transition.leave?t.transition.leave:`${t.transition}-leave-active`,onLeave:t.leave},{default:pe(()=>[gf(t.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Hu.render=B1;var j1=Hu,Uu=xs({name:"VueToastification",devtools:{hide:!0},components:{Toast:N1,VtTransition:j1},props:Object.assign({},bs.CORE_TOAST,bs.CONTAINER,bs.TRANSITION),data(){return{count:0,positions:Object.values(Er),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const t=this.eventBus;t.on(Rt.ADD,this.addToast),t.on(Rt.CLEAR,this.clearToasts),t.on(Rt.DISMISS,this.dismissToast),t.on(Rt.UPDATE,this.updateToast),t.on(Rt.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(t){Ur(t)&&(t=await t()),s1(this.$el),t.appendChild(this.$el)},setToast(t){en(t.id)||(this.toasts[t.id]=t)},addToast(t){t.content=n1(t.content);const e=Object.assign({},this.defaults,t.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[t.type],t),s=this.defaults.filterBeforeCreate(e,this.toastArray);s&&this.setToast(s)},dismissToast(t){const e=this.toasts[t];!en(e)&&!en(e.onClose)&&e.onClose(),delete this.toasts[t]},clearToasts(){Object.keys(this.toasts).forEach(t=>{this.dismissToast(t)})},getPositionToasts(t){const e=this.filteredToasts.filter(s=>s.position===t).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?e.reverse():e},updateDefaults(t){en(t.container)||this.setup(t.container),this.defaults=Object.assign({},this.defaults,t)},updateToast({id:t,options:e,create:s}){this.toasts[t]?(e.timeout&&e.timeout===this.toasts[t].timeout&&e.timeout++,this.setToast(Object.assign({},this.toasts[t],e))):s&&this.addToast(Object.assign({},{id:t},e))},getClasses(t){return[`${Ht}__container`,t].concat(this.defaults.containerClassName)}}});function F1(t,e){const s=rt("Toast"),n=rt("VtTransition");return w(),E("div",null,[(w(!0),E(we,null,Le(t.positions,i=>(w(),E("div",{key:i},[he(n,{transition:t.defaults.transition,class:re(t.getClasses(i))},{default:pe(()=>[(w(!0),E(we,null,Le(t.getPositionToasts(i),r=>(w(),Ye(s,Gr({key:r.id},r),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}Uu.render=F1;var G1=Uu,zl=(t={},e=!0)=>{const s=t.eventBus=t.eventBus||new La;e&&Nn(()=>{const r=Cu(G1,Pu({},t)),o=r.mount(document.createElement("div")),a=t.onMounted;if(en(a)||a(o,r),t.shareAppContext){const l=t.shareAppContext;l===!0?console.warn(`[${Ht}] App to share context with was not provided.`):(r._context.components=l._context.components,r._context.directives=l._context.directives,r._context.mixins=l._context.mixins,r._context.provides=l._context.provides,r.config.globalProperties=l.config.globalProperties)}});const n=(r,o)=>{const a=Object.assign({},{id:t1(),type:Tt.DEFAULT},o,{content:r});return s.emit(Rt.ADD,a),a.id};n.clear=()=>s.emit(Rt.CLEAR,void 0),n.updateDefaults=r=>{s.emit(Rt.UPDATE_DEFAULTS,r)},n.dismiss=r=>{s.emit(Rt.DISMISS,r)};function i(r,{content:o,options:a},l=!1){const u=Object.assign({},a,{content:o});s.emit(Rt.UPDATE,{id:r,options:u,create:l})}return n.update=i,n.success=(r,o)=>n(r,Object.assign({},o,{type:Tt.SUCCESS})),n.info=(r,o)=>n(r,Object.assign({},o,{type:Tt.INFO})),n.error=(r,o)=>n(r,Object.assign({},o,{type:Tt.ERROR})),n.warning=(r,o)=>n(r,Object.assign({},o,{type:Tt.WARNING})),n},z1=()=>{const t=()=>console.warn(`[${Ht}] This plugin does not support SSR!`);return new Proxy(t,{get(){return t}})};function Vu(t){return i1()?r1(t)?zl({eventBus:t},!1):zl(t,!0):z1()}var Wu=Symbol("VueToastification"),qu=new La,H1=(t,e)=>{(e==null?void 0:e.shareAppContext)===!0&&(e.shareAppContext=t);const s=Vu(Pu({eventBus:qu},e));t.provide(Wu,s)},yt=t=>{const e=Ri()?Ot(Wu,void 0):void 0;return e||Vu(qu)},U1=H1;/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Cn=typeof document<"u";function Xu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function V1(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Xu(t.default)}const Ne=Object.assign;function vo(t,e){const s={};for(const n in e){const i=e[n];s[n]=qt(i)?i.map(t):t(i)}return s}const hi=()=>{},qt=Array.isArray;function Hl(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}const Yu=/#/g,W1=/&/g,q1=/\//g,X1=/=/g,Y1=/\?/g,Ku=/\+/g,K1=/%5B/g,J1=/%5D/g,Ju=/%5E/g,Z1=/%60/g,Zu=/%7B/g,Q1=/%7C/g,Qu=/%7D/g,em=/%20/g;function $a(t){return t==null?"":encodeURI(""+t).replace(Q1,"|").replace(K1,"[").replace(J1,"]")}function tm(t){return $a(t).replace(Zu,"{").replace(Qu,"}").replace(Ju,"^")}function Xo(t){return $a(t).replace(Ku,"%2B").replace(em,"+").replace(Yu,"%23").replace(W1,"%26").replace(Z1,"`").replace(Zu,"{").replace(Qu,"}").replace(Ju,"^")}function sm(t){return Xo(t).replace(X1,"%3D")}function nm(t){return $a(t).replace(Yu,"%23").replace(Y1,"%3F")}function im(t){return nm(t).replace(q1,"%2F")}function Ei(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const rm=/\/$/,om=t=>t.replace(rm,"");function yo(t,e,s="/"){let n,i={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=e.slice(0,l),r=e.slice(l,a>0?a:e.length),i=t(r.slice(1))),a>=0&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=dm(n??e,s),{fullPath:n+r+o,path:n,query:i,hash:Ei(o)}}function am(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Ul(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function lm(t,e,s){const n=e.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&In(e.matched[n],s.matched[i])&&eh(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function In(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function eh(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!cm(t[s],e[s]))return!1;return!0}function cm(t,e){return qt(t)?Vl(t,e):qt(e)?Vl(e,t):t===e}function Vl(t,e){return qt(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function dm(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let r=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+n.slice(o).join("/")}const As={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Yo=function(t){return t.pop="pop",t.push="push",t}({}),xo=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function um(t){if(!t)if(Cn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),om(t)}const hm=/^[^#]+#/;function fm(t,e){return t.replace(hm,"#")+e}function pm(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const Wr=()=>({left:window.scrollX,top:window.scrollY});function mm(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;e=pm(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Wl(t,e){return(history.state?history.state.position-e:-1)+t}const Ko=new Map;function gm(t,e){Ko.set(t,e)}function bm(t){const e=Ko.get(t);return Ko.delete(t),e}function vm(t){return typeof t=="string"||t&&typeof t=="object"}function th(t){return typeof t=="string"||typeof t=="symbol"}let tt=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const sh=Symbol("");tt.MATCHER_NOT_FOUND+"",tt.NAVIGATION_GUARD_REDIRECT+"",tt.NAVIGATION_ABORTED+"",tt.NAVIGATION_CANCELLED+"",tt.NAVIGATION_DUPLICATED+"";function On(t,e){return Ne(new Error,{type:t,[sh]:!0},e)}function ds(t,e){return t instanceof Error&&sh in t&&(e==null||!!(t.type&e))}const ym=["params","query","hash"];function xm(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const s of ym)s in t&&(e[s]=t[s]);return JSON.stringify(e,null,2)}function _m(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const i=s[n].replace(Ku," "),r=i.indexOf("="),o=Ei(r<0?i:i.slice(0,r)),a=r<0?null:Ei(i.slice(r+1));if(o in e){let l=e[o];qt(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function ql(t){let e="";for(let s in t){const n=t[s];if(s=sm(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(qt(n)?n.map(i=>i&&Xo(i)):[n&&Xo(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function wm(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=qt(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const Cm=Symbol(""),Xl=Symbol(""),qr=Symbol(""),Da=Symbol(""),Jo=Symbol("");function Wn(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function $s(t,e,s,n,i,r=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(On(tt.NAVIGATION_ABORTED,{from:s,to:e})):f instanceof Error?l(f):vm(f)?l(On(tt.NAVIGATION_GUARD_REDIRECT,{from:e,to:f})):(o&&n.enterCallbacks[i]===o&&typeof f=="function"&&o.push(f),a())},d=r(()=>t.call(n&&n.instances[i],e,s,u));let h=Promise.resolve(d);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function _o(t,e,s,n,i=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Xu(l)){const u=(l.__vccOpts||l)[e];u&&r.push($s(u,s,n,o,a,i))}else{let u=l();r.push(()=>u.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=V1(d)?d.default:d;o.mods[a]=d,o.components[a]=h;const f=(h.__vccOpts||h)[e];return f&&$s(f,s,n,o,a,i)()}))}}return r}function km(t,e){const s=[],n=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(u=>In(u,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(u=>In(u,l))||i.push(l))}return[s,n,i]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Sm=()=>location.protocol+"//"+location.host;function nh(t,e){const{pathname:s,search:n,hash:i}=e,r=t.indexOf("#");if(r>-1){let o=i.includes(t.slice(r))?t.slice(r).length:1,a=i.slice(o);return a[0]!=="/"&&(a="/"+a),Ul(a,"")}return Ul(s,t)+n+i}function Em(t,e,s,n){let i=[],r=[],o=null;const a=({state:f})=>{const m=nh(t,location),p=s.value,x=e.value;let v=0;if(f){if(s.value=m,e.value=f,o&&o===p){o=null;return}v=x?f.position-x.position:0}else n(m);i.forEach(y=>{y(s.value,p,{delta:v,type:Yo.pop,direction:v?v>0?xo.forward:xo.back:xo.unknown})})};function l(){o=s.value}function u(f){i.push(f);const m=()=>{const p=i.indexOf(f);p>-1&&i.splice(p,1)};return r.push(m),m}function d(){if(document.visibilityState==="hidden"){const{history:f}=window;if(!f.state)return;f.replaceState(Ne({},f.state,{scroll:Wr()}),"")}}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",d),document.removeEventListener("visibilitychange",d)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",d),document.addEventListener("visibilitychange",d),{pauseListeners:l,listen:u,destroy:h}}function Yl(t,e,s,n=!1,i=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:i?Wr():null}}function Am(t){const{history:e,location:s}=window,n={value:nh(t,s)},i={value:e.state};i.value||r(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,u,d){const h=t.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Sm()+t+l;try{e[d?"replaceState":"pushState"](u,"",f),i.value=u}catch(m){console.error(m),s[d?"replace":"assign"](f)}}function o(l,u){r(l,Ne({},e.state,Yl(i.value.back,l,i.value.forward,!0),u,{position:i.value.position}),!0),n.value=l}function a(l,u){const d=Ne({},i.value,e.state,{forward:l,scroll:Wr()});r(d.current,d,!0),r(l,Ne({},Yl(n.value,l,null),{position:d.position+1},u),!1),n.value=l}return{location:n,state:i,push:a,replace:o}}function Pm(t){t=um(t);const e=Am(t),s=Em(t,e.state,e.location,e.replace);function n(r,o=!0){o||s.pauseListeners(),history.go(r)}const i=Ne({location:"",base:t,go:n,createHref:fm.bind(null,t)},e,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}let tn=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var ot=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(ot||{});const Tm={type:tn.Static,value:""},Rm=/[a-zA-Z0-9_]/;function Mm(t){if(!t)return[[]];if(t==="/")return[[Tm]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${s})/"${u}": ${m}`)}let s=ot.Static,n=s;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,u="",d="";function h(){u&&(s===ot.Static?r.push({type:tn.Static,value:u}):s===ot.Param||s===ot.ParamRegExp||s===ot.ParamRegExpEnd?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:tn.Param,value:u,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==ot.ParamRegExp){n=s,s=ot.EscapeNext;continue}switch(s){case ot.Static:l==="/"?(u&&h(),o()):l===":"?(h(),s=ot.Param):f();break;case ot.EscapeNext:f(),s=n;break;case ot.Param:l==="("?s=ot.ParamRegExp:Rm.test(l)?f():(h(),s=ot.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case ot.ParamRegExp:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:s=ot.ParamRegExpEnd:d+=l;break;case ot.ParamRegExpEnd:h(),s=ot.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return s===ot.ParamRegExp&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),i}const Kl="[^/]+?",Im={sensitive:!1,strict:!1,start:!0,end:!0};var _t=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(_t||{});const Om=/[.+*?^${}()[\]/\\]/g;function Lm(t,e){const s=Ne({},Im,e),n=[];let i=s.start?"^":"";const r=[];for(const u of t){const d=u.length?[]:[_t.Root];s.strict&&!u.length&&(i+="/");for(let h=0;h<u.length;h++){const f=u[h];let m=_t.Segment+(s.sensitive?_t.BonusCaseSensitive:0);if(f.type===tn.Static)h||(i+="/"),i+=f.value.replace(Om,"\\$&"),m+=_t.Static;else if(f.type===tn.Param){const{value:p,repeatable:x,optional:v,regexp:y}=f;r.push({name:p,repeatable:x,optional:v});const g=y||Kl;if(g!==Kl){m+=_t.BonusCustomRegExp;try{`${g}`}catch(_){throw new Error(`Invalid custom RegExp for param "${p}" (${g}): `+_.message)}}let b=x?`((?:${g})(?:/(?:${g}))*)`:`(${g})`;h||(b=v&&u.length<2?`(?:/${b})`:"/"+b),v&&(b+="?"),i+=b,m+=_t.Dynamic,v&&(m+=_t.BonusOptional),x&&(m+=_t.BonusRepeatable),g===".*"&&(m+=_t.BonusWildcard)}d.push(m)}n.push(d)}if(s.strict&&s.end){const u=n.length-1;n[u][n[u].length-1]+=_t.BonusStrict}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,s.sensitive?"":"i");function a(u){const d=u.match(o),h={};if(!d)return null;for(let f=1;f<d.length;f++){const m=d[f]||"",p=r[f-1];h[p.name]=m&&p.repeatable?m.split("/"):m}return h}function l(u){let d="",h=!1;for(const f of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const m of f)if(m.type===tn.Static)d+=m.value;else if(m.type===tn.Param){const{value:p,repeatable:x,optional:v}=m,y=p in u?u[p]:"";if(qt(y)&&!x)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const g=qt(y)?y.join("/"):y;if(!g)if(v)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);d+=g}}return d||"/"}return{re:o,score:n,keys:r,parse:a,stringify:l}}function $m(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===_t.Static+_t.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===_t.Static+_t.Segment?1:-1:0}function ih(t,e){let s=0;const n=t.score,i=e.score;for(;s<n.length&&s<i.length;){const r=$m(n[s],i[s]);if(r)return r;s++}if(Math.abs(i.length-n.length)===1){if(Jl(n))return 1;if(Jl(i))return-1}return i.length-n.length}function Jl(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Dm={strict:!1,end:!0,sensitive:!1};function Nm(t,e,s){const n=Lm(Mm(t.path),s),i=Ne(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Bm(t,e){const s=[],n=new Map;e=Hl(Dm,e);function i(h){return n.get(h)}function r(h,f,m){const p=!m,x=Ql(h);x.aliasOf=m&&m.record;const v=Hl(e,h),y=[x];if("alias"in h){const _=typeof h.alias=="string"?[h.alias]:h.alias;for(const O of _)y.push(Ql(Ne({},x,{components:m?m.record.components:x.components,path:O,aliasOf:m?m.record:x})))}let g,b;for(const _ of y){const{path:O}=_;if(f&&O[0]!=="/"){const z=f.record.path,B=z[z.length-1]==="/"?"":"/";_.path=f.record.path+(O&&B+O)}if(g=Nm(_,f,v),m?m.alias.push(g):(b=b||g,b!==g&&b.alias.push(g),p&&h.name&&!ec(g)&&o(h.name)),rh(g)&&l(g),x.children){const z=x.children;for(let B=0;B<z.length;B++)r(z[B],g,m&&m.children[B])}m=m||g}return b?()=>{o(b)}:hi}function o(h){if(th(h)){const f=n.get(h);f&&(n.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&n.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const f=Gm(h,s);s.splice(f,0,h),h.record.name&&!ec(h)&&n.set(h.record.name,h)}function u(h,f){let m,p={},x,v;if("name"in h&&h.name){if(m=n.get(h.name),!m)throw On(tt.MATCHER_NOT_FOUND,{location:h});v=m.record.name,p=Ne(Zl(f.params,m.keys.filter(b=>!b.optional).concat(m.parent?m.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),h.params&&Zl(h.params,m.keys.map(b=>b.name))),x=m.stringify(p)}else if(h.path!=null)x=h.path,m=s.find(b=>b.re.test(x)),m&&(p=m.parse(x),v=m.record.name);else{if(m=f.name?n.get(f.name):s.find(b=>b.re.test(f.path)),!m)throw On(tt.MATCHER_NOT_FOUND,{location:h,currentLocation:f});v=m.record.name,p=Ne({},f.params,h.params),x=m.stringify(p)}const y=[];let g=m;for(;g;)y.unshift(g.record),g=g.parent;return{name:v,path:x,params:p,matched:y,meta:Fm(y)}}t.forEach(h=>r(h));function d(){s.length=0,n.clear()}return{addRoute:r,resolve:u,removeRoute:o,clearRoutes:d,getRoutes:a,getRecordMatcher:i}}function Zl(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function Ql(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:jm(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function jm(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function ec(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Fm(t){return t.reduce((e,s)=>Ne(e,s.meta),{})}function Gm(t,e){let s=0,n=e.length;for(;s!==n;){const r=s+n>>1;ih(t,e[r])<0?n=r:s=r+1}const i=zm(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function zm(t){let e=t;for(;e=e.parent;)if(rh(e)&&ih(t,e)===0)return e}function rh({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function tc(t){const e=Ot(qr),s=Ot(Da),n=ke(()=>{const l=Oe(t.to);return e.resolve(l)}),i=ke(()=>{const{matched:l}=n.value,{length:u}=l,d=l[u-1],h=s.matched;if(!d||!h.length)return-1;const f=h.findIndex(In.bind(null,d));if(f>-1)return f;const m=sc(l[u-2]);return u>1&&sc(d)===m&&h[h.length-1].path!==m?h.findIndex(In.bind(null,l[u-2])):f}),r=ke(()=>i.value>-1&&qm(s.params,n.value.params)),o=ke(()=>i.value>-1&&i.value===s.matched.length-1&&eh(s.params,n.value.params));function a(l={}){if(Wm(l)){const u=e[Oe(t.replace)?"replace":"push"](Oe(t.to)).catch(hi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:n,href:ke(()=>n.value.href),isActive:r,isExactActive:o,navigate:a}}function Hm(t){return t.length===1?t[0]:t}const Um=xs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:tc,setup(t,{slots:e}){const s=He(tc(t)),{options:n}=Ot(qr),i=ke(()=>({[nc(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[nc(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=e.default&&Hm(e.default(s));return t.custom?r:Ia("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},r)}}}),Vm=Um;function Wm(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function qm(t,e){for(const s in e){const n=e[s],i=t[s];if(typeof n=="string"){if(n!==i)return!1}else if(!qt(i)||i.length!==n.length||n.some((r,o)=>r!==i[o]))return!1}return!0}function sc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const nc=(t,e,s)=>t??e??s,Xm=xs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=Ot(Jo),i=ke(()=>t.route||n.value),r=Ot(Xl,0),o=ke(()=>{let u=Oe(r);const{matched:d}=i.value;let h;for(;(h=d[u])&&!h.components;)u++;return u}),a=ke(()=>i.value.matched[o.value]);ir(Xl,ke(()=>o.value+1)),ir(Cm,a),ir(Jo,i);const l=ie();return ct(()=>[l.value,a.value,t.name],([u,d,h],[f,m,p])=>{d&&(d.instances[h]=u,m&&m!==d&&u&&u===f&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),u&&d&&(!m||!In(d,m)||!f)&&(d.enterCallbacks[h]||[]).forEach(x=>x(u))},{flush:"post"}),()=>{const u=i.value,d=t.name,h=a.value,f=h&&h.components[d];if(!f)return ic(s.default,{Component:f,route:u});const m=h.props[d],p=m?m===!0?u.params:typeof m=="function"?m(u):m:null,v=Ia(f,Ne({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(h.instances[d]=null)},ref:l}));return ic(s.default,{Component:v,route:u})||v}}});function ic(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Ym=Xm;function Km(t){const e=Bm(t.routes,t),s=t.parseQuery||_m,n=t.stringifyQuery||ql,i=t.history,r=Wn(),o=Wn(),a=Wn(),l=U0(As);let u=As;Cn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=vo.bind(null,V=>""+V),h=vo.bind(null,im),f=vo.bind(null,Ei);function m(V,de){let $,ge;return th(V)?($=e.getRecordMatcher(V),ge=de):ge=V,e.addRoute(ge,$)}function p(V){const de=e.getRecordMatcher(V);de&&e.removeRoute(de)}function x(){return e.getRoutes().map(V=>V.record)}function v(V){return!!e.getRecordMatcher(V)}function y(V,de){if(de=Ne({},de||l.value),typeof V=="string"){const G=yo(s,V,de.path),K=e.resolve({path:G.path},de),ee=i.createHref(G.fullPath);return Ne(G,K,{params:f(K.params),hash:Ei(G.hash),redirectedFrom:void 0,href:ee})}let $;if(V.path!=null)$=Ne({},V,{path:yo(s,V.path,de.path).path});else{const G=Ne({},V.params);for(const K in G)G[K]==null&&delete G[K];$=Ne({},V,{params:h(G)}),de.params=h(de.params)}const ge=e.resolve($,de),Te=V.hash||"";ge.params=d(f(ge.params));const S=am(n,Ne({},V,{hash:tm(Te),path:ge.path})),T=i.createHref(S);return Ne({fullPath:S,hash:Te,query:n===ql?wm(V.query):V.query||{}},ge,{redirectedFrom:void 0,href:T})}function g(V){return typeof V=="string"?yo(s,V,l.value.path):Ne({},V)}function b(V,de){if(u!==V)return On(tt.NAVIGATION_CANCELLED,{from:de,to:V})}function _(V){return B(V)}function O(V){return _(Ne(g(V),{replace:!0}))}function z(V,de){const $=V.matched[V.matched.length-1];if($&&$.redirect){const{redirect:ge}=$;let Te=typeof ge=="function"?ge(V,de):ge;return typeof Te=="string"&&(Te=Te.includes("?")||Te.includes("#")?Te=g(Te):{path:Te},Te.params={}),Ne({query:V.query,hash:V.hash,params:Te.path!=null?{}:V.params},Te)}}function B(V,de){const $=u=y(V),ge=l.value,Te=V.state,S=V.force,T=V.replace===!0,G=z($,ge);if(G)return B(Ne(g(G),{state:typeof G=="object"?Ne({},Te,G.state):Te,force:S,replace:T}),de||$);const K=$;K.redirectedFrom=de;let ee;return!S&&lm(n,ge,$)&&(ee=On(tt.NAVIGATION_DUPLICATED,{to:K,from:ge}),ce(ge,ge,!0,!1)),(ee?Promise.resolve(ee):W(K,ge)).catch(Y=>ds(Y)?ds(Y,tt.NAVIGATION_GUARD_REDIRECT)?Y:X(Y):R(Y,K,ge)).then(Y=>{if(Y){if(ds(Y,tt.NAVIGATION_GUARD_REDIRECT))return B(Ne({replace:T},g(Y.to),{state:typeof Y.to=="object"?Ne({},Te,Y.to.state):Te,force:S}),de||K)}else Y=C(K,ge,!0,T,Te);return H(K,ge,Y),Y})}function A(V,de){const $=b(V,de);return $?Promise.reject($):Promise.resolve()}function D(V){const de=oe.values().next().value;return de&&typeof de.runWithContext=="function"?de.runWithContext(V):V()}function W(V,de){let $;const[ge,Te,S]=km(V,de);$=_o(ge.reverse(),"beforeRouteLeave",V,de);for(const G of ge)G.leaveGuards.forEach(K=>{$.push($s(K,V,de))});const T=A.bind(null,V,de);return $.push(T),Qe($).then(()=>{$=[];for(const G of r.list())$.push($s(G,V,de));return $.push(T),Qe($)}).then(()=>{$=_o(Te,"beforeRouteUpdate",V,de);for(const G of Te)G.updateGuards.forEach(K=>{$.push($s(K,V,de))});return $.push(T),Qe($)}).then(()=>{$=[];for(const G of S)if(G.beforeEnter)if(qt(G.beforeEnter))for(const K of G.beforeEnter)$.push($s(K,V,de));else $.push($s(G.beforeEnter,V,de));return $.push(T),Qe($)}).then(()=>(V.matched.forEach(G=>G.enterCallbacks={}),$=_o(S,"beforeRouteEnter",V,de,D),$.push(T),Qe($))).then(()=>{$=[];for(const G of o.list())$.push($s(G,V,de));return $.push(T),Qe($)}).catch(G=>ds(G,tt.NAVIGATION_CANCELLED)?G:Promise.reject(G))}function H(V,de,$){a.list().forEach(ge=>D(()=>ge(V,de,$)))}function C(V,de,$,ge,Te){const S=b(V,de);if(S)return S;const T=de===As,G=Cn?history.state:{};$&&(ge||T?i.replace(V.fullPath,Ne({scroll:T&&G&&G.scroll},Te)):i.push(V.fullPath,Te)),l.value=V,ce(V,de,$,T),X()}let Q;function I(){Q||(Q=i.listen((V,de,$)=>{if(!De.listening)return;const ge=y(V),Te=z(ge,De.currentRoute.value);if(Te){B(Ne(Te,{replace:!0,force:!0}),ge).catch(hi);return}u=ge;const S=l.value;Cn&&gm(Wl(S.fullPath,$.delta),Wr()),W(ge,S).catch(T=>ds(T,tt.NAVIGATION_ABORTED|tt.NAVIGATION_CANCELLED)?T:ds(T,tt.NAVIGATION_GUARD_REDIRECT)?(B(Ne(g(T.to),{force:!0}),ge).then(G=>{ds(G,tt.NAVIGATION_ABORTED|tt.NAVIGATION_DUPLICATED)&&!$.delta&&$.type===Yo.pop&&i.go(-1,!1)}).catch(hi),Promise.reject()):($.delta&&i.go(-$.delta,!1),R(T,ge,S))).then(T=>{T=T||C(ge,S,!1),T&&($.delta&&!ds(T,tt.NAVIGATION_CANCELLED)?i.go(-$.delta,!1):$.type===Yo.pop&&ds(T,tt.NAVIGATION_ABORTED|tt.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),H(ge,S,T)}).catch(hi)}))}let q=Wn(),L=Wn(),M;function R(V,de,$){X(V);const ge=L.list();return ge.length?ge.forEach(Te=>Te(V,de,$)):console.error(V),Promise.reject(V)}function P(){return M&&l.value!==As?Promise.resolve():new Promise((V,de)=>{q.add([V,de])})}function X(V){return M||(M=!V,I(),q.list().forEach(([de,$])=>V?$(V):de()),q.reset()),V}function ce(V,de,$,ge){const{scrollBehavior:Te}=t;if(!Cn||!Te)return Promise.resolve();const S=!$&&bm(Wl(V.fullPath,0))||(ge||!$)&&history.state&&history.state.scroll||null;return Nn().then(()=>Te(V,de,S)).then(T=>T&&mm(T)).catch(T=>R(T,V,de))}const se=V=>i.go(V);let N;const oe=new Set,De={currentRoute:l,listening:!0,addRoute:m,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:x,resolve:y,options:t,push:_,replace:O,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:L.add,isReady:P,install(V){V.component("RouterLink",Vm),V.component("RouterView",Ym),V.config.globalProperties.$router=De,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>Oe(l)}),Cn&&!N&&l.value===As&&(N=!0,_(i.location).catch(ge=>{}));const de={};for(const ge in As)Object.defineProperty(de,ge,{get:()=>l.value[ge],enumerable:!0});V.provide(qr,De),V.provide(Da,Sd(de)),V.provide(Jo,l);const $=V.unmount;oe.add(V),V.unmount=function(){oe.delete(V),oe.size<1&&(u=As,Q&&Q(),Q=null,l.value=As,N=!1,M=!1),$()}}};function Qe(V){return V.reduce((de,$)=>de.then(()=>D($)),Promise.resolve())}return De}function as(){return Ot(qr)}function Xr(t){return Ot(Da)}const Jm=Oa("loading",()=>{const t=ie(!1),e=ie(""),s=ie(0);return{isLoading:t,loadingMessage:e,loadingCount:s,startLoading:(o="Cargando...")=>{s.value++,e.value=o,t.value=!0},stopLoading:()=>{s.value=Math.max(0,s.value-1),s.value===0&&(t.value=!1,e.value="")},forceStopLoading:()=>{s.value=0,t.value=!1,e.value=""}}});function oh(t,e){return function(){return t.apply(e,arguments)}}const{toString:Zm}=Object.prototype,{getPrototypeOf:Na}=Object,{iterator:Yr,toStringTag:ah}=Symbol,Kr=(t=>e=>{const s=Zm.call(e);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Xt=t=>(t=t.toLowerCase(),e=>Kr(e)===t),Jr=t=>e=>typeof e===t,{isArray:Bn}=Array,Ln=Jr("undefined");function Oi(t){return t!==null&&!Ln(t)&&t.constructor!==null&&!Ln(t.constructor)&&St(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const lh=Xt("ArrayBuffer");function Qm(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&lh(t.buffer),e}const eg=Jr("string"),St=Jr("function"),ch=Jr("number"),Li=t=>t!==null&&typeof t=="object",tg=t=>t===!0||t===!1,cr=t=>{if(Kr(t)!=="object")return!1;const e=Na(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ah in t)&&!(Yr in t)},sg=t=>{if(!Li(t)||Oi(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ng=Xt("Date"),ig=Xt("File"),rg=Xt("Blob"),og=Xt("FileList"),ag=t=>Li(t)&&St(t.pipe),lg=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||St(t.append)&&((e=Kr(t))==="formdata"||e==="object"&&St(t.toString)&&t.toString()==="[object FormData]"))},cg=Xt("URLSearchParams"),[dg,ug,hg,fg]=["ReadableStream","Request","Response","Headers"].map(Xt),pg=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $i(t,e,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Bn(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Oi(t))return;const r=s?Object.getOwnPropertyNames(t):Object.keys(t),o=r.length;let a;for(n=0;n<o;n++)a=r[n],e.call(null,t[a],a,t)}}function dh(t,e){if(Oi(t))return null;e=e.toLowerCase();const s=Object.keys(t);let n=s.length,i;for(;n-- >0;)if(i=s[n],e===i.toLowerCase())return i;return null}const sn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uh=t=>!Ln(t)&&t!==sn;function Zo(){const{caseless:t,skipUndefined:e}=uh(this)&&this||{},s={},n=(i,r)=>{const o=t&&dh(s,r)||r;cr(s[o])&&cr(i)?s[o]=Zo(s[o],i):cr(i)?s[o]=Zo({},i):Bn(i)?s[o]=i.slice():(!e||!Ln(i))&&(s[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&$i(arguments[i],n);return s}const mg=(t,e,s,{allOwnKeys:n}={})=>($i(e,(i,r)=>{s&&St(i)?t[r]=oh(i,s):t[r]=i},{allOwnKeys:n}),t),gg=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),bg=(t,e,s,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),s&&Object.assign(t.prototype,s)},vg=(t,e,s,n)=>{let i,r,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),r=i.length;r-- >0;)o=i[r],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=s!==!1&&Na(t)}while(t&&(!s||s(t,e))&&t!==Object.prototype);return e},yg=(t,e,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=e.length;const n=t.indexOf(e,s);return n!==-1&&n===s},xg=t=>{if(!t)return null;if(Bn(t))return t;let e=t.length;if(!ch(e))return null;const s=new Array(e);for(;e-- >0;)s[e]=t[e];return s},_g=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Na(Uint8Array)),wg=(t,e)=>{const n=(t&&t[Yr]).call(t);let i;for(;(i=n.next())&&!i.done;){const r=i.value;e.call(t,r[0],r[1])}},Cg=(t,e)=>{let s;const n=[];for(;(s=t.exec(e))!==null;)n.push(s);return n},kg=Xt("HTMLFormElement"),Sg=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,n,i){return n.toUpperCase()+i}),rc=(({hasOwnProperty:t})=>(e,s)=>t.call(e,s))(Object.prototype),Eg=Xt("RegExp"),hh=(t,e)=>{const s=Object.getOwnPropertyDescriptors(t),n={};$i(s,(i,r)=>{let o;(o=e(i,r,t))!==!1&&(n[r]=o||i)}),Object.defineProperties(t,n)},Ag=t=>{hh(t,(e,s)=>{if(St(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const n=t[s];if(St(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Pg=(t,e)=>{const s={},n=i=>{i.forEach(r=>{s[r]=!0})};return Bn(t)?n(t):n(String(t).split(e)),s},Tg=()=>{},Rg=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Mg(t){return!!(t&&St(t.append)&&t[ah]==="FormData"&&t[Yr])}const Ig=t=>{const e=new Array(10),s=(n,i)=>{if(Li(n)){if(e.indexOf(n)>=0)return;if(Oi(n))return n;if(!("toJSON"in n)){e[i]=n;const r=Bn(n)?[]:{};return $i(n,(o,a)=>{const l=s(o,i+1);!Ln(l)&&(r[a]=l)}),e[i]=void 0,r}}return n};return s(t,0)},Og=Xt("AsyncFunction"),Lg=t=>t&&(Li(t)||St(t))&&St(t.then)&&St(t.catch),fh=((t,e)=>t?setImmediate:e?((s,n)=>(sn.addEventListener("message",({source:i,data:r})=>{i===sn&&r===s&&n.length&&n.shift()()},!1),i=>{n.push(i),sn.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",St(sn.postMessage)),$g=typeof queueMicrotask<"u"?queueMicrotask.bind(sn):typeof process<"u"&&process.nextTick||fh,Dg=t=>t!=null&&St(t[Yr]),U={isArray:Bn,isArrayBuffer:lh,isBuffer:Oi,isFormData:lg,isArrayBufferView:Qm,isString:eg,isNumber:ch,isBoolean:tg,isObject:Li,isPlainObject:cr,isEmptyObject:sg,isReadableStream:dg,isRequest:ug,isResponse:hg,isHeaders:fg,isUndefined:Ln,isDate:ng,isFile:ig,isBlob:rg,isRegExp:Eg,isFunction:St,isStream:ag,isURLSearchParams:cg,isTypedArray:_g,isFileList:og,forEach:$i,merge:Zo,extend:mg,trim:pg,stripBOM:gg,inherits:bg,toFlatObject:vg,kindOf:Kr,kindOfTest:Xt,endsWith:yg,toArray:xg,forEachEntry:wg,matchAll:Cg,isHTMLForm:kg,hasOwnProperty:rc,hasOwnProp:rc,reduceDescriptors:hh,freezeMethods:Ag,toObjectSet:Pg,toCamelCase:Sg,noop:Tg,toFiniteNumber:Rg,findKey:dh,global:sn,isContextDefined:uh,isSpecCompliantForm:Mg,toJSONObject:Ig,isAsyncFn:Og,isThenable:Lg,setImmediate:fh,asap:$g,isIterable:Dg};function Ae(t,e,s,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),s&&(this.config=s),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}U.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:U.toJSONObject(this.config),code:this.code,status:this.status}}});const ph=Ae.prototype,mh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{mh[t]={value:t}});Object.defineProperties(Ae,mh);Object.defineProperty(ph,"isAxiosError",{value:!0});Ae.from=(t,e,s,n,i,r)=>{const o=Object.create(ph);U.toFlatObject(t,o,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ae.call(o,a,l,s,n,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",r&&Object.assign(o,r),o};const Ng=null;function Qo(t){return U.isPlainObject(t)||U.isArray(t)}function gh(t){return U.endsWith(t,"[]")?t.slice(0,-2):t}function oc(t,e,s){return t?t.concat(e).map(function(i,r){return i=gh(i),!s&&r?"["+i+"]":i}).join(s?".":""):e}function Bg(t){return U.isArray(t)&&!t.some(Qo)}const jg=U.toFlatObject(U,{},null,function(e){return/^is[A-Z]/.test(e)});function Zr(t,e,s){if(!U.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,s=U.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!U.isUndefined(v[x])});const n=s.metaTokens,i=s.visitor||d,r=s.dots,o=s.indexes,l=(s.Blob||typeof Blob<"u"&&Blob)&&U.isSpecCompliantForm(e);if(!U.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(U.isDate(p))return p.toISOString();if(U.isBoolean(p))return p.toString();if(!l&&U.isBlob(p))throw new Ae("Blob is not supported. Use a Buffer instead.");return U.isArrayBuffer(p)||U.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,x,v){let y=p;if(p&&!v&&typeof p=="object"){if(U.endsWith(x,"{}"))x=n?x:x.slice(0,-2),p=JSON.stringify(p);else if(U.isArray(p)&&Bg(p)||(U.isFileList(p)||U.endsWith(x,"[]"))&&(y=U.toArray(p)))return x=gh(x),y.forEach(function(b,_){!(U.isUndefined(b)||b===null)&&e.append(o===!0?oc([x],_,r):o===null?x:x+"[]",u(b))}),!1}return Qo(p)?!0:(e.append(oc(v,x,r),u(p)),!1)}const h=[],f=Object.assign(jg,{defaultVisitor:d,convertValue:u,isVisitable:Qo});function m(p,x){if(!U.isUndefined(p)){if(h.indexOf(p)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(p),U.forEach(p,function(y,g){(!(U.isUndefined(y)||y===null)&&i.call(e,y,U.isString(g)?g.trim():g,x,f))===!0&&m(y,x?x.concat(g):[g])}),h.pop()}}if(!U.isObject(t))throw new TypeError("data must be an object");return m(t),e}function ac(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Ba(t,e){this._pairs=[],t&&Zr(t,this,e)}const bh=Ba.prototype;bh.append=function(e,s){this._pairs.push([e,s])};bh.toString=function(e){const s=e?function(n){return e.call(this,n,ac)}:ac;return this._pairs.map(function(i){return s(i[0])+"="+s(i[1])},"").join("&")};function Fg(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vh(t,e,s){if(!e)return t;const n=s&&s.encode||Fg;U.isFunction(s)&&(s={serialize:s});const i=s&&s.serialize;let r;if(i?r=i(e,s):r=U.isURLSearchParams(e)?e.toString():new Ba(e,s).toString(n),r){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+r}return t}class lc{constructor(){this.handlers=[]}use(e,s,n){return this.handlers.push({fulfilled:e,rejected:s,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){U.forEach(this.handlers,function(n){n!==null&&e(n)})}}const yh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Gg=typeof URLSearchParams<"u"?URLSearchParams:Ba,zg=typeof FormData<"u"?FormData:null,Hg=typeof Blob<"u"?Blob:null,Ug={isBrowser:!0,classes:{URLSearchParams:Gg,FormData:zg,Blob:Hg},protocols:["http","https","file","blob","url","data"]},ja=typeof window<"u"&&typeof document<"u",ea=typeof navigator=="object"&&navigator||void 0,Vg=ja&&(!ea||["ReactNative","NativeScript","NS"].indexOf(ea.product)<0),Wg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",qg=ja&&window.location.href||"http://localhost",Xg=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ja,hasStandardBrowserEnv:Vg,hasStandardBrowserWebWorkerEnv:Wg,navigator:ea,origin:qg},Symbol.toStringTag,{value:"Module"})),vt={...Xg,...Ug};function Yg(t,e){return Zr(t,new vt.classes.URLSearchParams,{visitor:function(s,n,i,r){return vt.isNode&&U.isBuffer(s)?(this.append(n,s.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function Kg(t){return U.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Jg(t){const e={},s=Object.keys(t);let n;const i=s.length;let r;for(n=0;n<i;n++)r=s[n],e[r]=t[r];return e}function xh(t){function e(s,n,i,r){let o=s[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=s.length;return o=!o&&U.isArray(i)?i.length:o,l?(U.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!U.isObject(i[o]))&&(i[o]=[]),e(s,n,i[o],r)&&U.isArray(i[o])&&(i[o]=Jg(i[o])),!a)}if(U.isFormData(t)&&U.isFunction(t.entries)){const s={};return U.forEachEntry(t,(n,i)=>{e(Kg(n),i,s,0)}),s}return null}function Zg(t,e,s){if(U.isString(t))try{return(e||JSON.parse)(t),U.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(s||JSON.stringify)(t)}const Di={transitional:yh,adapter:["xhr","http","fetch"],transformRequest:[function(e,s){const n=s.getContentType()||"",i=n.indexOf("application/json")>-1,r=U.isObject(e);if(r&&U.isHTMLForm(e)&&(e=new FormData(e)),U.isFormData(e))return i?JSON.stringify(xh(e)):e;if(U.isArrayBuffer(e)||U.isBuffer(e)||U.isStream(e)||U.isFile(e)||U.isBlob(e)||U.isReadableStream(e))return e;if(U.isArrayBufferView(e))return e.buffer;if(U.isURLSearchParams(e))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Yg(e,this.formSerializer).toString();if((a=U.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Zr(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||i?(s.setContentType("application/json",!1),Zg(e)):e}],transformResponse:[function(e){const s=this.transitional||Di.transitional,n=s&&s.forcedJSONParsing,i=this.responseType==="json";if(U.isResponse(e)||U.isReadableStream(e))return e;if(e&&U.isString(e)&&(n&&!this.responseType||i)){const o=!(s&&s.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Ae.from(a,Ae.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vt.classes.FormData,Blob:vt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};U.forEach(["delete","get","head","post","put","patch"],t=>{Di.headers[t]={}});const Qg=U.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e2=t=>{const e={};let s,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),s=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!s||e[s]&&Qg[s])&&(s==="set-cookie"?e[s]?e[s].push(n):e[s]=[n]:e[s]=e[s]?e[s]+", "+n:n)}),e},cc=Symbol("internals");function qn(t){return t&&String(t).trim().toLowerCase()}function dr(t){return t===!1||t==null?t:U.isArray(t)?t.map(dr):String(t)}function t2(t){const e=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=s.exec(t);)e[n[1]]=n[2];return e}const s2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function wo(t,e,s,n,i){if(U.isFunction(n))return n.call(this,e,s);if(i&&(e=s),!!U.isString(e)){if(U.isString(n))return e.indexOf(n)!==-1;if(U.isRegExp(n))return n.test(e)}}function n2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,s,n)=>s.toUpperCase()+n)}function i2(t,e){const s=U.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+s,{value:function(i,r,o){return this[n].call(this,e,i,r,o)},configurable:!0})})}let Et=class{constructor(e){e&&this.set(e)}set(e,s,n){const i=this;function r(a,l,u){const d=qn(l);if(!d)throw new Error("header name must be a non-empty string");const h=U.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=dr(a))}const o=(a,l)=>U.forEach(a,(u,d)=>r(u,d,l));if(U.isPlainObject(e)||e instanceof this.constructor)o(e,s);else if(U.isString(e)&&(e=e.trim())&&!s2(e))o(e2(e),s);else if(U.isObject(e)&&U.isIterable(e)){let a={},l,u;for(const d of e){if(!U.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[u=d[0]]=(l=a[u])?U.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,s)}else e!=null&&r(s,e,n);return this}get(e,s){if(e=qn(e),e){const n=U.findKey(this,e);if(n){const i=this[n];if(!s)return i;if(s===!0)return t2(i);if(U.isFunction(s))return s.call(this,i,n);if(U.isRegExp(s))return s.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,s){if(e=qn(e),e){const n=U.findKey(this,e);return!!(n&&this[n]!==void 0&&(!s||wo(this,this[n],n,s)))}return!1}delete(e,s){const n=this;let i=!1;function r(o){if(o=qn(o),o){const a=U.findKey(n,o);a&&(!s||wo(n,n[a],a,s))&&(delete n[a],i=!0)}}return U.isArray(e)?e.forEach(r):r(e),i}clear(e){const s=Object.keys(this);let n=s.length,i=!1;for(;n--;){const r=s[n];(!e||wo(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const s=this,n={};return U.forEach(this,(i,r)=>{const o=U.findKey(n,r);if(o){s[o]=dr(i),delete s[r];return}const a=e?n2(r):String(r).trim();a!==r&&delete s[r],s[a]=dr(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const s=Object.create(null);return U.forEach(this,(n,i)=>{n!=null&&n!==!1&&(s[i]=e&&U.isArray(n)?n.join(", "):n)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,s])=>e+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...s){const n=new this(e);return s.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[cc]=this[cc]={accessors:{}}).accessors,i=this.prototype;function r(o){const a=qn(o);n[a]||(i2(i,o),n[a]=!0)}return U.isArray(e)?e.forEach(r):r(e),this}};Et.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);U.reduceDescriptors(Et.prototype,({value:t},e)=>{let s=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[s]=n}}});U.freezeMethods(Et);function Co(t,e){const s=this||Di,n=e||s,i=Et.from(n.headers);let r=n.data;return U.forEach(t,function(a){r=a.call(s,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function _h(t){return!!(t&&t.__CANCEL__)}function jn(t,e,s){Ae.call(this,t??"canceled",Ae.ERR_CANCELED,e,s),this.name="CanceledError"}U.inherits(jn,Ae,{__CANCEL__:!0});function wh(t,e,s){const n=s.config.validateStatus;!s.status||!n||n(s.status)?t(s):e(new Ae("Request failed with status code "+s.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function r2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function o2(t,e){t=t||10;const s=new Array(t),n=new Array(t);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[r];o||(o=u),s[i]=l,n[i]=u;let h=r,f=0;for(;h!==i;)f+=s[h++],h=h%t;if(i=(i+1)%t,i===r&&(r=(r+1)%t),u-o<e)return;const m=d&&u-d;return m?Math.round(f*1e3/m):void 0}}function a2(t,e){let s=0,n=1e3/e,i,r;const o=(u,d=Date.now())=>{s=d,i=null,r&&(clearTimeout(r),r=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-s;h>=n?o(u,d):(i=u,r||(r=setTimeout(()=>{r=null,o(i)},n-h)))},()=>i&&o(i)]}const Ar=(t,e,s=3)=>{let n=0;const i=o2(50,250);return a2(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-n,u=i(l),d=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&d?(a-o)/u:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},s)},dc=(t,e)=>{const s=t!=null;return[n=>e[0]({lengthComputable:s,total:t,loaded:n}),e[1]]},uc=t=>(...e)=>U.asap(()=>t(...e)),l2=vt.hasStandardBrowserEnv?((t,e)=>s=>(s=new URL(s,vt.origin),t.protocol===s.protocol&&t.host===s.host&&(e||t.port===s.port)))(new URL(vt.origin),vt.navigator&&/(msie|trident)/i.test(vt.navigator.userAgent)):()=>!0,c2=vt.hasStandardBrowserEnv?{write(t,e,s,n,i,r){const o=[t+"="+encodeURIComponent(e)];U.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),U.isString(n)&&o.push("path="+n),U.isString(i)&&o.push("domain="+i),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function d2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function u2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Ch(t,e,s){let n=!d2(e);return t&&(n||s==!1)?u2(t,e):e}const hc=t=>t instanceof Et?{...t}:t;function dn(t,e){e=e||{};const s={};function n(u,d,h,f){return U.isPlainObject(u)&&U.isPlainObject(d)?U.merge.call({caseless:f},u,d):U.isPlainObject(d)?U.merge({},d):U.isArray(d)?d.slice():d}function i(u,d,h,f){if(U.isUndefined(d)){if(!U.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function r(u,d){if(!U.isUndefined(d))return n(void 0,d)}function o(u,d){if(U.isUndefined(d)){if(!U.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d,h)=>i(hc(u),hc(d),h,!0)};return U.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);U.isUndefined(f)&&h!==a||(s[d]=f)}),s}const kh=t=>{const e=dn({},t);let{data:s,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:a}=e;if(e.headers=o=Et.from(o),e.url=vh(Ch(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),U.isFormData(s)){if(vt.hasStandardBrowserEnv||vt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(U.isFunction(s.getHeaders)){const l=s.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&o.set(d,h)})}}if(vt.hasStandardBrowserEnv&&(n&&U.isFunction(n)&&(n=n(e)),n||n!==!1&&l2(e.url))){const l=i&&r&&c2.read(r);l&&o.set(i,l)}return e},h2=typeof XMLHttpRequest<"u",f2=h2&&function(t){return new Promise(function(s,n){const i=kh(t);let r=i.data;const o=Et.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,m,p;function x(){m&&m(),p&&p(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function y(){if(!v)return;const b=Et.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:t,request:v};wh(function(B){s(B),x()},function(B){n(B),x()},O),v=null}"onloadend"in v?v.onloadend=y:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(y)},v.onabort=function(){v&&(n(new Ae("Request aborted",Ae.ECONNABORTED,t,v)),v=null)},v.onerror=function(_){const O=_&&_.message?_.message:"Network Error",z=new Ae(O,Ae.ERR_NETWORK,t,v);z.event=_||null,n(z),v=null},v.ontimeout=function(){let _=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||yh;i.timeoutErrorMessage&&(_=i.timeoutErrorMessage),n(new Ae(_,O.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,t,v)),v=null},r===void 0&&o.setContentType(null),"setRequestHeader"in v&&U.forEach(o.toJSON(),function(_,O){v.setRequestHeader(O,_)}),U.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),a&&a!=="json"&&(v.responseType=i.responseType),u&&([f,p]=Ar(u,!0),v.addEventListener("progress",f)),l&&v.upload&&([h,m]=Ar(l),v.upload.addEventListener("progress",h),v.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=b=>{v&&(n(!b||b.type?new jn(null,t,v):b),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const g=r2(i.url);if(g&&vt.protocols.indexOf(g)===-1){n(new Ae("Unsupported protocol "+g+":",Ae.ERR_BAD_REQUEST,t));return}v.send(r||null)})},p2=(t,e)=>{const{length:s}=t=t?t.filter(Boolean):[];if(e||s){let n=new AbortController,i;const r=function(u){if(!i){i=!0,a();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ae?d:new jn(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,r(new Ae(`timeout ${e} of ms exceeded`,Ae.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(r):u.removeEventListener("abort",r)}),t=null)};t.forEach(u=>u.addEventListener("abort",r));const{signal:l}=n;return l.unsubscribe=()=>U.asap(a),l}},m2=function*(t,e){let s=t.byteLength;if(s<e){yield t;return}let n=0,i;for(;n<s;)i=n+e,yield t.slice(n,i),n=i},g2=async function*(t,e){for await(const s of b2(t))yield*m2(s,e)},b2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:s,value:n}=await e.read();if(s)break;yield n}}finally{await e.cancel()}},fc=(t,e,s,n)=>{const i=g2(t,e);let r=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){a(),l.close();return}let h=d.byteLength;if(s){let f=r+=h;s(f)}l.enqueue(new Uint8Array(d))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},pc=64*1024,{isFunction:Ui}=U,v2=(({Request:t,Response:e})=>({Request:t,Response:e}))(U.global),{ReadableStream:mc,TextEncoder:gc}=U.global,bc=(t,...e)=>{try{return!!t(...e)}catch{return!1}},y2=t=>{t=U.merge.call({skipUndefined:!0},v2,t);const{fetch:e,Request:s,Response:n}=t,i=e?Ui(e):typeof fetch=="function",r=Ui(s),o=Ui(n);if(!i)return!1;const a=i&&Ui(mc),l=i&&(typeof gc=="function"?(p=>x=>p.encode(x))(new gc):async p=>new Uint8Array(await new s(p).arrayBuffer())),u=r&&a&&bc(()=>{let p=!1;const x=new s(vt.origin,{body:new mc,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!x}),d=o&&a&&bc(()=>U.isReadableStream(new n("").body)),h={stream:d&&(p=>p.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!h[p]&&(h[p]=(x,v)=>{let y=x&&x[p];if(y)return y.call(x);throw new Ae(`Response type '${p}' is not supported`,Ae.ERR_NOT_SUPPORT,v)})});const f=async p=>{if(p==null)return 0;if(U.isBlob(p))return p.size;if(U.isSpecCompliantForm(p))return(await new s(vt.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(U.isArrayBufferView(p)||U.isArrayBuffer(p))return p.byteLength;if(U.isURLSearchParams(p)&&(p=p+""),U.isString(p))return(await l(p)).byteLength},m=async(p,x)=>{const v=U.toFiniteNumber(p.getContentLength());return v??f(x)};return async p=>{let{url:x,method:v,data:y,signal:g,cancelToken:b,timeout:_,onDownloadProgress:O,onUploadProgress:z,responseType:B,headers:A,withCredentials:D="same-origin",fetchOptions:W}=kh(p),H=e||fetch;B=B?(B+"").toLowerCase():"text";let C=p2([g,b&&b.toAbortSignal()],_),Q=null;const I=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let q;try{if(z&&u&&v!=="get"&&v!=="head"&&(q=await m(A,y))!==0){let ce=new s(x,{method:"POST",body:y,duplex:"half"}),se;if(U.isFormData(y)&&(se=ce.headers.get("content-type"))&&A.setContentType(se),ce.body){const[N,oe]=dc(q,Ar(uc(z)));y=fc(ce.body,pc,N,oe)}}U.isString(D)||(D=D?"include":"omit");const L=r&&"credentials"in s.prototype,M={...W,signal:C,method:v.toUpperCase(),headers:A.normalize().toJSON(),body:y,duplex:"half",credentials:L?D:void 0};Q=r&&new s(x,M);let R=await(r?H(Q,W):H(x,M));const P=d&&(B==="stream"||B==="response");if(d&&(O||P&&I)){const ce={};["status","statusText","headers"].forEach(De=>{ce[De]=R[De]});const se=U.toFiniteNumber(R.headers.get("content-length")),[N,oe]=O&&dc(se,Ar(uc(O),!0))||[];R=new n(fc(R.body,pc,N,()=>{oe&&oe(),I&&I()}),ce)}B=B||"text";let X=await h[U.findKey(h,B)||"text"](R,p);return!P&&I&&I(),await new Promise((ce,se)=>{wh(ce,se,{data:X,headers:Et.from(R.headers),status:R.status,statusText:R.statusText,config:p,request:Q})})}catch(L){throw I&&I(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,p,Q),{cause:L.cause||L}):Ae.from(L,L&&L.code,p,Q)}}},x2=new Map,Sh=t=>{let e=t?t.env:{};const{fetch:s,Request:n,Response:i}=e,r=[n,i,s];let o=r.length,a=o,l,u,d=x2;for(;a--;)l=r[a],u=d.get(l),u===void 0&&d.set(l,u=a?new Map:y2(e)),d=u;return u};Sh();const ta={http:Ng,xhr:f2,fetch:{get:Sh}};U.forEach(ta,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const vc=t=>`- ${t}`,_2=t=>U.isFunction(t)||t===null||t===!1,Eh={getAdapter:(t,e)=>{t=U.isArray(t)?t:[t];const{length:s}=t;let n,i;const r={};for(let o=0;o<s;o++){n=t[o];let a;if(i=n,!_2(n)&&(i=ta[(a=String(n)).toLowerCase()],i===void 0))throw new Ae(`Unknown adapter '${a}'`);if(i&&(U.isFunction(i)||(i=i.get(e))))break;r[a||"#"+o]=i}if(!i){const o=Object.entries(r).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=s?o.length>1?`since :
`+o.map(vc).join(`
`):" "+vc(o[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i},adapters:ta};function ko(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new jn(null,t)}function yc(t){return ko(t),t.headers=Et.from(t.headers),t.data=Co.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Eh.getAdapter(t.adapter||Di.adapter,t)(t).then(function(n){return ko(t),n.data=Co.call(t,t.transformResponse,n),n.headers=Et.from(n.headers),n},function(n){return _h(n)||(ko(t),n&&n.response&&(n.response.data=Co.call(t,t.transformResponse,n.response),n.response.headers=Et.from(n.response.headers))),Promise.reject(n)})}const Ah="1.12.2",Qr={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Qr[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const xc={};Qr.transitional=function(e,s,n){function i(r,o){return"[Axios v"+Ah+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,a)=>{if(e===!1)throw new Ae(i(o," has been removed"+(s?" in "+s:"")),Ae.ERR_DEPRECATED);return s&&!xc[o]&&(xc[o]=!0,console.warn(i(o," has been deprecated since v"+s+" and will be removed in the near future"))),e?e(r,o,a):!0}};Qr.spelling=function(e){return(s,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function w2(t,e,s){if(typeof t!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const r=n[i],o=e[r];if(o){const a=t[r],l=a===void 0||o(a,r,t);if(l!==!0)throw new Ae("option "+r+" must be "+l,Ae.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new Ae("Unknown option "+r,Ae.ERR_BAD_OPTION)}}const ur={assertOptions:w2,validators:Qr},ts=ur.validators;let an=class{constructor(e){this.defaults=e||{},this.interceptors={request:new lc,response:new lc}}async request(e,s){try{return await this._request(e,s)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(e,s){typeof e=="string"?(s=s||{},s.url=e):s=e||{},s=dn(this.defaults,s);const{transitional:n,paramsSerializer:i,headers:r}=s;n!==void 0&&ur.assertOptions(n,{silentJSONParsing:ts.transitional(ts.boolean),forcedJSONParsing:ts.transitional(ts.boolean),clarifyTimeoutError:ts.transitional(ts.boolean)},!1),i!=null&&(U.isFunction(i)?s.paramsSerializer={serialize:i}:ur.assertOptions(i,{encode:ts.function,serialize:ts.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),ur.assertOptions(s,{baseUrl:ts.spelling("baseURL"),withXsrfToken:ts.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=r&&U.merge(r.common,r[s.method]);r&&U.forEach(["delete","get","head","post","put","patch","common"],p=>{delete r[p]}),s.headers=Et.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(s)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,h=0,f;if(!l){const p=[yc.bind(this),void 0];for(p.unshift(...a),p.push(...u),f=p.length,d=Promise.resolve(s);h<f;)d=d.then(p[h++],p[h++]);return d}f=a.length;let m=s;for(;h<f;){const p=a[h++],x=a[h++];try{m=p(m)}catch(v){x.call(this,v);break}}try{d=yc.call(this,m)}catch(p){return Promise.reject(p)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=dn(this.defaults,e);const s=Ch(e.baseURL,e.url,e.allowAbsoluteUrls);return vh(s,e.params,e.paramsSerializer)}};U.forEach(["delete","get","head","options"],function(e){an.prototype[e]=function(s,n){return this.request(dn(n||{},{method:e,url:s,data:(n||{}).data}))}});U.forEach(["post","put","patch"],function(e){function s(n){return function(r,o,a){return this.request(dn(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}an.prototype[e]=s(),an.prototype[e+"Form"]=s(!0)});let C2=class Ph{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(r){s=r});const n=this;this.promise.then(i=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](i);n._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(a=>{n.subscribe(a),r=a}).then(i);return o.cancel=function(){n.unsubscribe(r)},o},e(function(r,o,a){n.reason||(n.reason=new jn(r,o,a),s(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const s=this._listeners.indexOf(e);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const e=new AbortController,s=n=>{e.abort(n)};return this.subscribe(s),e.signal.unsubscribe=()=>this.unsubscribe(s),e.signal}static source(){let e;return{token:new Ph(function(i){e=i}),cancel:e}}};function k2(t){return function(s){return t.apply(null,s)}}function S2(t){return U.isObject(t)&&t.isAxiosError===!0}const sa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sa).forEach(([t,e])=>{sa[e]=t});function Th(t){const e=new an(t),s=oh(an.prototype.request,e);return U.extend(s,an.prototype,e,{allOwnKeys:!0}),U.extend(s,e,null,{allOwnKeys:!0}),s.create=function(i){return Th(dn(t,i))},s}const Ke=Th(Di);Ke.Axios=an;Ke.CanceledError=jn;Ke.CancelToken=C2;Ke.isCancel=_h;Ke.VERSION=Ah;Ke.toFormData=Zr;Ke.AxiosError=Ae;Ke.Cancel=Ke.CanceledError;Ke.all=function(e){return Promise.all(e)};Ke.spread=k2;Ke.isAxiosError=S2;Ke.mergeConfig=dn;Ke.AxiosHeaders=Et;Ke.formToJSON=t=>xh(U.isHTMLForm(t)?new FormData(t):t);Ke.getAdapter=Eh.getAdapter;Ke.HttpStatusCode=sa;Ke.default=Ke;const{Axios:Gk,AxiosError:zk,CanceledError:Hk,isCancel:Uk,CancelToken:Vk,VERSION:Wk,all:qk,Cancel:Xk,isAxiosError:Yk,spread:Kk,toFormData:Jk,AxiosHeaders:Zk,HttpStatusCode:Qk,formToJSON:eS,getAdapter:tS,mergeConfig:sS}=Ke,E2="https://asdasd.vercel.app/api",A2="https://asdasd.vercel.app/api",Gt=Ke.create({baseURL:E2,timeout:3e4,headers:{"Content-Type":"application/json"}}),Fe=Ke.create({baseURL:A2,timeout:3e4,headers:{"Content-Type":"application/json"}}),nt=Fe;Fe.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>(console.error("Error en request:",t),Promise.reject(t)));Fe.interceptors.response.use(t=>t,async t=>{const e=yt();if(t.response){const{status:s,data:n}=t.response;switch(s){case 401:if(n.codigo==="TOKEN_EXPIRADO")try{const i=localStorage.getItem("refreshToken");if(i){const r=await Gt.post("/auth/refresh",{token:i}),{token:o}=r.data;return localStorage.setItem("token",o),t.config.headers.Authorization=`Bearer ${o}`,Fe.request(t.config)}}catch(i){return localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login",Promise.reject(i)}else e.error(n.mensaje||"No autorizado"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.pathname!=="/login"&&(window.location.href="/login");break;case 403:e.error(n.mensaje||"No tienes permisos para realizar esta accin");break;case 404:e.error(n.mensaje||"Recurso no encontrado");break;case 422:n.errores&&Array.isArray(n.errores)?n.errores.forEach(i=>{e.error(`${i.campo}: ${i.mensaje}`)}):e.error(n.mensaje||"Error de validacin");break;case 429:e.error("Demasiadas solicitudes. Intenta de nuevo ms tarde");break;case 500:e.error("Error interno del servidor. Intenta de nuevo ms tarde");break;default:e.error(n.mensaje||`Error ${s}`)}}else t.request?e.error("Error de conexin. Verifica tu conexin a internet"):e.error("Error inesperado");return Promise.reject(t)});Gt.interceptors.request.use(t=>{const e=localStorage.getItem("token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Gt.interceptors.response.use(t=>t,t=>Promise.reject(t));const Ps={login:t=>Gt.post("/login",t),adminLogin:t=>Gt.post("/login",t),register:t=>Gt.post("/usuarios/registrar",t),logout:()=>Gt.post("/logout"),refreshToken:t=>Gt.post("/refresh-token",{token:t}),verifyToken:()=>Gt.get("/usuarios/perfil"),forgotPassword:t=>Gt.post("/forgot-password",{email:t}),resetPassword:t=>Gt.post("/reset-password",t)},_c={getProfile:()=>Fe.get("/usuarios/perfil"),updateProfile:t=>{const e={};return((t==null?void 0:t.nombre)!==void 0||(t==null?void 0:t.nombre_completo)!==void 0)&&(e.nombre=(t==null?void 0:t.nombre)??(t==null?void 0:t.nombre_completo)),(t==null?void 0:t.telefono)!==void 0&&(e.telefono=t.telefono),(t==null?void 0:t.direccion)!==void 0&&(e.direccion=t.direccion),Fe.put("/usuarios/perfil",e)},changePassword:t=>{const e={contraseaActual:(t==null?void 0:t.current_password)||(t==null?void 0:t.contraseaActual)||"",contraseaNueva:(t==null?void 0:t.new_password)||(t==null?void 0:t.contraseaNueva)||""};return Fe.put("/usuarios/cambiar-contrasea",e)},getUsers:t=>Fe.get("/usuarios",{params:t}),getUserById:t=>Fe.get(`/usuarios/${t}`),updateUser:(t,e)=>Fe.put(`/usuarios/${t}`,e),deactivateUser:t=>Fe.patch(`/usuarios/${t}/desactivar`),reactivateUser:t=>Fe.patch(`/usuarios/${t}/reactivar`)},Rh={getProducts:t=>Fe.get("/catalogo",{params:t}),getProductById:t=>Fe.get(`/catalogo/${t}`),createProduct:t=>Fe.post("/catalogo",t),updateProduct:(t,e)=>Fe.put(`/catalogo/${t}`,e),deactivateProduct:t=>Fe.patch(`/catalogo/${t}/desactivar`),reactivateProduct:t=>Fe.patch(`/catalogo/${t}/reactivar`),getFilterOptions:()=>Fe.get("/catalogo/filtros/opciones"),getStatistics:()=>Fe.get("/catalogo/estadisticas")},wc={getNotifications:t=>Fe.get("/notificaciones",{params:t}),markAsRead:t=>Fe.patch(`/notificaciones/${t}/leida`),markAllAsRead:()=>Fe.patch("/notificaciones/marcar-todas-leidas"),getPreferences:()=>Fe.get("/notificaciones/preferencias"),updatePreferences:t=>Fe.put("/notificaciones/preferencias",t),sendNotification:t=>Fe.post("/notificaciones/enviar",t),getAllNotifications:t=>Fe.get("/notificaciones/admin/todas",{params:t}),getStatistics:()=>Fe.get("/notificaciones/estadisticas")},ws=Oa("auth",()=>{const t=yt(),e=ie(null),s=ie(localStorage.getItem("token")),n=ie(localStorage.getItem("refreshToken")),i=ie(!1),r=ke(()=>!!s.value&&!!e.value),o=ke(()=>{const b=e.value||{},_=(b.rol||"").toString().toLowerCase();return b.is_admin===!0||b.admin===!0||_==="admin"||_==="administrador"}),a=ke(()=>{var b;return((b=e.value)==null?void 0:b.nombre)||""}),l=ke(()=>{var b;return((b=e.value)==null?void 0:b.email)||""}),u=async(b,_={})=>{var O,z;try{i.value=!0;const D=(_.admin===!0?await Ps.adminLogin(b):await Ps.login(b)).data||{},W=D.token,H=D.refreshToken,C=D.usuario;return s.value=W,n.value=H,e.value=C,localStorage.setItem("token",W),localStorage.setItem("refreshToken",H),localStorage.setItem("user",JSON.stringify(C)),nt.defaults.headers.common.Authorization=`Bearer ${W}`,t.success(`Bienvenido, ${(C==null?void 0:C.nombre)||"Usuario"}!`),{success:!0,user:C}}catch(B){const A=((z=(O=B.response)==null?void 0:O.data)==null?void 0:z.mensaje)||"Error al iniciar sesin";return t.error(A),{success:!1,error:A}}finally{i.value=!1}},d=async b=>{var _,O;try{i.value=!0;const z=await Ps.register(b);return t.success("Cuenta creada exitosamente! Ahora puedes iniciar sesin"),{success:!0,message:"Usuario registrado exitosamente"}}catch(z){const B=((O=(_=z.response)==null?void 0:_.data)==null?void 0:O.mensaje)||"Error al registrarse";return t.error(B),{success:!1,error:B}}finally{i.value=!1}},h=async()=>{try{s.value&&await Ps.logout()}catch(b){console.warn("Error al hacer logout en el servidor:",b)}finally{e.value=null,s.value=null,n.value=null,localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),delete nt.defaults.headers.common.Authorization,t.info("Sesin cerrada correctamente")}},f=async()=>{try{if(!s.value)throw new Error("No hay token disponible");const b=await Ps.verifyToken();return e.value=b.data.usuario,{success:!0,user:b.data.usuario}}catch(b){if(n.value)try{return await m()}catch(_){throw _}throw b}},m=async()=>{try{if(!n.value)throw new Error("No hay refresh token disponible");const b=await Ps.refreshToken(n.value),{token:_,usuario:O}=b.data;return s.value=_,e.value=O,localStorage.setItem("token",_),nt.defaults.headers.common.Authorization=`Bearer ${_}`,{success:!0,user:O}}catch(b){throw b}};return{user:e,token:s,refreshToken:n,isLoading:i,isAuthenticated:r,isAdmin:o,userName:a,userEmail:l,login:u,register:d,logout:h,verifyToken:f,refreshAccessToken:m,updateProfile:async b=>{var _,O;try{i.value=!0;const z=await _c.updateProfile(b);return e.value={...e.value,...z.data.usuario},{success:!0,user:e.value}}catch(z){return{success:!1,error:((O=(_=z.response)==null?void 0:_.data)==null?void 0:O.mensaje)||"Error al actualizar perfil"}}finally{i.value=!1}},changePassword:async b=>{var _,O;try{return i.value=!0,await _c.changePassword(b),{success:!0}}catch(z){return{success:!1,error:((O=(_=z.response)==null?void 0:_.data)==null?void 0:O.mensaje)||"Error al cambiar contrasea"}}finally{i.value=!1}},forgotPassword:async b=>{var _,O;try{return i.value=!0,await Ps.forgotPassword(b),t.success("Se ha enviado un enlace de recuperacin a tu correo"),{success:!0}}catch(z){const B=((O=(_=z.response)==null?void 0:_.data)==null?void 0:O.mensaje)||"Error al enviar correo de recuperacin";return t.error(B),{success:!1,error:B}}finally{i.value=!1}},resetPassword:async b=>{var _,O;try{return i.value=!0,await Ps.resetPassword(b),t.success("Contrasea restablecida correctamente"),{success:!0}}catch(z){const B=((O=(_=z.response)==null?void 0:_.data)==null?void 0:O.mensaje)||"Error al restablecer contrasea";return t.error(B),{success:!1,error:B}}finally{i.value=!1}},initialize:async()=>{if(s.value){nt.defaults.headers.common.Authorization=`Bearer ${s.value}`;const b=localStorage.getItem("user");if(b)try{e.value=JSON.parse(b)}catch{e.value=null}if(!e.value)try{const _=await f();e.value=_.user}catch{e.value=null,s.value=null,n.value=null,localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),delete nt.defaults.headers.common.Authorization}}}}}),Fa="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyODAgODAiIHdpZHRoPSIyODAiIGhlaWdodD0iODAiPgogIDwhLS0gRm9uZG8gYmxhbmNvIGNvbiBib3JkZSBuZWdybyByZWRvbmRlYWRvIC0tPgogIDxyZWN0IHg9IjIiIHk9IjIiIHdpZHRoPSIyNzYiIGhlaWdodD0iNzYiIHJ4PSI4IiByeT0iOCIgZmlsbD0id2hpdGUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgCiAgPCEtLSBUZXh0byBDT01FUkNJQUwgZW4gYXp1bCAtLT4KICA8dGV4dCB4PSIxNSIgeT0iMzUiIGZvbnQtZmFtaWx5PSJBcmlhbCBCbGFjaywgQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjIiIGZvbnQtd2VpZ2h0PSI5MDAiIGZpbGw9IiMxRTVBOTYiIGxldHRlci1zcGFjaW5nPSItMC41cHgiPkNPTUVSQ0lBTDwvdGV4dD4KICAKICA8IS0tIFRleHRvIEhHIGVuIHJvam8sIG9jdXBhbmRvIHRvZGEgbGEgYWx0dXJhIC0tPgogIDx0ZXh0IHg9IjE5MCIgeT0iNTUiIGZvbnQtZmFtaWx5PSJBcmlhbCBCbGFjaywgQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iNTAiIGZvbnQtd2VpZ2h0PSI5MDAiIGZpbGw9IiNEQzE0M0MiIGxldHRlci1zcGFjaW5nPSItMnB4Ij5IRzwvdGV4dD4KICAKICA8IS0tIEzDrW5lYSBzZXBhcmFkb3JhIGdyaXMgLS0+CiAgPGxpbmUgeDE9IjE1IiB5MT0iNDUiIHgyPSIxNzUiIHkyPSI0NSIgc3Ryb2tlPSIjOTk5OTk5IiBzdHJva2Utd2lkdGg9IjEiLz4KICAKICA8IS0tIFN1YnTDrXR1bG8gZW4gZ3JpcywgbcOhcyBwZXF1ZcOxbyAtLT4KICA8dGV4dCB4PSIxNSIgeT0iNjAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMCIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgZmlsbD0iIzY2NjY2NiIgbGV0dGVyLXNwYWNpbmc9IjAuM3B4Ij5NdWVibGVzIERlIEJhw7FvIHkgQ29jaW5hPC90ZXh0Pgo8L3N2Zz4=",ut=(t,e)=>{const s=t.__vccOpts||t;for(const[n,i]of e)s[n]=i;return s},P2={class:"bg-white shadow-lg sticky top-0 z-40"},T2={class:"container-custom"},R2={class:"flex justify-between items-center h-16"},M2={class:"flex items-center"},I2={key:0,class:"hidden md:flex items-center space-x-8"},O2={class:"flex items-center space-x-4"},L2={key:0,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},$2=["src","alt"],D2={class:"hidden sm:block text-sm font-medium text-gray-700"},N2={key:0,class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200"},B2={key:2,class:"flex items-center space-x-3"},j2={key:0,class:"md:hidden border-t border-gray-200"},F2={key:0,class:"px-2 pt-2 pb-3 space-y-1 bg-white"},G2={key:6,class:"pt-4 border-t border-gray-200"},z2={key:7,class:"pt-4 border-t border-gray-200"},H2={key:0,class:"fixed inset-y-0 right-0 w-80 bg-white shadow-xl z-50 overflow-y-auto"},U2={class:"p-4 border-b border-gray-200"},V2={class:"flex items-center justify-between"},W2={class:"p-4"},q2={key:0,class:"text-center py-8"},X2={key:1,class:"space-y-3"},Y2=["onClick"],K2={class:"flex items-start space-x-3"},J2={class:"flex-shrink-0"},Z2={class:"flex-1 min-w-0"},Q2={class:"text-sm font-medium text-gray-900"},e4={class:"text-sm text-gray-600 mt-1"},t4={class:"text-xs text-gray-500 mt-2"},s4={key:2,class:"mt-4 text-center"},n4={__name:"NavBar",setup(t){const e=as(),s=yt(),n=ws(),i=ie(!1),r=ie(!1),o=ie(!1),a=ie(!1),l=ie([]),u=ie(0),d=ie(null),h=ke(()=>l.value.filter(B=>!B.leida).length),f=async()=>{n.isAuthenticated&&(await new Promise(B=>setTimeout(B,200)),l.value=[{id:1,titulo:"Bienvenido a Comercial HG",mensaje:"Gracias por registrarte. Explora nuestro catlogo de muebles.",leida:!1,created_at:new Date(Date.now()-1e3*60*30).toISOString()},{id:2,titulo:"Nuevos productos disponibles",mensaje:"Hemos agregado nuevos muebles de bao, cocina y closets a nuestro catlogo.",leida:!0,created_at:new Date(Date.now()-1e3*60*60*24).toISOString()}])},m=async()=>{n.isAuthenticated&&(await new Promise(B=>setTimeout(B,100)),u.value=2)},p=()=>{i.value=!i.value,r.value=!1,o.value=!1},x=()=>{r.value=!r.value,i.value=!1,o.value=!1},v=()=>{o.value=!o.value,i.value=!1,r.value=!1,o.value&&f()},y=()=>{i.value=!1,r.value=!1,o.value=!1,a.value=!1},g=async B=>{await new Promise(D=>setTimeout(D,100));const A=l.value.find(D=>D.id===B);A&&(A.leida=!0)},b=async()=>{await new Promise(B=>setTimeout(B,200)),l.value.forEach(B=>{B.leida=!0}),s.success("Todas las notificaciones marcadas como ledas")},_=async()=>{try{await n.logout(),y(),e.push("/"),s.success("Sesin cerrada exitosamente")}catch(B){console.error("Error cerrando sesin:",B),s.error("Error al cerrar sesin")}},O=B=>{const A=new Date(B),W=(new Date-A)/(1e3*60*60);return W<1?"Hace unos minutos":W<24?`Hace ${Math.floor(W)} horas`:W<48?"Ayer":A.toLocaleDateString("es-ES",{day:"numeric",month:"short"})},z=B=>{d.value&&!d.value.contains(B.target)&&(i.value=!1)};return $t(()=>{document.addEventListener("click",z),n.isAuthenticated&&(f(),m())}),Nr(()=>{document.removeEventListener("click",z)}),(B,A)=>{var W,H,C,Q,I,q;const D=rt("RouterLink");return w(),E("nav",P2,[c("div",T2,[c("div",R2,[c("div",M2,[he(D,{to:"/",class:"flex items-center"},{default:pe(()=>[...A[12]||(A[12]=[c("img",{src:Fa,alt:"Comercial HG - Muebles De Bao y Cocina A Medidas",class:"h-10 w-auto"},null,-1)])]),_:1})]),Oe(n).isAdmin?Z("",!0):(w(),E("div",I2,[Oe(n).isAuthenticated?(w(),Ye(D,{key:0,to:"/cotizaciones",class:re(["nav-link",{"nav-link-active":B.$route.path.startsWith("/cotizaciones")}])},{default:pe(()=>[...A[13]||(A[13]=[J(" Cotizaciones ",-1)])]),_:1},8,["class"])):Z("",!0),Oe(n).isAuthenticated?(w(),Ye(D,{key:1,to:"/dashboard",class:re(["nav-link",{"nav-link-active":B.$route.path.startsWith("/dashboard")}])},{default:pe(()=>[...A[14]||(A[14]=[J(" Inicio ",-1)])]),_:1},8,["class"])):Z("",!0),Oe(n).isAuthenticated?(w(),Ye(D,{key:2,to:"/analisis-espacio",class:re(["nav-link",{"nav-link-active":B.$route.path.startsWith("/analisis-espacio")}])},{default:pe(()=>[...A[15]||(A[15]=[J(" Anlisis de espacio ",-1)])]),_:1},8,["class"])):Z("",!0),Oe(n).isAuthenticated?(w(),Ye(D,{key:3,to:"/mis-cotizaciones",class:re(["nav-link",{"nav-link-active":B.$route.path.startsWith("/mis-cotizaciones")}])},{default:pe(()=>[...A[16]||(A[16]=[J(" Mis Cotizaciones ",-1)])]),_:1},8,["class"])):Z("",!0)])),c("div",O2,[Oe(n).isAuthenticated?(w(),E("button",{key:0,class:"relative p-2 text-gray-600 hover:text-primary-600 transition-colors",onClick:v},[A[17]||(A[17]=c("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),h.value>0?(w(),E("span",L2,F(h.value),1)):Z("",!0)])):Z("",!0),Oe(n).isAuthenticated?(w(),E("div",{key:1,ref_key:"userMenuRef",ref:d,class:"relative"},[c("button",{class:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",onClick:p},[c("img",{src:(W=Oe(n).user)!=null&&W.avatar_url&&!((H=Oe(n).user)!=null&&H.avatar_url.includes("default-avatar"))?(C=Oe(n).user)==null?void 0:C.avatar_url:"/images/muebles/perfil.webp",alt:(Q=Oe(n).user)==null?void 0:Q.nombre_completo,class:"w-8 h-8 rounded-full object-cover"},null,8,$2),c("span",D2,F((q=(I=Oe(n).user)==null?void 0:I.nombre_completo)==null?void 0:q.split(" ")[0]),1),(w(),E("svg",{class:re(["w-4 h-4 text-gray-500 transition-transform",{"rotate-180":i.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...A[18]||(A[18]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),he(ho,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:pe(()=>[i.value?(w(),E("div",N2,[he(D,{to:"/perfil",class:"dropdown-item",onClick:A[0]||(A[0]=L=>i.value=!1)},{default:pe(()=>[...A[19]||(A[19]=[c("svg",{class:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1),J(" Mi Perfil ",-1)])]),_:1}),he(D,{to:"/mis-cotizaciones",class:"dropdown-item",onClick:A[1]||(A[1]=L=>i.value=!1)},{default:pe(()=>[...A[20]||(A[20]=[c("svg",{class:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1),J(" Mis Cotizaciones ",-1)])]),_:1}),Oe(n).isAdmin?(w(),Ye(D,{key:0,to:"/admin",class:"dropdown-item",onClick:A[2]||(A[2]=L=>i.value=!1)},{default:pe(()=>[...A[21]||(A[21]=[c("svg",{class:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),J(" Administracin ",-1)])]),_:1})):Z("",!0),A[23]||(A[23]=c("hr",{class:"my-1"},null,-1)),c("button",{class:"dropdown-item w-full text-left text-red-600 hover:bg-red-50",onClick:_},[...A[22]||(A[22]=[c("svg",{class:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),J(" Cerrar Sesin ",-1)])])])):Z("",!0)]),_:1})],512)):(w(),E("div",B2,[he(D,{to:"/login",class:"text-gray-600 hover:text-primary-600 font-medium transition-colors"},{default:pe(()=>[...A[24]||(A[24]=[J(" Iniciar Sesin ",-1)])]),_:1}),he(D,{to:"/register",class:"btn-primary"},{default:pe(()=>[...A[25]||(A[25]=[J(" Registrarse ",-1)])]),_:1})])),c("button",{class:"md:hidden p-2 text-gray-600 hover:text-primary-600 transition-colors",onClick:x},[(w(),E("svg",{class:re(["w-6 h-6",{hidden:r.value,block:!r.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...A[26]||(A[26]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,-1)])],2)),(w(),E("svg",{class:re(["w-6 h-6",{block:r.value,hidden:!r.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...A[27]||(A[27]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])],2))])])]),he(ho,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:pe(()=>[r.value?(w(),E("div",j2,[Oe(n).isAdmin?Z("",!0):(w(),E("div",F2,[Oe(n).isAuthenticated?(w(),Ye(D,{key:0,to:"/cotizaciones",class:"mobile-nav-link",onClick:A[3]||(A[3]=L=>r.value=!1)},{default:pe(()=>[...A[28]||(A[28]=[J(" Cotizaciones ",-1)])]),_:1})):Z("",!0),Oe(n).isAuthenticated?(w(),Ye(D,{key:1,to:"/analisis-espacio",class:"mobile-nav-link",onClick:A[4]||(A[4]=L=>r.value=!1)},{default:pe(()=>[...A[29]||(A[29]=[J(" Anlisis de espacio ",-1)])]),_:1})):Z("",!0),Oe(n).isAuthenticated?(w(),Ye(D,{key:2,to:"/mis-cotizaciones",class:"mobile-nav-link",onClick:A[5]||(A[5]=L=>r.value=!1)},{default:pe(()=>[...A[30]||(A[30]=[J(" Mis Cotizaciones ",-1)])]),_:1})):Z("",!0),Oe(n).isAuthenticated?(w(),Ye(D,{key:3,to:"/dashboard",class:"mobile-nav-link",onClick:A[6]||(A[6]=L=>r.value=!1)},{default:pe(()=>[...A[31]||(A[31]=[J(" Dashboard ",-1)])]),_:1})):Z("",!0),Oe(n).isAuthenticated?(w(),Ye(D,{key:4,to:"/perfil",class:"mobile-nav-link",onClick:A[7]||(A[7]=L=>r.value=!1)},{default:pe(()=>[...A[32]||(A[32]=[J(" Mi Perfil ",-1)])]),_:1})):Z("",!0),Oe(n).isAdmin?(w(),Ye(D,{key:5,to:"/admin",class:"mobile-nav-link",onClick:A[8]||(A[8]=L=>r.value=!1)},{default:pe(()=>[...A[33]||(A[33]=[J(" Administracin ",-1)])]),_:1})):Z("",!0),!Oe(n).isAuthenticated&&!Oe(n).isAdmin?(w(),E("div",G2,[he(D,{to:"/login",class:"mobile-nav-link",onClick:A[9]||(A[9]=L=>r.value=!1)},{default:pe(()=>[...A[34]||(A[34]=[J(" Iniciar Sesin ",-1)])]),_:1}),he(D,{to:"/register",class:"mobile-nav-link",onClick:A[10]||(A[10]=L=>r.value=!1)},{default:pe(()=>[...A[35]||(A[35]=[J(" Registrarse ",-1)])]),_:1})])):(w(),E("div",z2,[c("button",{class:"mobile-nav-link w-full text-left text-red-600",onClick:_}," Cerrar Sesin ")]))]))])):Z("",!0)]),_:1})]),he(ho,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"transform translate-x-full","enter-to-class":"transform translate-x-0","leave-active-class":"transition ease-in duration-200","leave-from-class":"transform translate-x-0","leave-to-class":"transform translate-x-full"},{default:pe(()=>[o.value?(w(),E("div",H2,[c("div",U2,[c("div",V2,[A[37]||(A[37]=c("h3",{class:"text-lg font-semibold text-gray-900"},"Notificaciones",-1)),c("button",{class:"p-1 text-gray-400 hover:text-gray-600",onClick:A[11]||(A[11]=L=>o.value=!1)},[...A[36]||(A[36]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),c("div",W2,[l.value.length===0?(w(),E("div",q2,[...A[38]||(A[38]=[c("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),c("p",{class:"mt-2 text-sm text-gray-500"},"No tienes notificaciones",-1)])])):(w(),E("div",X2,[(w(!0),E(we,null,Le(l.value,L=>(w(),E("div",{key:L.id,class:re(["p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",{"bg-blue-50 border-blue-200":!L.leida}]),onClick:M=>g(L.id)},[c("div",K2,[c("div",J2,[c("div",{class:re(["w-2 h-2 rounded-full",L.leida?"bg-gray-300":"bg-blue-500"])},null,2)]),c("div",Z2,[c("p",Q2,F(L.titulo),1),c("p",e4,F(L.mensaje),1),c("p",t4,F(O(L.created_at)),1)])])],10,Y2))),128))])),l.value.length>0?(w(),E("div",s4,[c("button",{class:"text-sm text-primary-600 hover:text-primary-800",onClick:b}," Marcar todas como ledas ")])):Z("",!0)])])):Z("",!0)]),_:1}),o.value?(w(),E("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-25 z-40",onClick:y})):Z("",!0)])}}},i4=ut(n4,[["__scopeId","data-v-daf1474d"]]),Ni="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NTAgMTUwIiB3aWR0aD0iNTUwIiBoZWlnaHQ9IjE1MCI+CiAgPCEtLSBGb25kbyBibGFuY28gY29uIGJvcmRlIG5lZ3JvIHJlZG9uZGVhZG8gLS0+CiAgPHJlY3QgeD0iMyIgeT0iMyIgd2lkdGg9IjU0NCIgaGVpZ2h0PSIxNDQiIHJ4PSIxMiIgcnk9IjEyIiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2Utd2lkdGg9IjMiLz4KICAKICA8IS0tIFRleHRvIENPTUVSQ0lBTCBlbiBhenVsIC0tPgogIDx0ZXh0IHg9IjI1IiB5PSI2NSIgZm9udC1mYW1pbHk9IkFyaWFsIEJsYWNrLCBBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSI0MiIgZm9udC13ZWlnaHQ9IjkwMCIgZmlsbD0iIzFFNUE5NiIgbGV0dGVyLXNwYWNpbmc9Ii0xcHgiPkNPTUVSQ0lBTDwvdGV4dD4KICAKICA8IS0tIFRleHRvIEhHIGVuIHJvam8sIG9jdXBhbmRvIHRvZGEgbGEgYWx0dXJhIC0tPgogIDx0ZXh0IHg9IjM1MCIgeT0iOTUiIGZvbnQtZmFtaWx5PSJBcmlhbCBCbGFjaywgQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iOTUiIGZvbnQtd2VpZ2h0PSI5MDAiIGZpbGw9IiNEQzE0M0MiIGxldHRlci1zcGFjaW5nPSItM3B4Ij5IRzwvdGV4dD4KICAKICA8IS0tIEzDrW5lYSBzZXBhcmFkb3JhIGdyaXMgLS0+CiAgPGxpbmUgeDE9IjI1IiB5MT0iODUiIHgyPSIzMzAiIHkyPSI4NSIgc3Ryb2tlPSIjOTk5OTk5IiBzdHJva2Utd2lkdGg9IjEuNSIvPgogIAogIDwhLS0gU3VidMOtdHVsbyBlbiBncmlzIC0tPgogIDx0ZXh0IHg9IjI1IiB5PSIxMTAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgZmlsbD0iIzY2NjY2NiIgbGV0dGVyLXNwYWNpbmc9IjAuNXB4Ij5NdWVibGVzIERlIEJhw7FvIHkgQ29jaW5hIEEgTWVkaWRhczwvdGV4dD4KPC9zdmc+",r4={class:"bg-gray-900 text-white"},o4={class:"container-custom py-12"},a4={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8"},l4={class:"space-y-4"},c4={class:"space-y-2"},d4={class:"space-y-4"},u4={class:"space-y-2"},h4={class:"space-y-4"},f4={class:"pt-4"},p4={class:"space-y-1"},m4={class:"border-t border-gray-800"},g4={class:"container-custom py-6"},b4={class:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0"},v4={class:"text-gray-400 text-sm"},y4={class:"flex flex-wrap justify-center md:justify-end space-x-6 text-sm"},x4={__name:"FooterComponent",setup(t){const e=ke(()=>new Date().getFullYear());return(s,n)=>{const i=rt("RouterLink");return w(),E("footer",r4,[c("div",o4,[c("div",a4,[n[13]||(n[13]=dt('<div class="space-y-4" data-v-e4dec1b6><div data-v-e4dec1b6><img src="'+Ni+'" alt="Comercial HG - Muebles De Bao y Cocina A Medidas" class="h-16 w-auto mx-auto" data-v-e4dec1b6></div><p class="text-gray-300 text-sm leading-relaxed" data-v-e4dec1b6> Creamos muebles nicos y personalizados con la mejor calidad y diseo. Nuestra IA te ayuda a encontrar el mueble perfecto para tu espacio. </p><div class="flex space-x-4" data-v-e4dec1b6><a href="https://www.instagram.com/comercial.hg?utm_source=ig_web_button_share_sheet&amp;igsh=ZDNlZDc0MzIxNw==" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition-colors" title="Sguenos en Instagram" data-v-e4dec1b6><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24" data-v-e4dec1b6><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" data-v-e4dec1b6></path></svg></a></div></div>',1)),c("div",l4,[n[3]||(n[3]=c("h3",{class:"text-lg font-semibold"},"Enlaces Rpidos",-1)),c("ul",c4,[c("li",null,[he(i,{to:"/sobre-nosotros",class:"footer-link"},{default:pe(()=>[...n[0]||(n[0]=[J(" Sobre Nosotros ",-1)])]),_:1})]),c("li",null,[he(i,{to:"/como-funciona",class:"footer-link"},{default:pe(()=>[...n[1]||(n[1]=[J(" Cmo Funciona ",-1)])]),_:1})]),c("li",null,[he(i,{to:"/testimonios",class:"footer-link"},{default:pe(()=>[...n[2]||(n[2]=[J(" Testimonios ",-1)])]),_:1})])])]),c("div",d4,[n[7]||(n[7]=c("h3",{class:"text-lg font-semibold"},"Categoras",-1)),c("ul",u4,[c("li",null,[he(i,{to:"/catalogo?categoria=bano",class:"footer-link"},{default:pe(()=>[...n[4]||(n[4]=[J(" Muebles de Bao ",-1)])]),_:1})]),c("li",null,[he(i,{to:"/catalogo?categoria=cocina",class:"footer-link"},{default:pe(()=>[...n[5]||(n[5]=[J(" Muebles de Cocina ",-1)])]),_:1})]),c("li",null,[he(i,{to:"/catalogo?categoria=closets",class:"footer-link"},{default:pe(()=>[...n[6]||(n[6]=[J(" Closets ",-1)])]),_:1})])])]),c("div",h4,[n[12]||(n[12]=dt('<h3 class="text-lg font-semibold" data-v-e4dec1b6>Contacto</h3><div class="space-y-3" data-v-e4dec1b6><div class="flex items-center space-x-3" data-v-e4dec1b6><svg class="w-5 h-5 text-primary-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-e4dec1b6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-e4dec1b6></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-e4dec1b6></path></svg><span class="text-gray-300 text-sm" data-v-e4dec1b6> Franklin 565, Santiago centro, Santiago, Chile </span></div><div class="flex items-center space-x-3" data-v-e4dec1b6><svg class="w-5 h-5 text-primary-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-e4dec1b6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" data-v-e4dec1b6></path></svg><span class="text-gray-300 text-sm" data-v-e4dec1b6> +56998163536 </span></div><div class="flex items-center space-x-3" data-v-e4dec1b6><svg class="w-5 h-5 text-primary-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-e4dec1b6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" data-v-e4dec1b6></path></svg><span class="text-gray-300 text-sm" data-v-e4dec1b6> contacto@comercialhg.com </span></div><div class="flex items-center space-x-3" data-v-e4dec1b6><svg class="w-5 h-5 text-primary-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-e4dec1b6><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" data-v-e4dec1b6></path></svg><span class="text-gray-300 text-sm" data-v-e4dec1b6> Lun - Vie: 9:00 AM - 6:00 PM </span></div></div>',2)),c("div",f4,[n[11]||(n[11]=c("h4",{class:"text-sm font-semibold mb-2"},"Soporte",-1)),c("ul",p4,[c("li",null,[he(i,{to:"/ayuda",class:"footer-link text-sm"},{default:pe(()=>[...n[8]||(n[8]=[J(" Centro de Ayuda ",-1)])]),_:1})]),c("li",null,[he(i,{to:"/contacto",class:"footer-link text-sm"},{default:pe(()=>[...n[9]||(n[9]=[J(" Contactar Soporte ",-1)])]),_:1})]),c("li",null,[he(i,{to:"/faq",class:"footer-link text-sm"},{default:pe(()=>[...n[10]||(n[10]=[J(" Preguntas Frecuentes ",-1)])]),_:1})])])])])])]),c("div",m4,[c("div",g4,[c("div",b4,[c("div",v4,"  "+F(e.value)+" Comercial HG. Todos los derechos reservados. ",1),c("div",y4,[he(i,{to:"/privacidad",class:"footer-link"},{default:pe(()=>[...n[14]||(n[14]=[J(" Poltica de Privacidad ",-1)])]),_:1}),he(i,{to:"/terminos",class:"footer-link"},{default:pe(()=>[...n[15]||(n[15]=[J(" Trminos de Servicio ",-1)])]),_:1}),he(i,{to:"/cookies",class:"footer-link"},{default:pe(()=>[...n[16]||(n[16]=[J(" Poltica de Cookies ",-1)])]),_:1}),he(i,{to:"/sitemap",class:"footer-link"},{default:pe(()=>[...n[17]||(n[17]=[J(" Mapa del Sitio ",-1)])]),_:1})])])])])])}}},_4=ut(x4,[["__scopeId","data-v-e4dec1b6"]]),w4={name:"App",components:{NavBar:i4,AppFooter:_4},setup(){const t=Xr(),e=Jm(),s=ws(),n=["login","register","forgot-password","reset-password"],i=ke(()=>n.includes(t.name)),r=ke(()=>e.isLoading),o=ke(()=>s.isAuthenticated),a=()=>{var d,h;if(window.__vf_loaded)return;if((h=(d=window.voiceflow)==null?void 0:d.chat)!=null&&h.load){window.voiceflow.chat.load({verify:{projectID:"692e5439a0ee2bf2ac627eb2"},url:"https://general-runtime.voiceflow.com",versionID:"development",assistant:{name:"Bot de Recomendacion"},voice:{url:"https://runtime-api.voiceflow.com"}}),window.__vf_loaded=!0;return}if(window.__vf_widget_init)return;window.__vf_widget_init=!0;const l=document.createElement("script");l.onload=()=>{window.voiceflow.chat.load({verify:{projectID:"692e5439a0ee2bf2ac627eb2"},url:"https://general-runtime.voiceflow.com",versionID:"development",assistant:{name:"Bot de Recomendacion"},voice:{url:"https://runtime-api.voiceflow.com"}}),window.__vf_loaded=!0},l.src="https://cdn.voiceflow.com/widget-next/bundle.mjs",l.type="text/javascript";const u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(l,u)};return o.value&&a(),ct(o,l=>{l&&a()}),{isAuthPage:i,isLoading:r,isAuthenticated:o}}},C4={id:"app",class:"min-h-screen bg-gray-50"};function k4(t,e,s,n,i,r){const o=rt("NavBar"),a=rt("RouterView"),l=rt("AppFooter");return w(),E("div",C4,[n.isAuthPage?Z("",!0):(w(),Ye(o,{key:0})),c("main",{class:re({"pt-8":!n.isAuthPage})},[he(a)],2),n.isAuthPage?Z("",!0):(w(),Ye(l,{key:1}))])}const S4=ut(w4,[["render",k4]]),E4="/images/muebles/Cocina2.jpg",A4="/images/muebles/Cocina3.jpg",P4="/images/muebles/Cocina4.jpg",T4="/images/muebles/Cocina5.jpg",R4="/images/muebles/Cocina6.jpg",M4={class:"home-page"},I4={class:"hero-section relative text-white py-20",style:{"background-image":"url('/images/muebles/Cocina.jpg')","background-size":"cover","background-position":"center"}},O4={class:"container mx-auto px-4 relative z-10"},L4={class:"text-center"},$4={class:"flex flex-col sm:flex-row gap-4 justify-center"},D4={class:"py-16 bg-white"},N4={class:"container mx-auto px-4"},B4={class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},j4=["src"],F4={class:"py-20 bg-blue-600 text-white"},G4={class:"container mx-auto px-4 text-center"},z4={class:"flex flex-col sm:flex-row gap-4 justify-center animate-slide-up"},H4={__name:"HomeView",setup(t){const e=yt(),s=ie({productos:500,clientes:1200,recomendaciones:2500}),n=ie({connected:!1,testing:!1,error:null}),i=ie(!1),r=ie([]),o=ie(0),a=d=>{r.value=[d],o.value=0,i.value=!0},l=()=>{i.value=!1},u=async()=>{var d,h;n.value.testing=!0,n.value.error=null;try{console.log(" Probando conexin con Xano...");const f=await Rh.getProducts({limit:1});if(console.log(" Conexin exitosa con Xano!"),console.log(" Datos recibidos:",f.data),f.data&&typeof f.data=="object")n.value.connected=!0,console.log(" Estructura de respuesta vlida"),n.value.error&&e.success(" Conexin con Xano restablecida"),f.data.productos&&Array.isArray(f.data.productos)&&(s.value.productos=f.data.productos.length>0?500:0);else throw new Error("Respuesta invlida del servidor")}catch(f){console.error(" Error conectando con Xano:",((h=(d=f==null?void 0:f.response)==null?void 0:d.data)==null?void 0:h.message)||(f==null?void 0:f.message)||f),n.value.connected=!1;let m="Error de conexin";f.response?f.response.status>=500?(m="Error del servidor. Verifica la configuracin de Xano.",e.error(` ${m}`)):f.response.status===404?(m="Endpoint no encontrado. Verifica la URL de la API.",e.error(` ${m}`)):(m=`Error ${f.response.status}: ${f.response.statusText}`,e.error(` ${m}`)):f.request?(m="No se pudo conectar con el servidor de Xano. Verifica la URL y tu conexin a internet.",e.error(` ${m}`)):(m=`Error de configuracin: ${f.message}`,e.error(` ${m}`)),n.value.error=m}finally{n.value.testing=!1}};return $t(()=>{console.log("HomeView montado correctamente"),u()}),(d,h)=>{const f=rt("RouterLink");return w(),E("div",M4,[c("section",I4,[h[10]||(h[10]=c("div",{class:"absolute inset-0 bg-gradient-to-r from-blue-900/70 to-red-900/70"},null,-1)),c("div",O4,[c("div",L4,[h[8]||(h[8]=c("h1",{class:"text-4xl md:text-6xl font-bold mb-6"},[J(" Recomendacin Personalizada de Muebles "),c("span",{class:"text-blue-300"},"con Inteligencia Artificial")],-1)),h[9]||(h[9]=c("p",{class:"text-xl md:text-2xl mb-8 text-gray-200"}," Descubre muebles personalizados que se adaptan perfectamente a tu espacio y estilo. ",-1)),c("div",$4,[he(f,{to:"/recomendaciones",class:"bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition-colors"},{default:pe(()=>[...h[6]||(h[6]=[J(" Obtener Recomendacin IA ",-1)])]),_:1}),he(f,{to:"/catalogo",class:"bg-transparent text-white px-8 py-4 rounded-lg font-semibold border-2 border-white hover:bg-white hover:text-blue-600 transition-colors"},{default:pe(()=>[...h[7]||(h[7]=[J(" Ver Catlogo ",-1)])]),_:1})])])])]),h[16]||(h[16]=dt('<section class="py-20 bg-blue-50" data-v-25d6c49c><div class="container mx-auto px-4" data-v-25d6c49c><div class="text-center mb-16" data-v-25d6c49c><h2 class="text-3xl md:text-4xl font-bold mb-4" data-v-25d6c49c> Por qu elegir Comercial HG? </h2><p class="text-xl text-gray-600" data-v-25d6c49c> Combinamos la artesana tradicional con tecnologa de vanguardia </p></div><div class="grid md:grid-cols-3 gap-8" data-v-25d6c49c><div class="text-center p-6 bg-white rounded-lg shadow-md animate-fade-in transition-transform hover:-translate-y-1 hover:shadow-lg border-t-4 border-blue-600" data-v-25d6c49c><div class="w-16 h-16 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mx-auto mb-4" data-v-25d6c49c><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-25d6c49c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" data-v-25d6c49c></path></svg></div><h3 class="text-xl font-semibold mb-2" data-v-25d6c49c>Recomendaciones IA</h3><p class="text-gray-600" data-v-25d6c49c> Nuestra inteligencia artificial analiza tu espacio y preferencias para sugerir muebles perfectos </p></div><div class="text-center p-6 bg-white rounded-lg shadow-md border-t-4 border-red-600" data-v-25d6c49c><div class="w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-4" data-v-25d6c49c><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-25d6c49c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z" data-v-25d6c49c></path></svg></div><h3 class="text-xl font-semibold mb-2" data-v-25d6c49c>Personalizacin Total</h3><p class="text-gray-600" data-v-25d6c49c> Adapta cada mueble a tus necesidades especficas: dimensiones, materiales y acabados </p></div><div class="text-center p-6 bg-white rounded-lg shadow-md border-t-4 border-blue-600" data-v-25d6c49c><div class="w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce-gentle" data-v-25d6c49c><svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-25d6c49c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" data-v-25d6c49c></path></svg></div><h3 class="text-xl font-semibold mb-2" data-v-25d6c49c>Calidad Premium</h3><p class="text-gray-600" data-v-25d6c49c> Materiales de primera calidad y artesanos expertos garantizan durabilidad y belleza </p></div></div></div></section>',1)),c("section",D4,[c("div",N4,[h[11]||(h[11]=c("div",{class:"flex items-center justify-between mb-8"},[c("h2",{class:"text-2xl md:text-3xl font-bold"},"Galera de Proyectos")],-1)),c("div",B4,[c("img",{src:E4,alt:"Cocina",class:"rounded-lg object-cover w-full h-36 md:h-40 lg:h-44 hover:opacity-90 cursor-zoom-in",loading:"lazy",onClick:h[0]||(h[0]=m=>a("/images/muebles/Cocina2.jpg"))}),c("img",{src:A4,alt:"Cocina",class:"rounded-lg object-cover w-full h-36 md:h-40 lg:h-44 hover:opacity-90 cursor-zoom-in",loading:"lazy",onClick:h[1]||(h[1]=m=>a("/images/muebles/Cocina3.jpg"))}),c("img",{src:P4,alt:"Cocina",class:"rounded-lg object-cover w-full h-36 md:h-40 lg:h-44 hover:opacity-90 cursor-zoom-in",loading:"lazy",onClick:h[2]||(h[2]=m=>a("/images/muebles/Cocina4.jpg"))}),c("img",{src:T4,alt:"Cocina",class:"rounded-lg object-cover w-full h-36 md:h-40 lg:h-44 hover:opacity-90 cursor-zoom-in",loading:"lazy",onClick:h[3]||(h[3]=m=>a("/images/muebles/Cocina5.jpg"))}),c("img",{src:R4,alt:"Cocina",class:"rounded-lg object-cover w-full h-36 md:h-40 lg:h-44 hover:opacity-90 cursor-zoom-in",loading:"lazy",onClick:h[4]||(h[4]=m=>a("/images/muebles/Cocina6.jpg"))})])])]),i.value?(w(),E("div",{key:0,class:"fixed inset-0 z-50 bg-black bg-opacity-80 flex items-center justify-center",onClick:l},[c("div",{class:"relative max-w-[90vw] max-h-[85vh]",onClick:h[5]||(h[5]=Ee(()=>{},["stop"]))},[c("img",{src:r.value[o.value],alt:"Imagen ampliada",class:"max-w-[90vw] max-h-[85vh] object-contain rounded-lg"},null,8,j4),c("button",{class:"absolute top-2 right-2 bg-black bg-opacity-60 text-white rounded-full p-2",onClick:l},"  ")])])):Z("",!0),c("section",F4,[c("div",G4,[h[14]||(h[14]=c("h2",{class:"text-3xl md:text-4xl font-bold mb-4"}," Listo para Transformar tu Espacio? ",-1)),h[15]||(h[15]=c("p",{class:"text-xl mb-8 max-w-2xl mx-auto"}," nete a miles de clientes satisfechos y descubre el poder de la personalizacin con IA ",-1)),c("div",z4,[he(f,{to:"/analisis-espacio",class:"bg-red-600 text-white px-8 py-4 rounded-lg font-semibold hover:bg-red-700 transition-colors animate-pulse-slow"},{default:pe(()=>[...h[12]||(h[12]=[J(" Anlisis de espacio con IA ",-1)])]),_:1}),he(f,{to:"/catalogo",class:"bg-transparent text-white px-8 py-4 rounded-lg font-semibold border-2 border-white hover:bg-white hover:text-blue-600 transition-colors transition-transform hover:-translate-y-0.5"},{default:pe(()=>[...h[13]||(h[13]=[J(" Ver Catlogo ",-1)])]),_:1})])])])])}}},U4=ut(H4,[["__scopeId","data-v-25d6c49c"]]),V4={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},W4={class:"max-w-md w-full space-y-8"},q4={class:"mt-6 text-center text-3xl font-extrabold text-gray-900"},X4={key:0,class:"p-3 rounded-md bg-blue-50 border border-blue-200 text-sm text-blue-700"},Y4={class:"space-y-4"},K4={class:"input-group"},J4={key:0,class:"input-error"},Z4={class:"input-group"},Q4={class:"relative"},e5=["type"],t5={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s5={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},n5={key:0,class:"input-error"},i5={class:"flex items-center justify-between"},r5={class:"flex items-center"},o5={class:"text-sm"},a5=["disabled"],l5={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},c5={key:1,class:"alert-error"},d5={class:"flex"},u5={class:"ml-3"},h5={class:"text-sm"},f5={class:"text-center"},p5={class:"text-sm text-gray-600"},Cc={__name:"LoginView",setup(t){const e=as(),s=Xr(),n=ws(),i=yt(),r=He({email:"",password:"",remember:!1}),o=ie(!1),a=ie(!1),l=He({email:"",password:"",general:""}),u=()=>{Object.keys(l).forEach(p=>{l[p]=""});let m=!0;return r.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(l.email="El correo electrnico no es vlido",m=!1):(l.email="El correo electrnico es requerido",m=!1),r.password?r.password.length<6&&(l.password="La contrasea debe tener al menos 6 caracteres",m=!1):(l.password="La contrasea es requerida",m=!1),m},d=ke(()=>s.path.startsWith("/admin")||s.query.admin==="1"||s.query.admin==="true"),h=async()=>{var m,p;if(u()){o.value=!0,l.general="";try{const x=await n.login({email:r.email,password:r.password},{admin:d.value});if(!(x!=null&&x.success)){const y=(x==null?void 0:x.error)||"Error al iniciar sesin. Por favor, intntalo de nuevo.";l.general=y,i.error(y);return}const v=d.value?"/admin/cotizaciones":e.currentRoute.value.query.redirect||"/dashboard";e.push(v)}catch(x){if(console.error("Error en login:",x),((m=x.response)==null?void 0:m.status)===401)l.general="Credenciales incorrectas. Verifica tu email y contrasea.";else if(((p=x.response)==null?void 0:p.status)===422){const v=x.response.data.errors||{};Object.keys(v).forEach(y=>{l.hasOwnProperty(y)&&(l[y]=v[y][0]||v[y])})}else l.general="Error al iniciar sesin. Por favor, intntalo de nuevo."}finally{o.value=!1}}},f=m=>{l[m]&&(l[m]="")};return ct(()=>r.email,()=>f("email")),ct(()=>r.password,()=>f("password")),(m,p)=>{const x=rt("RouterLink");return w(),E("div",V4,[he(x,{to:"/",class:"btn-primary fixed top-4 left-4 px-4 py-2 text-sm font-medium"},{default:pe(()=>[...p[4]||(p[4]=[J(" Volver al inicio ",-1)])]),_:1}),c("div",W4,[c("div",null,[p[5]||(p[5]=c("div",{class:"mx-auto flex justify-center mb-6"},[c("img",{src:Ni,alt:"Comercial HG - Muebles De Bao y Cocina A Medidas",class:"h-20 w-auto"})],-1)),c("h2",q4,F(d.value?"Login de Administrador":"Iniciar Sesin"),1)]),c("form",{class:"mt-8 space-y-6",onSubmit:Ee(h,["prevent"])},[d.value?(w(),E("div",X4," Ests en modo Administracin. Inicia sesin con una cuenta de administrador. ")):Z("",!0),c("div",Y4,[c("div",K4,[p[6]||(p[6]=c("label",{for:"email",class:"input-label"}," Correo Electrnico ",-1)),Pe(c("input",{id:"email","onUpdate:modelValue":p[0]||(p[0]=v=>r.email=v),type:"email",autocomplete:"email",required:"",class:re(["input-field",{"border-red-300 focus:ring-red-500":l.email}]),placeholder:"tu@ejemplo.com"},null,2),[[Ze,r.email]]),l.email?(w(),E("p",J4,F(l.email),1)):Z("",!0)]),c("div",Z4,[p[9]||(p[9]=c("label",{for:"password",class:"input-label"}," Contrasea ",-1)),c("div",Q4,[Pe(c("input",{id:"password","onUpdate:modelValue":p[1]||(p[1]=v=>r.password=v),type:a.value?"text":"password",autocomplete:"current-password",required:"",class:re(["input-field pr-10",{"border-red-300 focus:ring-red-500":l.password}]),placeholder:""},null,10,e5),[[ki,r.password]]),c("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:p[2]||(p[2]=v=>a.value=!a.value)},[a.value?(w(),E("svg",t5,[...p[7]||(p[7]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(w(),E("svg",s5,[...p[8]||(p[8]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),l.password?(w(),E("p",n5,F(l.password),1)):Z("",!0)])]),c("div",i5,[c("div",r5,[Pe(c("input",{id:"remember-me","onUpdate:modelValue":p[3]||(p[3]=v=>r.remember=v),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"},null,512),[[Rn,r.remember]]),p[10]||(p[10]=c("label",{for:"remember-me",class:"ml-2 block text-sm text-gray-900"}," Recordarme ",-1))]),c("div",o5,[he(x,{to:"/auth/forgot-password",class:"font-medium text-primary-600 hover:text-primary-500 transition-colors"},{default:pe(()=>[...p[11]||(p[11]=[J(" Olvidaste tu contrasea? ",-1)])]),_:1})])]),c("div",null,[c("button",{type:"submit",disabled:o.value,class:re(["btn-primary w-full flex justify-center py-3 px-4 text-sm font-medium",{"opacity-50 cursor-not-allowed":o.value}])},[o.value?(w(),E("svg",l5,[...p[12]||(p[12]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Z("",!0),J(" "+F(o.value?"Iniciando sesin...":"Iniciar Sesin"),1)],10,a5)]),l.general?(w(),E("div",c5,[c("div",d5,[p[13]||(p[13]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),c("div",u5,[c("p",h5,F(l.general),1)])])])):Z("",!0)],32),c("div",f5,[c("p",p5,[p[15]||(p[15]=J(" No tienes una cuenta? ",-1)),he(x,{to:"/register",class:"font-medium text-primary-600 hover:text-primary-500 transition-colors"},{default:pe(()=>[...p[14]||(p[14]=[J(" Regstrate aqu ",-1)])]),_:1})])])])])}}},m5={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},g5={class:"max-w-md w-full space-y-8"},b5={class:"space-y-4"},v5={class:"input-group"},y5={key:0,class:"input-error"},x5={class:"input-group"},_5={key:0,class:"input-error"},w5={class:"input-group"},C5={key:0,class:"input-error"},k5={class:"input-group"},S5={class:"relative"},E5=["type"],A5={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},P5={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},T5={key:0,class:"input-error"},R5={key:1,class:"mt-2"},M5={class:"flex items-center space-x-2"},I5={class:"flex-1 bg-gray-200 rounded-full h-2"},O5={class:"input-group"},L5={class:"relative"},$5=["type"],D5={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},N5={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},B5={key:0,class:"input-error"},j5={class:"flex items-start"},F5={class:"flex items-center h-5"},G5={class:"ml-3 text-sm"},z5={for:"terms",class:"text-gray-700"},H5={key:0,class:"input-error mt-1"},U5=["disabled"],V5={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},W5={key:0,class:"alert-error"},q5={class:"flex"},X5={class:"ml-3"},Y5={class:"text-sm"},K5={class:"text-center"},J5={class:"text-sm text-gray-600"},Z5={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},Q5={class:"bg-white w-full max-w-3xl rounded-lg shadow-lg overflow-hidden"},eb={class:"px-6 py-4 border-b"},tb={class:"text-xs text-gray-500"},sb={class:"px-6 py-4 border-t flex items-center justify-between"},nb={class:"text-sm text-gray-600"},ib={class:"space-x-2"},rb={key:1,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"},ob={class:"bg-white w-full max-w-3xl rounded-lg shadow-lg overflow-hidden"},ab={class:"px-6 py-4 border-b"},lb={class:"text-xs text-gray-500"},cb={class:"px-6 py-4 border-t flex items-center justify-between"},db={class:"text-sm text-gray-600"},ub={class:"space-x-2"},hb={__name:"RegisterView",setup(t){const e=as(),s=ws();yt();const n=He({nombre:"",email:"",telefono:"",password:"",password_confirmation:"",acceptTerms:!1}),i=ie(!1),r=ie(!1),o=ie(!1),a=ie(!1),l=ie(!1),u=He({nombre:"",email:"",telefono:"",password:"",password_confirmation:"",acceptTerms:"",general:""}),d=ke(()=>{const y=n.password;if(!y)return 0;let g=0;return y.length>=8&&(g+=1),y.length>=12&&(g+=1),/[a-z]/.test(y)&&(g+=1),/[A-Z]/.test(y)&&(g+=1),/[0-9]/.test(y)&&(g+=1),/[^A-Za-z0-9]/.test(y)&&(g+=1),Math.min(g,4)}),h=ke(()=>{switch(d.value){case 0:case 1:return"Dbil";case 2:return"Regular";case 3:return"Buena";case 4:return"Fuerte";default:return""}}),f=ke(()=>{switch(d.value){case 0:case 1:return"bg-red-500";case 2:return"bg-yellow-500";case 3:return"bg-blue-500";case 4:return"bg-green-500";default:return"bg-gray-300"}}),m=ke(()=>`${d.value/4*100}%`),p=()=>{Object.keys(u).forEach(g=>{u[g]=""});let y=!0;if(n.nombre.trim()?n.nombre.trim().length<2&&(u.nombre="El nombre debe tener al menos 2 caracteres",y=!1):(u.nombre="El nombre es requerido",y=!1),n.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)||(u.email="El correo electrnico no es vlido",y=!1):(u.email="El correo electrnico es requerido",y=!1),!n.telefono)u.telefono="El telfono es requerido",y=!1;else{const g=n.telefono.replace(/\s/g,"");/^9\d{8}$/.test(g)||/^9\s\d{4}\s\d{4}$/.test(n.telefono)||(u.telefono="Debe ser 9 dgitos: 9 1234 5678",y=!1)}return n.password?n.password.length<8?(u.password="La contrasea debe tener al menos 8 caracteres",y=!1):/[A-Z]/.test(n.password)?(n.password.match(/\d/g)||[]).length<4?(u.password="La contrasea debe incluir al menos 4 nmeros",y=!1):/[^A-Za-z0-9]/.test(n.password)||(u.password="La contrasea debe incluir al menos 1 carcter especial",y=!1):(u.password="La contrasea debe incluir al menos 1 mayscula",y=!1):(u.password="La contrasea es requerida",y=!1),n.password_confirmation?n.password!==n.password_confirmation&&(u.password_confirmation="Las contraseas no coinciden",y=!1):(u.password_confirmation="Debes confirmar tu contrasea",y=!1),n.acceptTerms||(u.acceptTerms="Debes aceptar los trminos y condiciones",y=!1),y},x=async()=>{var y;if(p()){i.value=!0,u.general="";try{(await s.register({nombre:n.nombre.trim(),email:n.email.toLowerCase().trim(),telefono:n.telefono.replace(/\s/g,""),password:n.password,password_confirmation:n.password_confirmation})).success&&e.push("/login")}catch(g){if(console.error("Error en registro:",g),((y=g.response)==null?void 0:y.status)===422){const b=g.response.data.errors||{};Object.keys(b).forEach(_=>{u.hasOwnProperty(_)&&(u[_]=Array.isArray(b[_])?b[_][0]:b[_])}),b.email&&b.email.includes("already been taken")&&(u.email="Este correo electrnico ya est registrado")}else u.general="Error al crear la cuenta. Por favor, intntalo de nuevo."}finally{i.value=!1}}},v=y=>{u[y]&&(u[y]="")};return ct(()=>n.nombre,()=>v("nombre")),ct(()=>n.email,()=>v("email")),ct(()=>n.telefono,()=>v("telefono")),ct(()=>n.password,()=>v("password")),ct(()=>n.password_confirmation,()=>v("password_confirmation")),ct(()=>n.acceptTerms,()=>v("acceptTerms")),(y,g)=>{const b=rt("RouterLink");return w(),E("div",m5,[he(b,{to:"/",class:"btn-primary fixed top-4 left-4 px-4 py-2 text-sm font-medium"},{default:pe(()=>[...g[14]||(g[14]=[J(" Volver al inicio ",-1)])]),_:1}),c("div",g5,[g[30]||(g[30]=c("div",null,[c("div",{class:"mx-auto flex justify-center mb-6"},[c("img",{src:Ni,alt:"Comercial HG - Muebles De Bao y Cocina A Medidas",class:"h-20 w-auto"})]),c("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Crear Cuenta ")],-1)),c("form",{class:"mt-8 space-y-6",onSubmit:Ee(x,["prevent"])},[c("div",b5,[c("div",v5,[g[15]||(g[15]=c("label",{for:"nombre",class:"input-label"}," Nombre Completo ",-1)),Pe(c("input",{id:"nombre","onUpdate:modelValue":g[0]||(g[0]=_=>n.nombre=_),type:"text",autocomplete:"name",required:"",class:re(["input-field",{"border-red-300 focus:ring-red-500":u.nombre}]),placeholder:"Tu nombre completo"},null,2),[[Ze,n.nombre]]),u.nombre?(w(),E("p",y5,F(u.nombre),1)):Z("",!0)]),c("div",x5,[g[16]||(g[16]=c("label",{for:"email",class:"input-label"}," Correo Electrnico ",-1)),Pe(c("input",{id:"email","onUpdate:modelValue":g[1]||(g[1]=_=>n.email=_),type:"email",autocomplete:"email",required:"",class:re(["input-field",{"border-red-300 focus:ring-red-500":u.email}]),placeholder:"tu@ejemplo.com"},null,2),[[Ze,n.email]]),u.email?(w(),E("p",_5,F(u.email),1)):Z("",!0)]),c("div",w5,[g[17]||(g[17]=c("label",{for:"telefono",class:"input-label"}," Telfono ",-1)),Pe(c("input",{id:"telefono","onUpdate:modelValue":g[2]||(g[2]=_=>n.telefono=_),type:"tel",autocomplete:"tel",class:re(["input-field",{"border-red-300 focus:ring-red-500":u.telefono}]),placeholder:"9 1234 5678",inputmode:"numeric",maxlength:"11",pattern:"^9 [0-9]{4} [0-9]{4}$|^9[0-9]{8}$"},null,2),[[Ze,n.telefono]]),u.telefono?(w(),E("p",C5,F(u.telefono),1)):Z("",!0)]),c("div",k5,[g[20]||(g[20]=c("label",{for:"password",class:"input-label"}," Contrasea ",-1)),c("div",S5,[Pe(c("input",{id:"password","onUpdate:modelValue":g[3]||(g[3]=_=>n.password=_),type:r.value?"text":"password",autocomplete:"new-password",required:"",class:re(["input-field pr-10",{"border-red-300 focus:ring-red-500":u.password}]),placeholder:""},null,10,E5),[[ki,n.password]]),c("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:g[4]||(g[4]=_=>r.value=!r.value)},[r.value?(w(),E("svg",A5,[...g[18]||(g[18]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(w(),E("svg",P5,[...g[19]||(g[19]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),u.password?(w(),E("p",T5,F(u.password),1)):Z("",!0),n.password?(w(),E("div",R5,[c("div",M5,[c("div",I5,[c("div",{class:re(["h-2 rounded-full transition-all duration-300",f.value]),style:zs({width:m.value})},null,6)]),c("span",{class:re(["text-xs font-medium",f.value.replace("bg-","text-")])},F(h.value),3)])])):Z("",!0)]),c("div",O5,[g[23]||(g[23]=c("label",{for:"password_confirmation",class:"input-label"}," Confirmar Contrasea ",-1)),c("div",L5,[Pe(c("input",{id:"password_confirmation","onUpdate:modelValue":g[5]||(g[5]=_=>n.password_confirmation=_),type:o.value?"text":"password",autocomplete:"new-password",required:"",class:re(["input-field pr-10",{"border-red-300 focus:ring-red-500":u.password_confirmation}]),placeholder:""},null,10,$5),[[ki,n.password_confirmation]]),c("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:g[6]||(g[6]=_=>o.value=!o.value)},[o.value?(w(),E("svg",D5,[...g[21]||(g[21]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(w(),E("svg",N5,[...g[22]||(g[22]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),u.password_confirmation?(w(),E("p",B5,F(u.password_confirmation),1)):Z("",!0)])]),c("div",j5,[c("div",F5,[Pe(c("input",{id:"terms","onUpdate:modelValue":g[7]||(g[7]=_=>n.acceptTerms=_),type:"checkbox",required:"",class:re(["h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",{"border-red-300":u.acceptTerms}])},null,2),[[Rn,n.acceptTerms]])]),c("div",G5,[c("label",z5,[g[24]||(g[24]=J(" Acepto los ",-1)),c("a",{href:"#",class:"font-medium text-primary-600 hover:text-primary-500 transition-colors",onClick:g[8]||(g[8]=Ee(_=>a.value=!0,["prevent"]))}," trminos y condiciones "),g[25]||(g[25]=J(" y la ",-1)),c("a",{href:"#",class:"font-medium text-primary-600 hover:text-primary-500 transition-colors",onClick:g[9]||(g[9]=Ee(_=>l.value=!0,["prevent"]))}," poltica de privacidad ")]),u.acceptTerms?(w(),E("p",H5,F(u.acceptTerms),1)):Z("",!0)])]),c("div",null,[c("button",{type:"submit",disabled:i.value,class:re(["btn-primary w-full flex justify-center py-3 px-4 text-sm font-medium",{"opacity-50 cursor-not-allowed":i.value}])},[i.value?(w(),E("svg",V5,[...g[26]||(g[26]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Z("",!0),J(" "+F(i.value?"Creando cuenta...":"Crear Cuenta"),1)],10,U5)]),u.general?(w(),E("div",W5,[c("div",q5,[g[27]||(g[27]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),c("div",X5,[c("p",Y5,F(u.general),1)])])])):Z("",!0)],32),c("div",K5,[c("p",J5,[g[29]||(g[29]=J(" Ya tienes una cuenta? ",-1)),he(b,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500 transition-colors"},{default:pe(()=>[...g[28]||(g[28]=[J(" Inicia sesin aqu ",-1)])]),_:1})])])]),a.value?(w(),E("div",Z5,[c("div",Q5,[c("div",eb,[g[31]||(g[31]=c("h3",{class:"text-xl font-semibold text-gray-900"}," Trminos y Condiciones ",-1)),c("p",tb," ltima actualizacin: "+F(new Date().toLocaleDateString()),1)]),g[33]||(g[33]=dt('<div class="px-6 py-4 max-h-[60vh] overflow-y-auto text-gray-700 space-y-4"><h3 class="text-xl font-semibold">Trminos y Condiciones de Uso</h3><p class="text-sm text-gray-600"> ltima actualizacin: Diciembre 2025 </p><h4 class="text-lg font-medium"> 1. Informacin general y aceptacin </h4><p> Los presentes Trminos y Condiciones regulan el acceso, navegacin y uso de la plataforma digital operada por Comercial HG, domiciliada en Franklin 565, Santiago Centro, Santiago, Chile. Al registrarse o utilizar los servicios de cotizacin y visualizacin ofrecidos, el usuario acepta someterse ntegramente a las disposiciones aqu establecidas. </p><h4 class="text-lg font-medium">2. Naturaleza de los servicios</h4><p> La plataforma proporciona herramientas tecnolgicas para la configuracin y cotizacin referencial de muebles a medida. El usuario declara conocer que, debido a la naturaleza personalizada de la fabricacin, los servicios digitales constituyen una etapa preliminar de estimacin y no un contrato de compraventa perfeccionado. </p><h4 class="text-lg font-medium"> 3. Poltica de precios y cotizaciones </h4><div class="space-y-3"><div><h5 class="text-base font-semibold"> 3.1. Valores referenciales </h5><p> Todos los precios emitidos por el sistema, incluidos aquellos calculados automticamente segn medidas y materiales, tienen carcter estrictamente referencial y estimativo. No constituyen una oferta vinculante ni un precio final de venta. </p></div><div><h5 class="text-base font-semibold">3.2. Validacin tcnica</h5><p> Todo proyecto requiere una validacin tcnica posterior por parte de especialistas de Comercial HG para verificar la factibilidad constructiva, rectificar medidas en terreno y confirmar el stock de materiales. El precio final ser fijado nicamente tras dicha validacin. </p></div><div><h5 class="text-base font-semibold">3.3. Errores del sistema</h5><p> Comercial HG se reserva el derecho de anular cotizaciones o pedidos que presenten errores manifiestos de precio debido a fallas algortmicas, de integracin de datos o errores tipogrficos, sin que ello genere derecho a indemnizacin para el usuario. </p></div></div><h4 class="text-lg font-medium"> 4. Uso de herramientas de Inteligencia Artificial (IA) </h4><div class="space-y-3"><div><h5 class="text-base font-semibold">4.1. Asistencia virtual</h5><p> La informacin tcnica proporcionada por el asistente ComercialHG IA es de carcter orientativo. El usuario debe validar cualquier decisin crtica sobre materiales o instalacin con el personal humano de la empresa. </p></div><div><h5 class="text-base font-semibold"> 4.2. Visualizacin predictiva </h5><p> Las imgenes generadas mediante IA (superposicin de muebles en fotografas del usuario) son prototipos conceptuales destinados a evaluar esttica y estilo. No representan con exactitud milimtrica el color, textura, iluminacin o dimensiones del producto final fabricado. </p></div></div><h4 class="text-lg font-medium"> 5. Propiedad intelectual y contenido del usuario </h4><div class="space-y-3"><div><h5 class="text-base font-semibold">5.1. Licencia de uso</h5><p> Al cargar fotografas de sus espacios privados en la plataforma, el usuario otorga a Comercial HG una licencia de uso temporal, no exclusiva y gratuita, con el nico fin de procesar dichas imgenes mediante algoritmos de visin por computador para generar la visualizacin solicitada. </p></div><div><h5 class="text-base font-semibold">5.2. Responsabilidad</h5><p> El usuario garantiza ser el titular de los derechos de las imgenes subidas, liberando a Comercial HG de cualquier responsabilidad por reclamos de terceros sobre la privacidad o propiedad de dichas fotos. </p></div></div><h4 class="text-lg font-medium">6. Limitacin de responsabilidad</h4><ul class="list-disc list-inside space-y-1"><li> Interrupciones del servicio derivadas de cortes de energa o fallos en proveedores de internet. </li><li> Prdida de datos de cotizaciones no guardadas por el usuario. </li><li> Decisiones de compra basadas exclusivamente en la interpretacin visual de las herramientas de IA. </li></ul><h4 class="text-lg font-medium"> 7. Legislacin aplicable y jurisdiccin </h4><p> Estos trminos se rigen por las leyes de la Repblica de Chile. Para cualquier controversia derivada del uso de la plataforma, las partes se someten a la competencia de los Tribunales Ordinarios de Justicia de la comuna de Santiago. </p></div>',1)),c("div",sb,[c("div",nb,[he(b,{to:"/terminos",class:"text-primary-600 hover:text-primary-500"},{default:pe(()=>[...g[32]||(g[32]=[J(" Ver versin completa ",-1)])]),_:1})]),c("div",ib,[c("button",{class:"btn-secondary px-4 py-2",onClick:g[10]||(g[10]=_=>a.value=!1)}," Cerrar "),c("button",{class:"btn-primary px-4 py-2",onClick:g[11]||(g[11]=_=>(a.value=!1,n.acceptTerms=!0))}," Aceptar ")])])])])):Z("",!0),l.value?(w(),E("div",rb,[c("div",ob,[c("div",ab,[g[34]||(g[34]=c("h3",{class:"text-xl font-semibold text-gray-900"}," Poltica de Privacidad y Proteccin de Datos ",-1)),c("p",lb," ltima actualizacin: "+F(new Date().toLocaleDateString()),1)]),g[36]||(g[36]=dt('<div class="px-6 py-4 max-h-[60vh] overflow-y-auto text-gray-700 space-y-4"><h4 class="text-lg font-medium">1. Responsable del tratamiento</h4><p> El responsable del tratamiento de los datos personales recolectados a travs de esta plataforma es Comercial HG, con domicilio comercial en Franklin 565, Santiago Centro, Santiago, Chile. </p><h4 class="text-lg font-medium">2. Recopilacin de datos</h4><p> En cumplimiento con la Ley N 19.628 sobre Proteccin de la Vida Privada, informamos que recopilamos los siguientes datos para la prestacin del servicio: </p><div class="space-y-2"><div><h5 class="text-base font-semibold">Datos identificatorios</h5><p> Nombre completo, correo electrnico, nmero telefnico (+569...) y direccin. </p></div><div><h5 class="text-base font-semibold">Datos del proyecto</h5><p>Medidas, preferencias de materiales y presupuesto estimado.</p></div><div><h5 class="text-base font-semibold">Datos visuales</h5><p> Fotografas de espacios interiores proporcionadas voluntariamente por el usuario para el uso de herramientas de diseo. </p></div></div><h4 class="text-lg font-medium">3. Finalidad del tratamiento</h4><ul class="list-disc list-inside space-y-1"><li> Gestionar el registro de usuarios y mantener el historial de cotizaciones. </li><li> Proveer los servicios de diseo asistido y clculo de presupuestos. </li><li> Entrenar y mejorar la precisin de los modelos de Inteligencia Artificial utilizados en la atencin al cliente. </li><li> Establecer contacto comercial a travs del correo contacto@comercialhg.com o va telefnica. </li></ul><h4 class="text-lg font-medium">4. Transferencia a terceros</h4><p> Comercial HG garantiza que no comercializa datos personales. No obstante, para la operacin tcnica de la plataforma, ciertos datos (incluyendo imgenes temporales) pueden ser procesados por proveedores de infraestructura en la nube y servicios de IA externos, quienes actan bajo estrictos acuerdos de seguridad y confidencialidad. </p><h4 class="text-lg font-medium">5. Seguridad y almacenamiento</h4><div class="space-y-2"><div><h5 class="text-base font-semibold">5.1. Medidas de seguridad</h5><p> Utilizamos protocolos de encriptacin estndar (SSL/TLS) para proteger la transmisin de sus datos. </p></div><div><h5 class="text-base font-semibold"> 5.2. Retencin de imgenes </h5><p> Las fotografas subidas para visualizacin se almacenan de manera temporal para la ejecucin del servicio. Comercial HG se reserva el derecho de eliminar peridicamente dichos archivos de sus servidores para optimizar el rendimiento del sistema y garantizar la privacidad del usuario. </p></div></div><h4 class="text-lg font-medium">6. Derechos ARCO</h4><p> El titular de los datos podr ejercer en cualquier momento sus derechos de Acceso, Rectificacin, Cancelacin y Oposicin respecto a sus datos personales. Para ello, deber enviar una solicitud escrita al correo electrnico contacto@comercialhg.com o contactar al soporte al +56998163536. </p></div>',1)),c("div",cb,[c("div",db,[he(b,{to:"/privacidad",class:"text-primary-600 hover:text-primary-500"},{default:pe(()=>[...g[35]||(g[35]=[J(" Ver versin completa ",-1)])]),_:1})]),c("div",ub,[c("button",{class:"btn-secondary px-4 py-2",onClick:g[12]||(g[12]=_=>l.value=!1)}," Cerrar "),c("button",{class:"btn-primary px-4 py-2",onClick:g[13]||(g[13]=_=>(l.value=!1,n.acceptTerms=!0))}," Aceptar ")])])])])):Z("",!0)])}}},fb={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},pb={class:"max-w-md w-full space-y-8"},mb={class:"space-y-4"},gb={class:"input-group"},bb={key:0,class:"input-error"},vb=["disabled"],yb={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},xb={key:0,class:"alert-error"},_b={class:"flex"},wb={class:"ml-3"},Cb={class:"text-sm"},kb={key:1,class:"text-center space-y-4"},Sb={class:"text-sm text-gray-600"},Eb={class:"text-center"},Ab={class:"text-sm text-gray-600"},Pb={__name:"ForgotPasswordView",setup(t){as();const e=yt(),s=He({email:""}),n=ie(!1),i=ie(!1),r=He({email:"",general:""}),o=()=>{Object.keys(r).forEach(d=>{r[d]=""});let u=!0;return s.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(r.email="El correo electrnico no es vlido",u=!1):(r.email="El correo electrnico es requerido",u=!1),u},a=async()=>{var u,d;if(o()){n.value=!0,r.general="";try{await Ke.post("/api/forgot-password",{email:s.email}),i.value=!0,e.success("Enlace de recuperacin enviado correctamente")}catch(h){if(console.error("Error en recuperacin de contrasea:",h),((u=h.response)==null?void 0:u.status)===404)r.general="No se encontr una cuenta con ese correo electrnico.";else if(((d=h.response)==null?void 0:d.status)===422){const f=h.response.data.errors||{};Object.keys(f).forEach(m=>{r.hasOwnProperty(m)&&(r[m]=f[m][0]||f[m])})}else r.general="Error al enviar el enlace de recuperacin. Por favor, intntalo de nuevo."}finally{n.value=!1}}},l=u=>{r[u]&&(r[u]="")};return ct(()=>s.email,()=>l("email")),(u,d)=>{const h=rt("RouterLink");return w(),E("div",fb,[c("div",pb,[d[11]||(d[11]=c("div",null,[c("div",{class:"mx-auto flex justify-center mb-6"},[c("img",{src:Ni,alt:"Comercial HG - Muebles De Bao y Cocina A Medidas",class:"h-20 w-auto"})]),c("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Recuperar Contrasea "),c("p",{class:"mt-2 text-center text-sm text-gray-600"}," Ingresa tu correo electrnico y te enviaremos un enlace para restablecer tu contrasea ")],-1)),i.value?(w(),E("div",kb,[d[6]||(d[6]=c("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100"},[c("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),d[7]||(d[7]=c("h3",{class:"text-lg font-medium text-gray-900"},"Correo Enviado!",-1)),c("p",Sb,[d[4]||(d[4]=J(" Hemos enviado un enlace de recuperacin a ",-1)),c("strong",null,F(s.email),1),d[5]||(d[5]=J(". Revisa tu bandeja de entrada y sigue las instrucciones para restablecer tu contrasea. ",-1))]),d[8]||(d[8]=c("p",{class:"text-xs text-gray-500"}," Si no recibes el correo en unos minutos, revisa tu carpeta de spam. ",-1))])):(w(),E("form",{key:0,class:"mt-8 space-y-6",onSubmit:Ee(a,["prevent"])},[c("div",mb,[c("div",gb,[d[1]||(d[1]=c("label",{for:"email",class:"input-label"}," Correo Electrnico ",-1)),Pe(c("input",{id:"email","onUpdate:modelValue":d[0]||(d[0]=f=>s.email=f),type:"email",autocomplete:"email",required:"",class:re(["input-field",{"border-red-300 focus:ring-red-500":r.email}]),placeholder:"tu@ejemplo.com"},null,2),[[Ze,s.email]]),r.email?(w(),E("p",bb,F(r.email),1)):Z("",!0)])]),c("div",null,[c("button",{type:"submit",disabled:n.value,class:re(["btn-primary w-full flex justify-center py-3 px-4 text-sm font-medium",{"opacity-50 cursor-not-allowed":n.value}])},[n.value?(w(),E("svg",yb,[...d[2]||(d[2]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Z("",!0),J(" "+F(n.value?"Enviando...":"Enviar Enlace de Recuperacin"),1)],10,vb)]),r.general?(w(),E("div",xb,[c("div",_b,[d[3]||(d[3]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),c("div",wb,[c("p",Cb,F(r.general),1)])])])):Z("",!0)],32)),c("div",Eb,[c("p",Ab,[d[10]||(d[10]=J(" Recordaste tu contrasea? ",-1)),he(h,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500 transition-colors"},{default:pe(()=>[...d[9]||(d[9]=[J(" Volver al inicio de sesin ",-1)])]),_:1})])])])])}}},Tb={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},Rb={class:"max-w-md w-full space-y-8"},Mb={class:"space-y-4"},Ib={class:"input-group"},Ob={class:"relative"},Lb=["type"],$b={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Db={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Nb={key:0,class:"input-error"},Bb={key:1,class:"mt-2"},jb={class:"flex items-center space-x-2"},Fb={class:"flex-1 bg-gray-200 rounded-full h-2"},Gb={class:"input-group"},zb={class:"relative"},Hb=["type"],Ub={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Vb={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Wb={key:0,class:"input-error"},qb=["disabled"],Xb={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24"},Yb={key:0,class:"alert-error"},Kb={class:"flex"},Jb={class:"ml-3"},Zb={class:"text-sm"},Qb={key:1,class:"text-center space-y-4"},ev={class:"pt-4"},tv={key:2,class:"text-center"},sv={class:"text-sm text-gray-600"},nv={__name:"ResetPasswordView",setup(t){const e=as(),s=Xr(),n=yt(),i=He({password:"",password_confirmation:"",token:""}),r=ie(!1),o=ie(!1),a=ie(!1),l=ie(!1),u=He({password:"",password_confirmation:"",general:""}),d=ke(()=>{const y=i.password;let g=0;return y.length>=8&&g++,/[a-z]/.test(y)&&g++,/[A-Z]/.test(y)&&g++,/[0-9]/.test(y)&&g++,/[^A-Za-z0-9]/.test(y)&&g++,g}),h=ke(()=>{const y=d.value;return y<=1?"Muy dbil":y<=2?"Dbil":y<=3?"Regular":y<=4?"Fuerte":"Muy fuerte"}),f=ke(()=>{const y=d.value;return y<=1?"bg-red-500":y<=2?"bg-orange-500":y<=3?"bg-yellow-500":y<=4?"bg-blue-500":"bg-green-500"}),m=ke(()=>`${d.value/5*100}%`),p=()=>{Object.keys(u).forEach(g=>{u[g]=""});let y=!0;return i.password?i.password.length<6&&(u.password="La contrasea debe tener al menos 6 caracteres",y=!1):(u.password="La contrasea es requerida",y=!1),i.password_confirmation?i.password!==i.password_confirmation&&(u.password_confirmation="Las contraseas no coinciden",y=!1):(u.password_confirmation="La confirmacin de contrasea es requerida",y=!1),y},x=async()=>{var y,g;if(p()){r.value=!0,u.general="";try{await Ke.post("/api/reset-password",{token:i.token,password:i.password,password_confirmation:i.password_confirmation}),o.value=!0,n.success("Contrasea restablecida correctamente")}catch(b){if(console.error("Error en restablecimiento de contrasea:",b),((y=b.response)==null?void 0:y.status)===400)u.general="El enlace de restablecimiento es invlido o ha expirado.";else if(((g=b.response)==null?void 0:g.status)===422){const _=b.response.data.errors||{};Object.keys(_).forEach(O=>{u.hasOwnProperty(O)&&(u[O]=_[O][0]||_[O])})}else u.general="Error al restablecer la contrasea. Por favor, intntalo de nuevo."}finally{r.value=!1}}},v=y=>{u[y]&&(u[y]="")};return $t(()=>{const y=s.params.token||s.query.token;if(!y){n.error("Token de restablecimiento no vlido"),e.push("/login");return}i.token=y}),ct(()=>i.password,()=>v("password")),ct(()=>i.password_confirmation,()=>v("password_confirmation")),(y,g)=>{const b=rt("RouterLink");return w(),E("div",Tb,[c("div",Rb,[g[16]||(g[16]=c("div",null,[c("div",{class:"mx-auto flex justify-center mb-6"},[c("img",{src:Ni,alt:"Comercial HG - Muebles De Bao y Cocina A Medidas",class:"h-20 w-auto"})]),c("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Restablecer Contrasea "),c("p",{class:"mt-2 text-center text-sm text-gray-600"}," Ingresa tu nueva contrasea para completar el restablecimiento ")],-1)),o.value?(w(),E("div",Qb,[g[13]||(g[13]=dt('<div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100"><svg class="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></div><h3 class="text-lg font-medium text-gray-900"> Contrasea Restablecida! </h3><p class="text-sm text-gray-600"> Tu contrasea ha sido restablecida exitosamente. Ya puedes iniciar sesin con tu nueva contrasea. </p>',3)),c("div",ev,[he(b,{to:"/login",class:"btn-primary inline-flex items-center px-4 py-2 text-sm font-medium"},{default:pe(()=>[...g[12]||(g[12]=[J(" Ir al Inicio de Sesin ",-1)])]),_:1})])])):(w(),E("form",{key:0,class:"mt-8 space-y-6",onSubmit:Ee(x,["prevent"])},[c("div",Mb,[c("div",Ib,[g[6]||(g[6]=c("label",{for:"password",class:"input-label"}," Nueva Contrasea ",-1)),c("div",Ob,[Pe(c("input",{id:"password","onUpdate:modelValue":g[0]||(g[0]=_=>i.password=_),type:a.value?"text":"password",autocomplete:"new-password",required:"",class:re(["input-field pr-10",{"border-red-300 focus:ring-red-500":u.password}]),placeholder:""},null,10,Lb),[[ki,i.password]]),c("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:g[1]||(g[1]=_=>a.value=!a.value)},[a.value?(w(),E("svg",$b,[...g[4]||(g[4]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(w(),E("svg",Db,[...g[5]||(g[5]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),u.password?(w(),E("p",Nb,F(u.password),1)):Z("",!0),i.password?(w(),E("div",Bb,[c("div",jb,[c("div",Fb,[c("div",{class:re(["h-2 rounded-full transition-all duration-300",f.value]),style:zs({width:m.value})},null,6)]),c("span",{class:re(["text-xs font-medium",f.value.replace("bg-","text-")])},F(h.value),3)])])):Z("",!0)]),c("div",Gb,[g[9]||(g[9]=c("label",{for:"password_confirmation",class:"input-label"}," Confirmar Nueva Contrasea ",-1)),c("div",zb,[Pe(c("input",{id:"password_confirmation","onUpdate:modelValue":g[2]||(g[2]=_=>i.password_confirmation=_),type:l.value?"text":"password",autocomplete:"new-password",required:"",class:re(["input-field pr-10",{"border-red-300 focus:ring-red-500":u.password_confirmation}]),placeholder:""},null,10,Hb),[[ki,i.password_confirmation]]),c("button",{type:"button",class:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:g[3]||(g[3]=_=>l.value=!l.value)},[l.value?(w(),E("svg",Ub,[...g[7]||(g[7]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(w(),E("svg",Vb,[...g[8]||(g[8]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),u.password_confirmation?(w(),E("p",Wb,F(u.password_confirmation),1)):Z("",!0)])]),c("div",null,[c("button",{type:"submit",disabled:r.value,class:re(["btn-primary w-full flex justify-center py-3 px-4 text-sm font-medium",{"opacity-50 cursor-not-allowed":r.value}])},[r.value?(w(),E("svg",Xb,[...g[10]||(g[10]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Z("",!0),J(" "+F(r.value?"Restableciendo...":"Restablecer Contrasea"),1)],10,qb)]),u.general?(w(),E("div",Yb,[c("div",Kb,[g[11]||(g[11]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),c("div",Jb,[c("p",Zb,F(u.general),1)])])])):Z("",!0)],32)),o.value?Z("",!0):(w(),E("div",tv,[c("p",sv,[g[15]||(g[15]=J(" Recordaste tu contrasea? ",-1)),he(b,{to:"/login",class:"font-medium text-primary-600 hover:text-primary-500 transition-colors"},{default:pe(()=>[...g[14]||(g[14]=[J(" Volver al inicio de sesin ",-1)])]),_:1})])]))])])}}},Mh=Oa("draftOrder",{state:()=>({orderName:null,items:[],createdAt:null}),getters:{isEmpty:t=>t.items.length===0,total:t=>t.items.reduce((e,s)=>e+(s.precio||0)*(s.cantidad||1),0),productosCount:t=>t.items.reduce((e,s)=>e+(s.cantidad||1),0)},actions:{addProduct(t,e){this.createdAt||(this.createdAt=new Date().toISOString()),this.orderName||(this.orderName=e||"Catlogo de Muebles");const s=this.items.findIndex(n=>n.id===t.id);s>=0?this.items[s].cantidad=(this.items[s].cantidad||1)+1:this.items.push({id:t.id,nombre:t.nombre,precio:t.precio_base||0,imagen:t.imagen_url||"/placeholder-furniture.jpg",categoria:t.categoria||"",cantidad:1,medidas:t.medidas||"",material:t.material||"",color:t.color||""})},removeProduct(t){const e=this.items.findIndex(s=>s.id===t);e>=0&&this.items.splice(e,1)},clear(){this.orderName=null,this.items=[],this.createdAt=null},toPedidoObject(){return{id:"draft",isDraft:!0,estado:"borrador",created_at:this.createdAt||new Date().toISOString(),productos_count:this.productosCount,productos:this.items.map(t=>({id:t.id,nombre:t.nombre,cantidad:t.cantidad,imagen_url:t.imagen})),detalles:this.items.map(t=>({descripcion:t.nombre,medidas:t.medidas||"",material:t.material||"",color:t.color||"",cantidad:t.cantidad||1,precio_unitario:t.precio||0})),total_estimado:this.total,nombre_pedido:this.orderName||"Pedido"}}}}),iv={class:"container-custom py-3"},rv={class:"mb-4"},ov={class:"flex items-center justify-between"},av={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-4"},lv={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},cv={class:"lg:col-span-2"},dv={class:"relative"},uv=["value"],hv={class:"mt-4 pt-4 border-t border-gray-200"},fv={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},pv={class:"flex items-center space-x-2"},mv=["value"],gv={class:"flex items-center space-x-4"},bv={class:"flex items-center"},vv={class:"flex items-center justify-between mb-6"},yv={class:"text-sm text-gray-700"},xv={class:"flex items-center space-x-2"},_v={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},wv={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},Cv=["onClick"],kv={class:"aspect-w-1 aspect-h-1 w-full overflow-hidden rounded-t-lg bg-gray-200"},Sv=["src","alt"],Ev={key:0,class:"absolute top-2 left-2"},Av=["onClick"],Pv={class:"p-4"},Tv={class:"text-lg font-medium text-gray-900 group-hover:text-primary-600 transition-colors"},Rv={class:"mt-1 text-sm text-gray-500"},Mv={class:"mt-2 text-sm text-gray-600 line-clamp-2"},Iv={class:"mt-2 text-sm text-blue-600 font-medium"},Ov={class:"mt-4 flex items-center justify-between"},Lv={class:"text-lg font-semibold text-gray-900"},$v={key:0,class:"text-xs text-gray-500"},Dv=["disabled","onClick"],Nv={key:2,class:"space-y-4"},Bv=["onClick"],jv={class:"flex items-center space-x-6"},Fv={class:"flex-shrink-0"},Gv=["src","alt"],zv={class:"flex-1 min-w-0"},Hv={class:"flex items-start justify-between"},Uv={class:"text-lg font-medium text-gray-900 hover:text-primary-600 transition-colors"},Vv={class:"text-sm text-gray-500"},Wv={class:"mt-2 text-sm text-gray-600"},qv={class:"mt-2 text-sm text-blue-600 font-medium"},Xv={class:"mt-2 flex items-center space-x-4"},Yv={key:0,class:"text-xs text-gray-500"},Kv={class:"flex items-center space-x-4"},Jv={class:"text-right"},Zv={class:"text-lg font-semibold text-gray-900"},Qv=["onClick"],e3=["disabled","onClick"],t3={key:3,class:"text-center py-12"},s3={key:4,class:"mt-8 flex items-center justify-between"},n3={class:"flex-1 flex justify-between sm:hidden"},i3=["disabled"],r3=["disabled"],o3={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},a3={class:"text-sm text-gray-700"},l3={class:"font-medium"},c3={class:"font-medium"},d3={class:"font-medium"},u3={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px"},h3=["disabled"],f3=["onClick"],p3=["disabled"],m3={__name:"CatalogoView",setup(t){const e=as(),s=yt(),n=ie([]),i=ie([]),r=ie([]),o=ie(!0),a=ie("grid"),l=ie(1),u=ie(1),d=ie(0),h=ie(12),f=He({search:"",categoria:"",material:"",sortBy:"nombre_asc",precioMin:null,precioMax:null,disponible:!1});let m=null;const p=()=>{clearTimeout(m),m=setTimeout(()=>{b()},500)},x=ke(()=>{const H=[],C=Math.max(1,l.value-2),Q=Math.min(u.value,C+4);for(let I=C;I<=Q;I++)H.push(I);return H}),v=[{id:1,nombre:"Mueble de Bao Moderno",categoria:"Muebles de Bao",descripcion:"Mueble de bao con lavamanos integrado, espejo y almacenamiento",precio_base:45e4,material:"MDF Melamnico",medidas:"80cm x 45cm x 85cm",disponible:!0,imagen_url:"/placeholder-furniture.jpg",is_favorite:!1},{id:2,nombre:"Cocina Integral Premium",categoria:"Muebles de Cocina",descripcion:"Cocina integral con mesn en granito y acabados de primera calidad",precio_base:25e5,material:"MDF con Laminado",medidas:"300cm x 60cm x 240cm",disponible:!0,imagen_url:"/placeholder-furniture.jpg",is_favorite:!1},{id:3,nombre:"Closet Walk-in",categoria:"Closets",descripcion:"Closet vestidor con mltiples compartimentos y barras colgadoras",precio_base:18e5,material:"MDF Melamnico",medidas:"250cm x 200cm x 240cm",disponible:!0,imagen_url:"/placeholder-furniture.jpg",is_favorite:!1},{id:4,nombre:"Closet Empotrado",categoria:"Closets",descripcion:"Closet empotrado con puertas corredizas y organizacin interna",precio_base:12e5,material:"MDF con Formica",medidas:"180cm x 60cm x 240cm",disponible:!0,imagen_url:"/placeholder-furniture.jpg",is_favorite:!1},{id:5,nombre:"Mueble Bajo Mesn Cocina",categoria:"Muebles de Cocina",descripcion:"Mueble bajo con cajones y puertas, ideal para cocinas pequeas",precio_base:38e4,material:"MDF Melamnico",medidas:"120cm x 60cm x 85cm",disponible:!0,imagen_url:"/placeholder-furniture.jpg",is_favorite:!1},{id:6,nombre:"Espejo con Botiqun",categoria:"Muebles de Bao",descripcion:"Espejo con botiqun integrado y iluminacin LED",precio_base:18e4,material:"Vidrio y MDF",medidas:"60cm x 15cm x 80cm",disponible:!0,imagen_url:"/placeholder-furniture.jpg",is_favorite:!1},{id:7,nombre:"Mueble Alto Cocina",categoria:"Muebles de Cocina",descripcion:"Mueble alto con puertas de vidrio y estantes ajustables",precio_base:32e4,material:"MDF con Laminado",medidas:"80cm x 35cm x 70cm",disponible:!0,imagen_url:"/placeholder-furniture.jpg",is_favorite:!1},{id:8,nombre:"Tocador con Espejo",categoria:"Closets",descripcion:"Tocador con espejo iluminado y cajones organizadores",precio_base:65e4,material:"MDF Melamnico",medidas:"100cm x 45cm x 160cm",disponible:!0,imagen_url:"/placeholder-furniture.jpg",is_favorite:!1}],y=async()=>{try{o.value=!0,await new Promise(I=>setTimeout(I,500));let H=[...v];if(f.search){const I=f.search.toLowerCase();H=H.filter(q=>q.nombre.toLowerCase().includes(I)||q.descripcion.toLowerCase().includes(I)||q.categoria.toLowerCase().includes(I))}switch(f.categoria&&(H=H.filter(I=>I.categoria===f.categoria)),f.material&&(H=H.filter(I=>I.material===f.material)),f.precioMin&&(H=H.filter(I=>I.precio_base>=f.precioMin)),f.precioMax&&(H=H.filter(I=>I.precio_base<=f.precioMax)),f.disponible&&(H=H.filter(I=>I.disponible)),f.sortBy){case"nombre_asc":H.sort((I,q)=>I.nombre.localeCompare(q.nombre));break;case"nombre_desc":H.sort((I,q)=>q.nombre.localeCompare(I.nombre));break;case"precio_asc":H.sort((I,q)=>I.precio_base-q.precio_base);break;case"precio_desc":H.sort((I,q)=>q.precio_base-I.precio_base);break}d.value=H.length,u.value=Math.ceil(H.length/h.value);const C=(l.value-1)*h.value,Q=C+h.value;n.value=H.slice(C,Q)}catch(H){console.error("Error cargando productos:",H),s.error("Error al cargar los productos")}finally{o.value=!1}},g=async()=>{try{const H=[...new Set(v.map(Q=>Q.categoria))],C=[...new Set(v.map(Q=>Q.material))];i.value=H,r.value=C}catch(H){console.error("Error cargando filtros:",H)}},b=()=>{l.value=1,y()},_=()=>{Object.keys(f).forEach(H=>{typeof f[H]=="boolean"?f[H]=!1:typeof f[H]=="number"?f[H]=null:f[H]=""}),f.sortBy="nombre_asc",b()},O=H=>{H>=1&&H<=u.value&&(l.value=H,y(),window.scrollTo({top:0,behavior:"smooth"}))},z=H=>{e.push(`/catalogo/${H}`)},B=async H=>{try{H.is_favorite?(await nt.delete(`/favoritos/${H.id}`),H.is_favorite=!1,s.success("Producto removido de favoritos")):(await nt.post("/favoritos",{producto_id:H.id}),H.is_favorite=!0,s.success("Producto agregado a favoritos"))}catch(C){console.error("Error al actualizar favorito:",C),s.error("Error al actualizar favoritos")}},A=Mh(),D=H=>{A.addProduct(H,f.categoria||"Catlogo de Muebles"),s.success(`${H.nombre} agregado a Mis Pedidos`),e.push("/pedidos")},W=H=>new Intl.NumberFormat("es-ES",{minimumFractionDigits:0,maximumFractionDigits:0}).format(H);return ct(()=>f.sortBy,()=>{b()}),$t(()=>{g(),y()}),(H,C)=>{const Q=rt("RouterLink");return w(),E("div",iv,[c("div",rv,[c("div",ov,[C[14]||(C[14]=c("div",null,[c("h1",{class:"text-3xl font-bold text-gray-900"},"Catlogo de Muebles"),c("p",{class:"mt-2 text-gray-600"}," Descubre nuestra amplia seleccin de muebles de alta calidad ")],-1)),he(Q,{to:"/dashboard",class:"btn-secondary flex items-center space-x-2"},{default:pe(()=>[...C[13]||(C[13]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),c("span",null,"Regresar al Inicio",-1)])]),_:1})])]),c("div",av,[c("div",lv,[c("div",cv,[C[16]||(C[16]=c("label",{for:"search",class:"block text-sm font-medium text-gray-700 mb-2"}," Buscar productos ",-1)),c("div",dv,[C[15]||(C[15]=c("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),Pe(c("input",{id:"search","onUpdate:modelValue":C[0]||(C[0]=I=>f.search=I),type:"text",class:"input-field pl-10",placeholder:"Buscar por nombre, descripcin...",onInput:p},null,544),[[Ze,f.search]])])]),c("div",null,[C[18]||(C[18]=c("label",{for:"categoria",class:"block text-sm font-medium text-gray-700 mb-2"}," Categora ",-1)),Pe(c("select",{id:"categoria","onUpdate:modelValue":C[1]||(C[1]=I=>f.categoria=I),class:"form-select",onChange:b},[C[17]||(C[17]=c("option",{value:""},"Todas las categoras",-1)),(w(!0),E(we,null,Le(i.value,I=>(w(),E("option",{key:I,value:I},F(I),9,uv))),128))],544),[[di,f.categoria]])]),c("div",null,[C[20]||(C[20]=c("label",{for:"sortBy",class:"block text-sm font-medium text-gray-700 mb-2"}," Ordenar por ",-1)),Pe(c("select",{id:"sortBy","onUpdate:modelValue":C[2]||(C[2]=I=>f.sortBy=I),class:"form-select",onChange:b},[...C[19]||(C[19]=[dt('<option value="nombre_asc" data-v-bf4128e5>Nombre (A-Z)</option><option value="nombre_desc" data-v-bf4128e5>Nombre (Z-A)</option><option value="precio_asc" data-v-bf4128e5>Precio (Menor a Mayor)</option><option value="precio_desc" data-v-bf4128e5>Precio (Mayor a Menor)</option><option value="created_at_desc" data-v-bf4128e5>Ms Recientes</option>',5)])],544),[[di,f.sortBy]])])]),c("div",hv,[c("div",fv,[c("div",null,[C[22]||(C[22]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Rango de precios ",-1)),c("div",pv,[Pe(c("input",{"onUpdate:modelValue":C[3]||(C[3]=I=>f.precioMin=I),type:"number",class:"input-field",placeholder:"Mn",min:"0",onChange:b},null,544),[[Ze,f.precioMin,void 0,{number:!0}]]),C[21]||(C[21]=c("span",{class:"text-gray-500"},"-",-1)),Pe(c("input",{"onUpdate:modelValue":C[4]||(C[4]=I=>f.precioMax=I),type:"number",class:"input-field",placeholder:"Mx",min:"0",onChange:b},null,544),[[Ze,f.precioMax,void 0,{number:!0}]])])]),c("div",null,[C[24]||(C[24]=c("label",{for:"material",class:"block text-sm font-medium text-gray-700 mb-2"}," Material ",-1)),Pe(c("select",{id:"material","onUpdate:modelValue":C[5]||(C[5]=I=>f.material=I),class:"form-select",onChange:b},[C[23]||(C[23]=c("option",{value:""},"Todos los materiales",-1)),(w(!0),E(we,null,Le(r.value,I=>(w(),E("option",{key:I,value:I},F(I),9,mv))),128))],544),[[di,f.material]])]),c("div",null,[C[26]||(C[26]=c("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Disponibilidad ",-1)),c("div",gv,[c("label",bv,[Pe(c("input",{"onUpdate:modelValue":C[6]||(C[6]=I=>f.disponible=I),type:"checkbox",class:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",onChange:b},null,544),[[Rn,f.disponible]]),C[25]||(C[25]=c("span",{class:"ml-2 text-sm text-gray-700"},"Solo disponibles",-1))])])])])]),c("div",{class:"mt-4 pt-4 border-t border-gray-200"},[c("button",{class:"btn-secondary text-sm",onClick:_}," Limpiar filtros ")])]),c("div",vv,[c("p",yv," Mostrando "+F(n.value.length)+" de "+F(d.value)+" productos ",1),c("div",xv,[C[29]||(C[29]=c("span",{class:"text-sm text-gray-700"},"Vista:",-1)),c("button",{class:re(["p-2 rounded-md",a.value==="grid"?"bg-primary-100 text-primary-600":"text-gray-400 hover:text-gray-600"]),onClick:C[7]||(C[7]=I=>a.value="grid")},[...C[27]||(C[27]=[c("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})],-1)])],2),c("button",{class:re(["p-2 rounded-md",a.value==="list"?"bg-primary-100 text-primary-600":"text-gray-400 hover:text-gray-600"]),onClick:C[8]||(C[8]=I=>a.value="list")},[...C[28]||(C[28]=[c("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})],-1)])],2)])]),o.value?(w(),E("div",_v,[(w(),E(we,null,Le(8,I=>c("div",{key:I,class:"animate-pulse"},[...C[30]||(C[30]=[dt('<div class="bg-gray-200 aspect-w-1 aspect-h-1 rounded-lg" data-v-bf4128e5></div><div class="mt-4 space-y-2" data-v-bf4128e5><div class="h-4 bg-gray-200 rounded" data-v-bf4128e5></div><div class="h-4 bg-gray-200 rounded w-3/4" data-v-bf4128e5></div><div class="h-4 bg-gray-200 rounded w-1/2" data-v-bf4128e5></div></div>',2)])])),64))])):a.value==="grid"?(w(),E("div",wv,[(w(!0),E(we,null,Le(n.value,I=>(w(),E("div",{key:I.id,class:"group cursor-pointer bg-white rounded-lg shadow-sm hover:shadow-lg transition-shadow transition-transform hover:-translate-y-1 animate-fade-in",onClick:q=>z(I.id)},[c("div",kv,[c("img",{src:I.imagen_url||"/placeholder-furniture.jpg",alt:I.nombre,class:"h-full w-full object-cover object-center group-hover:scale-105 transition-transform duration-300"},null,8,Sv),I.disponible?Z("",!0):(w(),E("div",Ev,[...C[31]||(C[31]=[c("span",{class:"badge-danger"},"No disponible",-1)])])),c("button",{class:"absolute top-2 right-2 p-2 bg-white rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity",onClick:Ee(q=>B(I),["stop"])},[(w(),E("svg",{class:re(["h-5 w-5",I.is_favorite?"text-red-500 fill-current":"text-gray-400"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...C[32]||(C[32]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)])],2))],8,Av)]),c("div",Pv,[c("h3",Tv,F(I.nombre),1),c("p",Rv,F(I.categoria),1),c("p",Mv,F(I.descripcion),1),c("p",Iv," Medidas: "+F(I.medidas),1),c("div",Ov,[c("div",null,[c("p",Lv," $"+F(W(I.precio_base)),1),I.material?(w(),E("p",$v,F(I.material),1)):Z("",!0)]),c("button",{class:"btn-primary btn-sm",disabled:!I.disponible,onClick:Ee(q=>D(I),["stop"])},F(I.disponible?"Agregar":"No disponible"),9,Dv)])])],8,Cv))),128))])):(w(),E("div",Nv,[(w(!0),E(we,null,Le(n.value,I=>(w(),E("div",{key:I.id,class:"bg-white rounded-lg shadow-sm hover:shadow-md transition-shadow p-6 cursor-pointer",onClick:q=>z(I.id)},[c("div",jv,[c("div",Fv,[c("img",{src:I.imagen_url||"/placeholder-furniture.jpg",alt:I.nombre,class:"h-24 w-24 object-cover rounded-lg"},null,8,Gv)]),c("div",zv,[c("div",Hv,[c("div",null,[c("h3",Uv,F(I.nombre),1),c("p",Vv,F(I.categoria),1),c("p",Wv,F(I.descripcion),1),c("p",qv," Medidas: "+F(I.medidas),1),c("div",Xv,[I.material?(w(),E("span",Yv," Material: "+F(I.material),1)):Z("",!0),c("span",{class:re(["badge",I.disponible?"badge-success":"badge-danger"])},F(I.disponible?"Disponible":"No disponible"),3)])]),c("div",Kv,[c("div",Jv,[c("p",Zv," $"+F(W(I.precio_base)),1)]),c("button",{class:"p-2 text-gray-400 hover:text-red-500 transition-colors",onClick:Ee(q=>B(I),["stop"])},[(w(),E("svg",{class:re(["h-5 w-5",I.is_favorite?"text-red-500 fill-current":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...C[33]||(C[33]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)])],2))],8,Qv),c("button",{class:"btn-primary",disabled:!I.disponible,onClick:Ee(q=>D(I),["stop"])},F(I.disponible?"Agregar al carrito":"No disponible"),9,e3)])])])])],8,Bv))),128))])),!o.value&&n.value.length===0?(w(),E("div",t3,[...C[34]||(C[34]=[c("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2M4 13h2m13-8l-4 4m0 0l-4-4m4 4V3"})],-1),c("h3",{class:"mt-2 text-sm font-medium text-gray-900"}," No se encontraron productos ",-1),c("p",{class:"mt-1 text-sm text-gray-500"}," Intenta ajustar los filtros de bsqueda. ",-1)])])):Z("",!0),u.value>1?(w(),E("div",s3,[c("div",n3,[c("button",{disabled:l.value===1,class:"btn-secondary",onClick:C[9]||(C[9]=I=>O(l.value-1))}," Anterior ",8,i3),c("button",{disabled:l.value===u.value,class:"btn-secondary",onClick:C[10]||(C[10]=I=>O(l.value+1))}," Siguiente ",8,r3)]),c("div",o3,[c("div",null,[c("p",a3,[C[35]||(C[35]=J(" Mostrando ",-1)),c("span",l3,F((l.value-1)*h.value+1),1),C[36]||(C[36]=J(" a ",-1)),c("span",c3,F(Math.min(l.value*h.value,d.value)),1),C[37]||(C[37]=J(" de ",-1)),c("span",d3,F(d.value),1),C[38]||(C[38]=J(" resultados ",-1))])]),c("div",null,[c("nav",u3,[c("button",{disabled:l.value===1,class:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",onClick:C[11]||(C[11]=I=>O(l.value-1))},[...C[39]||(C[39]=[c("span",{class:"sr-only"},"Anterior",-1),c("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])],8,h3),(w(!0),E(we,null,Le(x.value,I=>(w(),E("button",{key:I,class:re(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",[I===l.value?"z-10 bg-primary-50 border-primary-500 text-primary-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"]]),onClick:q=>O(I)},F(I),11,f3))),128)),c("button",{disabled:l.value===u.value,class:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",onClick:C[12]||(C[12]=I=>O(l.value+1))},[...C[40]||(C[40]=[c("span",{class:"sr-only"},"Siguiente",-1),c("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])],8,p3)])])])])):Z("",!0)])}}},g3=ut(m3,[["__scopeId","data-v-bf4128e5"]]),b3={class:"container-custom section-padding"},v3={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},y3={class:"lg:col-span-2 space-y-6"},x3={class:"card"},_3={class:"card-body"},w3={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},C3=["onClick"],k3=["src","alt"],S3={class:"mt-2 text-center text-sm font-medium"},E3={class:"card"},A3={class:"card-body space-y-4"},P3={key:0,class:"space-y-2"},T3={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},R3=["onClick"],M3=["src","alt","onClick"],I3={class:"mt-2 text-sm font-semibold"},O3={class:"text-xs text-gray-600"},L3={key:1,class:"space-y-2"},$3={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},D3=["onClick"],N3=["src","alt","onClick"],B3={class:"mt-2 text-sm font-semibold"},j3={class:"text-xs text-gray-600"},F3={class:"card"},G3={class:"card-body"},z3={class:"grid grid-cols-1 sm:grid-cols-3 gap-3"},H3={class:"text-xs text-gray-600"},U3={class:"text-xs text-gray-600"},V3={class:"text-xs text-gray-600"},W3={key:0,class:"mt-4 space-y-2"},q3={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},X3=["onClick"],Y3=["src","alt","onClick"],K3={class:"mt-2 text-sm font-semibold"},J3={key:1,class:"mt-4 space-y-2"},Z3={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},Q3=["onClick"],ey=["src","alt","onClick"],ty={class:"mt-2 text-sm font-semibold"},sy={key:2,class:"mt-4 space-y-2"},ny={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3"},iy=["onClick"],ry=["src","alt","onClick"],oy={class:"mt-2 text-sm font-semibold"},ay={class:"card"},ly={class:"card-body"},cy={class:"grid grid-cols-1 sm:grid-cols-3 gap-4"},dy=["onClick"],uy=["src","alt"],hy={class:"mt-2 text-center text-sm font-medium"},fy={class:"card"},py={class:"card-body grid grid-cols-1 md:grid-cols-3 gap-4"},my={class:"space-y-6"},gy={class:"card"},by={class:"card-body space-y-3"},vy={class:"flex items-center justify-between"},yy={class:"text-lg font-semibold"},xy={class:"flex items-center justify-between"},_y={class:"text-lg font-semibold"},wy={class:"flex items-center justify-between"},Cy=["value"],ky={class:"flex items-center justify-between"},Sy={class:"text-lg font-semibold"},Ey={class:"flex items-center justify-between"},Ay={class:"text-2xl font-bold text-primary-700"},Py={class:"card"},Ty={class:"card-body"},Ry={class:"space-y-2 text-sm text-gray-700"},My=["src","alt"],Iy={class:"mt-2 text-center text-sm font-medium text-white"},Oy={class:"bg-white rounded-lg shadow border border-gray-200 p-6"},Ly={class:"space-y-2 text-sm text-gray-700"},$y={__name:"CotizacionesView",setup(t){as();const e=yt();Mh(),ie([]);const s=ie([]),n=[{key:"Granito",img:"/images/muebles/Granito Piedra.JPG"},{key:"Cuarzo",img:"/images/muebles/Cuarzoos"}],i=[{key:"Blanco Ituanas",price:9e4,img:"/images/muebles/Granito01.jpg"},{key:"Blanco Dallas",price:95e3,img:"/images/muebles/Granito02.jpg"},{key:"Blanco Kashmire",price:1e5,img:"/images/muebles/Granito03.jpg"},{key:"Gris Sardo",price:1e5,img:"/images/muebles/Granito04.jpg"},{key:"Gris Mara",price:95e3,img:"/images/muebles/Granito05.jpg"},{key:"Amarillo Santa Cecilia Gold",price:11e4,img:"/images/muebles/Granito06.jpg"},{key:"Amarillo Santa Cecilia",price:105e3,img:"/images/muebles/Granito07.jpg"},{key:"Amarillo Venecia",price:1e5,img:"/images/muebles/Granito08.jpg"},{key:"Amarillo Barroco",price:105e3,img:"/images/muebles/Granito09.jpg"},{key:"Amarillo New Venetian Gold",price:11e4,img:"/images/muebles/Granito10.jpg"},{key:"Amarillo Ornamental",price:105e3,img:"/images/muebles/Granito11.jpg"},{key:"Amarillo Bamb",price:95e3,img:"/images/muebles/Granito12.jpg"},{key:"Amarillo Maracuy",price:95e3,img:"/images/muebles/Granito13.jpg"},{key:"Amarillo Golden Coast",price:11e4,img:"/images/muebles/Granito14.jpg"},{key:"Caf Mara",price:1e5,img:"/images/muebles/Granito15.jpg"},{key:"Amarillo Icarai",price:95e3,img:"/images/muebles/Granito16.jpg"},{key:"Amarillo Santa Elena",price:1e5,img:"/images/muebles/Granito17.jpg"},{key:"Beige Abano",price:9e4,img:"/images/muebles/Granito18.jpg"},{key:"Oro Fino",price:12e4,img:"/images/muebles/Granito19.jpg"},{key:"San Felipe",price:95e3,img:"/images/muebles/Granito20.jpg"},{key:"Fortaleza",price:9e4,img:"/images/muebles/Granito21.jpg"},{key:"Beige Puma",price:9e4,img:"/images/muebles/Granito22.jpg"},{key:"Rosa Beta",price:9e4,img:"/images/muebles/Granito23.jpg"},{key:"Rosa del Salto",price:9e4,img:"/images/muebles/Granito24.jpg"},{key:"Ocre",price:95e3,img:"/images/muebles/Granito25.jpg"},{key:"Rojo Dragn",price:12e4,img:"/images/muebles/Granito26.jpg"},{key:"Rojo Rub",price:12e4,img:"/images/muebles/Granito27.jpg"},{key:"Rojo Imperial",price:115e3,img:"/images/muebles/Granito28.jpg"},{key:"Caf Perla",price:95e3,img:"/images/muebles/Granito29.jpg"},{key:"Verde Ecologa",price:1e5,img:"/images/muebles/Granito30.jpg"},{key:"Verde Butterfly",price:11e4,img:"/images/muebles/Granito31.jpg"},{key:"Verde Ubatuba",price:11e4,img:"/images/muebles/Granito32.jpg"},{key:"Verde Esmeralda",price:1e5,img:"/images/muebles/Granito33.jpg"},{key:"Blue Pearl",price:12e4,img:"/images/muebles/Granito34.jpg"},{key:"Negro Impala",price:12e4,img:"/images/muebles/Granito35.jpg"},{key:"Negro Galaxy",price:12e4,img:"/images/muebles/Granito36.jpg"},{key:"Negro San Gabriel Extra",price:115e3,img:"/images/muebles/Granito37.jpg"},{key:"Negro Absoluto",price:12e4,img:"/images/muebles/Granito38.jpg"}],r=[{key:"Blanco Absoluto",price:25e4,img:"/images/muebles/Cuarzos01.jpg"},{key:"Carrara",price:28e4,img:"/images/muebles/Cuarzos02.jpg"},{key:"Calacatta",price:3e5,img:"/images/muebles/Cuarzos03.webp"},{key:"Blanco Cristal",price:26e4,img:"/images/muebles/Cuarzos04.jpg"},{key:"Blanco Sugar",price:24e4,img:"/images/muebles/Cuarzos05.jpg"},{key:"White Diamond",price:29e4,img:"/images/muebles/Cuarzos06.jpg"},{key:"Blanco Galaxy",price:27e4,img:"/images/muebles/Cuarzos07.webp"},{key:"Blanco Norte",price:25e4,img:"/images/muebles/Cuarzos08.jpg"},{key:"Beige Nogado",price:24e4,img:"/images/muebles/Cuarzos09.jpg"},{key:"Sand Diamond",price:26e4,img:"/images/muebles/Cuarzos10.jpeg"},{key:"Gris Galaxy",price:27e4,img:"/images/muebles/Cuarzos11.jpg"},{key:"Beige Arena",price:25e4,img:"/images/muebles/Cuarzos12.jpg"},{key:"Beige Silky",price:24e4,img:"/images/muebles/Cuarzos13.jpg"},{key:"Amarillo Galaxy",price:27e4,img:"/images/muebles/Cuarzos14.jpg"},{key:"Moka",price:24e4,img:"/images/muebles/Cuarzos15.jpg"},{key:"Beige Galaxy",price:26e4,img:"/images/muebles/Cuarzos16.jpg"},{key:"Oasis",price:25e4,img:"/images/muebles/Cuarzos17.jpg"},{key:"Marron Galaxy",price:26e4,img:"/images/muebles/Cuarzos18.png"},{key:"Caramel",price:24e4,img:"/images/muebles/Cuarzos19.png"},{key:"Orange",price:25e4,img:"/images/muebles/Cuarzos20.jpg"},{key:"Rojo Galaxy",price:28e4,img:"/images/muebles/Cuarzos21.webp"},{key:"Verde Galaxy",price:26e4,img:"/images/muebles/Cuarzos22.png"},{key:"Apple",price:25e4,img:"/images/muebles/Cuarzos23.webp"},{key:"Azul Galaxy",price:29e4,img:"/images/muebles/Cuarzos24.jpg"},{key:"Negro Galaxy",price:29e4,img:"/images/muebles/Cuarzos25.webp"},{key:"Gris Iron",price:26e4,img:"/images/muebles/Cuarzos26.jpg"},{key:"Black Diamond",price:3e5,img:"/images/muebles/Cuarzos27.webp"},{key:"Gold Jade",price:3e5,img:"/images/muebles/Cuarzos28.jpg"},{key:"Negro Liso",price:26e4,img:"/images/muebles/Cuarzos29.webp"},{key:"Negro Marquina",price:3e5,img:"/images/muebles/Cuarzos30.webp"}],o=[{key:"Verde Esmeralda Ultra Mate",img:"/images/muebles/Color01.jpg"},{key:"Celeste Ultra Mate",img:"/images/muebles/Color02.jpg"},{key:"Verde Olivo Ultra Mate",img:"/images/muebles/Color03.jpg"},{key:"Verde Claro Ultra Mate",img:"/images/muebles/Color04.jpg"},{key:"Azul Oceanico Ultra Mate",img:"/images/muebles/Color05.jpg"},{key:"Negro Ultra Mate",img:"/images/muebles/Color06.jpg"},{key:"Grafito Ultra Mate",img:"/images/muebles/Color07.jpg"},{key:"Gris Plata Ultra Mate",img:"/images/muebles/Color08.jpg"},{key:"Titanio Ultra Mate",img:"/images/muebles/Color09.jpg"},{key:"Maple Beige",img:"/images/muebles/Color10.jpg"},{key:"New Maple",img:"/images/muebles/Color11.jpg"},{key:"Natural Oak Ultra Mate",img:"/images/muebles/Color12.jpg"},{key:"Palo Rosa",img:"/images/muebles/Color13.jpg"},{key:"Nogal Veneza",img:"/images/muebles/Color14.jpg"},{key:"Blanco Opaco",img:"/images/muebles/Color15.jpg"},{key:"Blanco Brillo",img:"/images/muebles/Color16.jpg"},{key:"Blanco Ultra Mate",img:"/images/muebles/Color17.jpg"},{key:"Madera Perillo",img:"/images/muebles/Color18.jpg"},{key:"Caf Latte",img:"/images/muebles/Color19.jpg"},{key:"Encina Brillo",img:"/images/muebles/Color20.jpg"},{key:"Madera Rosa",img:"/images/muebles/Color21.jpg"},{key:"Peral",img:"/images/muebles/Color22.jpg"},{key:"New Cerezo",img:"/images/muebles/Color23.jpg"},{key:"Granadillo",img:"/images/muebles/Color24.jpg"},{key:"Hard Rock",img:"/images/muebles/Color25.jpg"},{key:"Chocolate Sincro",img:"/images/muebles/Color26.jpg"},{key:"Madera Africana",img:"/images/muebles/Color27.jpg"}],a=["Linz","Marsella","Blanco Antrtico","Blanco Antrtico","Almendra","Aluminio","Gris","Titanio","Grafito","Negro","Negro","Rojo Strong","Rojo Strong","Blue Sky","Morado","Green Grass","Coffee Milk","Caf Claro","Damascus","Lila","Orqudea","Magenta","Violeta","Violeta","Cata Otoal","Cata Blue","Mrmol Azul","Vicenza","Mrmol Florenza","Mrmol Salamanca","Mrmol Beige","Mrmol Carrara","Mdena","Mrmol Santiago","Mrmol Verona","Mrmol Italia","Viena","Palermo","Quebec","Betania","Piedra Gris","Piedra Roja","Trento","Granito Octay","Granito Dich","Black Pearl","Vancouver","Montreal Gray","Montreal Dark","Clear Wood","Madera Haya","Arezzo","Arezzo","Cerezo Rojo","Cerezo Rojo","Viterbo","Viterbo","Madera Huapa","Vilcn","Madera Nativa","Rauco","Eleganza","Veneza","Peumo","Tabunco","Rancura","Pirque","Londrina","Dark Wood","Llanquihue","Porvenir","Timaukel","Licantn","Tantauco"],l=a.map((se,N)=>({key:se,img:`/images/muebles/Colores${String(N+1).padStart(2,"0")}.jpg`})),u=a.map((se,N)=>({key:se,img:`/images/muebles/Colores${String(N+1).padStart(2,"0")}.jpg`})),d=[{key:"Postformado",img:"/images/muebles/Cocina con postformado.png"},{key:"Melamina",img:"/images/muebles/Cocina con melamina.png"},{key:"Termolaminado",img:"/images/muebles/Cocina con termolaminado.png"}],h=He({cubiertaTipo:null,materialMueble:null,color:null,muebleColor:null,medidas:{ancho:100,alto:90,fondo:60},cantidad:1}),f=He({Termolaminado:!0,Postformado:!1,Melamina:!1}),m=He({Cuarzo:!0,Granito:!0}),p=He({open:!1,src:"",title:""}),x=(se,N)=>{p.open=!0,p.src=se,p.title=N},v=()=>{p.open=!1,p.src="",p.title=""},y=se=>{var Te;const N=se.target,oe=N.getAttribute("src")||"",De=oe.lastIndexOf("."),Qe=De>-1?oe.slice(0,De):oe,V=["jpg","jpeg","png","webp","JPG","JPEG","PNG","WEBP"],de=((Te=oe.split(".").pop())==null?void 0:Te.toLowerCase())||"",$=V.filter(S=>S!==de),ge=Number(N.dataset.extIdx||0);ge>=$.length||(N.dataset.extIdx=String(ge+1),N.src=`${Qe}.${$[ge]}`)},g={Granito:65e4,Cuarzo:8e5},b=se=>{const N=String(se||"").toLowerCase();return N.includes("termolaminado")?25e4:N.includes("postformado")||N.includes("melamina")?1e5:0},_=ke(()=>(Number(h.medidas.ancho)||0)/100),O=ke(()=>r.find(se=>se.key===h.color)||null),z=ke(()=>i.find(se=>se.key===h.color)||null),B=ke(()=>{var N,oe;if(h.cubiertaTipo==="Cuarzo"){const De=((N=O.value)==null?void 0:N.price)||0;return Math.round(De*_.value)}if(h.cubiertaTipo==="Granito"){const De=((oe=z.value)==null?void 0:oe.price)||0;return Math.round(De*_.value)}const se=g[h.cubiertaTipo]||0;return Math.round(se*_.value)}),A=ke(()=>{const se=b(h.materialMueble);return Math.round(se*_.value)}),D=["Santiago","Cerrillos","Cerro Navia","Conchal","El Bosque","Estacin Central","Huechuraba","Independencia","La Cisterna","La Granja","La Florida","La Pintana","La Reina","Las Condes","Lo Barnechea","Lo Espejo","Lo Prado","Macul","Maip","uoa","Pedro Aguirre Cerda","Pealoln","Providencia","Pudahuel","Quilicura","Quinta Normal","Recoleta","Renca","San Joaqun","San Miguel","San Ramn","Vitacura","Colina","Lampa","Tiltil","Puente Alto","Pirque","San Jos de Maipo","San Bernardo","Buin","Paine","Calera de Tango","Melipilla","Curacav","Mara Pinto","San Pedro","Alhu","Talagante","El Monte","Isla de Maipo","Padre Hurtado","Peaflor"],W=new Set(["Santiago","Providencia","uoa","Las Condes","Vitacura","La Reina","Macul","San Miguel","San Joaqun","La Cisterna","Pedro Aguirre Cerda","San Ramn","La Granja","Estacin Central","Quinta Normal","Independencia","Recoleta","Conchal","Huechuraba","Renca","Cerro Navia","Lo Prado"]),H=new Set(["La Florida","La Pintana","El Bosque","Maip","Pudahuel","Cerrillos","Quilicura","Lo Espejo","Pealoln","Lo Barnechea"]),C=new Set(["Puente Alto","Pirque","San Jos de Maipo","San Bernardo","Buin","Paine","Calera de Tango","Colina","Lampa","Tiltil","Melipilla","Curacav","Mara Pinto","San Pedro","Alhu","Talagante","El Monte","Isla de Maipo","Padre Hurtado","Peaflor"]),Q=ie(""),I=se=>se?W.has(se)?25e3:H.has(se)?35e3:C.has(se)?45e3:0:0,q=ke(()=>I(Q.value)),L=ke(()=>{const se=Number(h.cantidad)||1;return Math.max(0,(B.value+A.value)*se+q.value)}),M=se=>new Intl.NumberFormat("es-ES",{minimumFractionDigits:0,maximumFractionDigits:0}).format(se||0),R=async()=>{try{const{data:se}=await Rh.getFilterOptions(),N=(se==null?void 0:se.filtros)||{};s.value=Array.isArray(N.colores)?N.colores:[],h.materialMueble||(h.materialMueble="Melamina"),!h.color&&s.value.length&&(h.color=s.value[0])}catch{s.value=["Blanco","Negro","Gris","Beige"],h.materialMueble||(h.materialMueble="Melamina"),h.color||(h.color=s.value[0])}},P=He({open:!1,id:null,created_at:"",data:null}),X=async()=>{var se,N,oe,De,Qe;try{const V=`${h.medidas.ancho}x${h.medidas.alto}x${h.medidas.fondo} cm`,de={cubierta:h.cubiertaTipo,material_mueble:h.materialMueble,color:h.muebleColor||h.color||"",medidas:V,precio_unitario:L.value,comuna:Q.value||"",traslado_comuna:Q.value||"",precio_traslado:q.value,total_con_traslado:L.value},$=await nt.post("/pedidos/cotizaciones/xano",de);P.open=!0,P.id=((N=(se=$.data)==null?void 0:se.cotizacion)==null?void 0:N.id)||((oe=$.data)==null?void 0:oe.id)||null,P.created_at=((Qe=(De=$.data)==null?void 0:De.cotizacion)==null?void 0:Qe.created_at)||new Date().toISOString(),P.data=de,e.success("Pedido enviado")}catch{}},ce=()=>{P.open=!1};return $t(()=>{h.cubiertaTipo=n[0].key,h.materialMueble||(h.materialMueble="Melamina"),R()}),(se,N)=>{var oe,De,Qe,V,de;return w(),E(we,null,[c("div",b3,[N[47]||(N[47]=c("div",{class:"mb-8"},[c("h1",{class:"text-2xl font-bold text-gray-900"},"Cotizaciones"),c("p",{class:"text-gray-600"}," Elige cubierta, materiales y mueble para tu proyecto ")],-1)),c("div",v3,[c("div",y3,[c("div",x3,[c("div",_3,[N[15]||(N[15]=c("h2",{class:"text-lg font-semibold mb-4"},"Tipo de cubierta",-1)),c("div",w3,[(w(),E(we,null,Le(n,$=>c("button",{key:$.key,class:re(["p-2 border rounded-lg hover:border-primary-500 transition-colors",{"border-primary-600 ring-1 ring-primary-200":h.cubiertaTipo===$.key}]),onClick:ge=>h.cubiertaTipo=$.key},[c("img",{src:$.img,alt:$.key,class:"w-full h-24 object-contain rounded-md bg-gray-50",onError:y},null,40,k3),c("div",S3,F($.key),1)],10,C3)),64))])])]),c("div",E3,[c("div",A3,[h.cubiertaTipo==="Cuarzo"?(w(),E("div",P3,[c("button",{type:"button",class:"w-full flex items-center justify-between",onClick:N[0]||(N[0]=$=>m.Cuarzo=!m.Cuarzo)},[N[17]||(N[17]=c("div",{class:"text-sm font-medium text-gray-700"}," Colores de cuarzo ",-1)),(w(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:re(["h-5 w-5 text-gray-600 transition-transform",m.Cuarzo?"rotate-180":"rotate-0"])},[...N[16]||(N[16]=[c("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z","clip-rule":"evenodd"},null,-1)])],2))]),Pe(c("div",T3,[(w(),E(we,null,Le(r,$=>c("button",{key:$.key,class:re(["p-3 border rounded-lg text-left hover:border-primary-500 transition-colors",{"border-primary-600 ring-1 ring-primary-200":h.color===$.key}]),onClick:ge=>h.color=$.key},[c("img",{src:$.img,alt:$.key,class:"w-full h-20 object-cover rounded-md",onError:y,onClick:Ee(ge=>x($.img,$.key),["stop"])},null,40,M3),c("div",I3,F($.key),1),c("div",O3," $ "+F(M($.price))+"/100 cm ",1)],10,R3)),64))],512),[[Un,m.Cuarzo]])])):Z("",!0),h.cubiertaTipo==="Granito"?(w(),E("div",L3,[c("button",{type:"button",class:"w-full flex items-center justify-between",onClick:N[1]||(N[1]=$=>m.Granito=!m.Granito)},[N[19]||(N[19]=c("div",{class:"text-sm font-medium text-gray-700"}," Colores de granito ",-1)),(w(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:re(["h-5 w-5 text-gray-600 transition-transform",m.Granito?"rotate-180":"rotate-0"])},[...N[18]||(N[18]=[c("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z","clip-rule":"evenodd"},null,-1)])],2))]),Pe(c("div",$3,[(w(),E(we,null,Le(i,$=>c("button",{key:$.key,class:re(["p-3 border rounded-lg text-left hover:border-primary-500 transition-colors",{"border-primary-600 ring-1 ring-primary-200":h.color===$.key}]),onClick:ge=>h.color=$.key},[c("img",{src:$.img,alt:$.key,class:"w-full h-20 object-cover rounded-md",onError:y,onClick:Ee(ge=>x($.img,$.key),["stop"])},null,40,N3),c("div",B3,F($.key),1),c("div",j3," $ "+F(M($.price))+"/100 cm ",1)],10,D3)),64))],512),[[Un,m.Granito]])])):Z("",!0)])]),c("div",F3,[c("div",G3,[N[29]||(N[29]=c("h2",{class:"text-lg font-semibold mb-4"},"Material del mueble",-1)),c("div",z3,[c("button",{class:re(["p-3 border rounded-lg hover:border-primary-500",{"border-primary-600 ring-1 ring-primary-200":h.materialMueble==="Termolaminado"}]),onClick:N[2]||(N[2]=$=>h.materialMueble="Termolaminado")},[N[20]||(N[20]=c("div",{class:"text-sm font-semibold"},"Termolaminado",-1)),c("div",H3," $ "+F(M(25e4))+"/100 cm ",1)],2),c("button",{class:re(["p-3 border rounded-lg hover:border-primary-500",{"border-primary-600 ring-1 ring-primary-200":h.materialMueble==="Postformado"}]),onClick:N[3]||(N[3]=$=>h.materialMueble="Postformado")},[N[21]||(N[21]=c("div",{class:"text-sm font-semibold"},"Postformado",-1)),c("div",U3," $ "+F(M(1e5))+"/100 cm ",1)],2),c("button",{class:re(["p-3 border rounded-lg hover:border-primary-500",{"border-primary-600 ring-1 ring-primary-200":h.materialMueble==="Melamina"}]),onClick:N[4]||(N[4]=$=>h.materialMueble="Melamina")},[N[22]||(N[22]=c("div",{class:"text-sm font-semibold"},"Melamina",-1)),c("div",V3," $ "+F(M(1e5))+"/100 cm ",1)],2)]),h.materialMueble==="Termolaminado"?(w(),E("div",W3,[c("button",{type:"button",class:"w-full flex items-center justify-between",onClick:N[5]||(N[5]=$=>f.Termolaminado=!f.Termolaminado)},[N[24]||(N[24]=c("div",{class:"text-sm font-medium text-gray-700"}," Colores de termolaminado ",-1)),(w(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:re(["h-5 w-5 text-gray-600 transition-transform",f.Termolaminado?"rotate-180":"rotate-0"])},[...N[23]||(N[23]=[c("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z","clip-rule":"evenodd"},null,-1)])],2))]),Pe(c("div",q3,[(w(),E(we,null,Le(o,$=>c("button",{key:$.key,class:re(["p-3 border rounded-lg text-left hover:border-primary-500 transition-colors",{"border-primary-600 ring-1 ring-primary-200":h.muebleColor===$.key}]),onClick:ge=>h.muebleColor=$.key},[c("img",{src:$.img,alt:$.key,class:"w-full h-20 object-cover rounded-md",onError:y,onClick:Ee(ge=>x($.img,$.key),["stop"])},null,40,Y3),c("div",K3,F($.key),1)],10,X3)),64))],512),[[Un,f.Termolaminado]])])):Z("",!0),h.materialMueble==="Postformado"?(w(),E("div",J3,[c("button",{type:"button",class:"w-full flex items-center justify-between",onClick:N[6]||(N[6]=$=>f.Postformado=!f.Postformado)},[N[26]||(N[26]=c("div",{class:"text-sm font-medium text-gray-700"}," Colores de postformado ",-1)),(w(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:re(["h-5 w-5 text-gray-600 transition-transform",f.Postformado?"rotate-180":"rotate-0"])},[...N[25]||(N[25]=[c("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z","clip-rule":"evenodd"},null,-1)])],2))]),Pe(c("div",Z3,[(w(!0),E(we,null,Le(Oe(l),$=>(w(),E("button",{key:$.key,class:re(["p-3 border rounded-lg text-left hover:border-primary-500 transition-colors",{"border-primary-600 ring-1 ring-primary-200":h.muebleColor===$.key}]),onClick:ge=>h.muebleColor=$.key},[c("img",{src:$.img,alt:$.key,class:"w-full h-20 object-cover rounded-md",onError:y,onClick:Ee(ge=>x($.img,$.key),["stop"])},null,40,ey),c("div",ty,F($.key),1)],10,Q3))),128))],512),[[Un,f.Postformado]])])):Z("",!0),h.materialMueble==="Melamina"?(w(),E("div",sy,[c("button",{type:"button",class:"w-full flex items-center justify-between",onClick:N[7]||(N[7]=$=>f.Melamina=!f.Melamina)},[N[28]||(N[28]=c("div",{class:"text-sm font-medium text-gray-700"}," Colores de melamina ",-1)),(w(),E("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:re(["h-5 w-5 text-gray-600 transition-transform",f.Melamina?"rotate-180":"rotate-0"])},[...N[27]||(N[27]=[c("path",{"fill-rule":"evenodd",d:"M5.23 7.21a.75.75 0 011.06.02L10 10.94l3.71-3.71a.75.75 0 111.06 1.06l-4.24 4.24a.75.75 0 01-1.06 0L5.21 8.27a.75.75 0 01.02-1.06z","clip-rule":"evenodd"},null,-1)])],2))]),Pe(c("div",ny,[(w(!0),E(we,null,Le(Oe(u),$=>(w(),E("button",{key:$.key,class:re(["p-3 border rounded-lg text-left hover:border-primary-500 transition-colors",{"border-primary-600 ring-1 ring-primary-200":h.muebleColor===$.key}]),onClick:ge=>h.muebleColor=$.key},[c("img",{src:$.img,alt:$.key,class:"w-full h-20 object-cover rounded-md",onError:y,onClick:Ee(ge=>x($.img,$.key),["stop"])},null,40,ry),c("div",oy,F($.key),1)],10,iy))),128))],512),[[Un,f.Melamina]])])):Z("",!0)])]),c("div",ay,[c("div",ly,[N[30]||(N[30]=c("h2",{class:"text-lg font-semibold mb-4"},"Terminaciones de muebles",-1)),c("div",cy,[(w(),E(we,null,Le(d,$=>c("button",{key:$.key,class:"p-2 border rounded-lg hover:border-primary-500 transition-colors",onClick:ge=>x($.img,$.key)},[c("img",{src:$.img,alt:$.key,class:"w-full h-40 object-cover rounded-md",onError:y},null,40,uy),c("div",hy,F($.key),1)],8,dy)),64))])])]),c("div",fy,[c("div",py,[c("div",null,[N[31]||(N[31]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Ancho (cm)",-1)),Pe(c("input",{"onUpdate:modelValue":N[8]||(N[8]=$=>h.medidas.ancho=$),type:"number",min:"40",max:"300",class:"input-field w-full"},null,512),[[Ze,h.medidas.ancho,void 0,{number:!0}]])]),c("div",null,[N[32]||(N[32]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Alto (cm)",-1)),Pe(c("input",{"onUpdate:modelValue":N[9]||(N[9]=$=>h.medidas.alto=$),type:"number",min:"60",max:"240",class:"input-field w-full"},null,512),[[Ze,h.medidas.alto,void 0,{number:!0}]])]),c("div",null,[N[33]||(N[33]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Fondo (cm)",-1)),Pe(c("input",{"onUpdate:modelValue":N[10]||(N[10]=$=>h.medidas.fondo=$),type:"number",min:"40",max:"100",class:"input-field w-full"},null,512),[[Ze,h.medidas.fondo,void 0,{number:!0}]])])])])]),c("div",my,[c("div",gy,[c("div",by,[c("div",vy,[N[34]||(N[34]=c("div",{class:"text-sm text-gray-600"},"Precio cubierta",-1)),c("div",yy," $ "+F(M(B.value)),1)]),c("div",xy,[N[35]||(N[35]=c("div",{class:"text-sm text-gray-600"},"Precio mueble",-1)),c("div",_y," $ "+F(M(A.value)),1)]),c("div",wy,[N[36]||(N[36]=c("div",{class:"text-sm text-gray-600"},"Cantidad",-1)),Pe(c("input",{"onUpdate:modelValue":N[11]||(N[11]=$=>h.cantidad=$),type:"number",min:"1",max:"20",class:"input-field w-24 text-center"},null,512),[[Ze,h.cantidad,void 0,{number:!0}]])]),c("div",null,[N[38]||(N[38]=c("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Comuna (Traslado)",-1)),Pe(c("select",{"onUpdate:modelValue":N[12]||(N[12]=$=>Q.value=$),class:"input-field w-full"},[N[37]||(N[37]=c("option",{disabled:"",value:""},"Seleccione comuna",-1)),(w(),E(we,null,Le(D,$=>c("option",{key:$,value:$},F($),9,Cy)),64))],512),[[di,Q.value]])]),c("div",ky,[N[39]||(N[39]=c("div",{class:"text-sm text-gray-600"},"Traslado",-1)),c("div",Sy," $ "+F(M(q.value)),1)]),N[41]||(N[41]=c("hr",null,null,-1)),c("div",Ey,[N[40]||(N[40]=c("div",{class:"text-base font-medium"},"Total estimado",-1)),c("div",Ay," $ "+F(M(L.value)),1)]),c("div",{class:"grid grid-cols-1 gap-2 mt-4"},[c("button",{class:"btn-primary",onClick:X}," Mandar Pedido ")])])]),c("div",Py,[c("div",Ty,[N[46]||(N[46]=c("h3",{class:"text-lg font-semibold mb-3"},"Resumen",-1)),c("ul",Ry,[c("li",null,[N[42]||(N[42]=c("span",{class:"font-medium"},"Cubierta:",-1)),J(" "+F(h.cubiertaTipo)+"  "+F(h.color),1)]),c("li",null,[N[43]||(N[43]=c("span",{class:"font-medium"},"Mueble:",-1)),J(" "+F(h.materialMueble)+" ",1),h.muebleColor?(w(),E(we,{key:0},[J("  "+F(h.muebleColor),1)],64)):Z("",!0)]),c("li",null,[N[44]||(N[44]=c("span",{class:"font-medium"},"Medidas:",-1)),J(" "+F(h.medidas.ancho)+""+F(h.medidas.alto)+""+F(h.medidas.fondo)+" cm ",1)]),c("li",null,[N[45]||(N[45]=c("span",{class:"font-medium"},"Traslado:",-1)),J(" "+F(Q.value||"")+" ",1),q.value?(w(),E(we,{key:0},[J("  $ "+F(M(q.value)),1)],64)):Z("",!0)])])])])])])]),p.open?(w(),E("div",{key:0,class:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center",onClick:v},[c("div",{class:"max-w-4xl w-full px-4",onClick:N[13]||(N[13]=Ee(()=>{},["stop"]))},[c("img",{src:p.src,alt:p.title,class:"w-full max-h-[80vh] object-contain rounded-lg bg-white",onError:y},null,40,My),c("div",Iy,F(p.title),1)])])):Z("",!0),P.open?(w(),E("div",{key:1,class:"fixed inset-0 z-50 bg-black/60 flex items-center justify-center",onClick:ce},[c("div",{class:"max-w-xl w-full px-4",onClick:N[14]||(N[14]=Ee(()=>{},["stop"]))},[c("div",Oy,[N[57]||(N[57]=c("h3",{class:"text-lg font-semibold mb-4"},"Resumen del pedido",-1)),c("div",Ly,[c("div",null,[N[48]||(N[48]=c("span",{class:"font-medium"},"ID:",-1)),J(" "+F(P.id||""),1)]),c("div",null,[N[49]||(N[49]=c("span",{class:"font-medium"},"Fecha:",-1)),J(" "+F(new Date(P.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})),1)]),c("div",null,[N[50]||(N[50]=c("span",{class:"font-medium"},"Cubierta:",-1)),J(" "+F((oe=P.data)==null?void 0:oe.cubierta),1)]),c("div",null,[N[51]||(N[51]=c("span",{class:"font-medium"},"Material mueble:",-1)),J(" "+F((De=P.data)==null?void 0:De.material_mueble),1)]),c("div",null,[N[52]||(N[52]=c("span",{class:"font-medium"},"Color:",-1)),J(" "+F((Qe=P.data)==null?void 0:Qe.color),1)]),c("div",null,[N[53]||(N[53]=c("span",{class:"font-medium"},"Medidas:",-1)),J(" "+F((V=P.data)==null?void 0:V.medidas),1)]),c("div",null,[N[54]||(N[54]=c("span",{class:"font-medium"},"Cantidad:",-1)),J(" "+F(h.cantidad),1)]),c("div",null,[N[55]||(N[55]=c("span",{class:"font-medium"},"Precio unitario:",-1)),J(" $ "+F(M((de=P.data)==null?void 0:de.precio_unitario)),1)]),c("div",null,[N[56]||(N[56]=c("span",{class:"font-medium"},"Total:",-1)),J(" $ "+F(M(L.value)),1)])]),c("div",{class:"mt-4 text-right"},[c("button",{class:"btn-primary",onClick:ce},"Cerrar")])])])])):Z("",!0)],64)}}},Dy=ut($y,[["__scopeId","data-v-5937e486"]]),Ny={class:"container mx-auto p-4"},By={key:0,class:"py-10 text-center text-gray-600"},jy={key:1},Fy={class:"overflow-x-auto bg-white shadow rounded"},Gy={class:"min-w-full"},zy={class:"px-4 py-2"},Hy={class:"px-4 py-2"},Uy={class:"px-4 py-2"},Vy={class:"px-4 py-2"},Wy={class:"px-4 py-2"},qy={class:"px-4 py-2"},Xy={class:"px-4 py-2"},Yy={class:"px-4 py-2"},Ky={class:"px-4 py-2"},Jy={class:"flex gap-2 items-center"},Zy={key:0,class:"px-2 py-1 text-xs rounded bg-yellow-100 text-yellow-700"},Qy={key:1,class:"px-2 py-1 text-xs rounded bg-red-100 text-red-700"},e6={key:2,class:"px-2 py-1 text-xs rounded bg-green-100 text-green-700"},t6=["onClick"],s6={key:0},n6={class:"flex items-center justify-center gap-2 mt-4"},i6=["disabled"],r6={class:"text-sm text-gray-700"},o6=["disabled"],a6={__name:"MisCotizacionesView",setup(t){const e=yt(),s=ws(),n=ie(!0),i=ie([]),r=He({page:1,limit:10,total:0,pages:1}),o=()=>new Promise(d=>{var f;if((f=window.jspdf)!=null&&f.jsPDF)return d(window.jspdf.jsPDF);const h=document.createElement("script");h.src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js",h.onload=()=>d(window.jspdf.jsPDF),document.head.appendChild(h)}),a=async d=>{try{const h=await o(),f=new h({unit:"mm",format:"a4"}),p=await(async(g,b=140,_=56)=>{try{const z=await(await fetch(g)).text(),B=new Blob([z],{type:"image/svg+xml;charset=utf-8"}),A=URL||window.URL,D=A.createObjectURL(B),W=new Image;W.crossOrigin="anonymous",await new Promise(I=>{W.onload=()=>I(null),W.src=D});const H=document.createElement("canvas");H.width=b,H.height=_,H.getContext("2d").drawImage(W,0,0,b,_);const Q=H.toDataURL("image/png");return A.revokeObjectURL(D),Q}catch{return null}})(Fa);p&&f.addImage(p,"PNG",15,15,35,14),f.setFont("helvetica","bold"),f.setFontSize(16),f.text("Comercial HG",55,22),f.setFont("helvetica","normal"),f.setFontSize(10),f.text("Muebles a medida  Cotizacin",55,27),f.text(`#${d.id}`,180,27,{align:"right"}),f.setDrawColor(220),f.line(15,33,195,33),f.setFontSize(14),f.setFont("helvetica","bold"),f.text("Resumen de Cotizacin",15,43),f.setFont("helvetica","normal"),f.setFontSize(10);const x=d.created_at?new Date(d.created_at).toLocaleString("es-CL"):"";f.text(`Emitida: ${x}`,15,48);const v=[["Cubierta",d.cubierta||""],["Material",d.material_mueble||""],["Color",d.color||""],["Medidas",d.medidas||""],["Comuna",d.comuna||""],["Total",new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(d.precio_unitario)||0)]];let y=58;f.setFontSize(11),f.setFont("helvetica","bold"),f.text("Campo",20,y),f.text("Detalle",80,y),f.setDrawColor(220),f.line(15,y+2,195,y+2),f.setFont("helvetica","normal"),y+=8,v.forEach(g=>{f.text(String(g[0]),20,y),f.text(String(g[1]),80,y),y+=8,f.setDrawColor(240),f.line(15,y,195,y),y+=2}),f.setFontSize(9),f.setTextColor(120),f.text("Comercial HG  contacto@comercialhg.com",15,285),f.text("www.comercialhg.com",195,285,{align:"right"}),f.save(`cotizacion-${d.id}.pdf`)}catch{e.error("No se pudo generar el PDF")}},l=async(d=1)=>{var h,f;try{if(n.value=!0,!((h=s.user)!=null&&h.id))try{await s.verifyToken()}catch{}const m=(f=s.user)==null?void 0:f.id,p=await nt.get(`/pedidos/cotizaciones/usuario/${m}`,{params:{page:d,limit:r.limit}});i.value=p.data.cotizaciones||[],p.data.pagination&&(r.page=p.data.pagination.page||d,r.limit=p.data.pagination.limit||r.limit,r.total=p.data.pagination.total||i.value.length,r.pages=p.data.pagination.pages||Math.ceil(r.total/r.limit)||1)}catch(m){m!=null&&m.response||e.error("Error al cargar cotizaciones")}finally{n.value=!1}},u=d=>{d>=1&&d<=r.pages&&(r.page=d,l(d))};return $t(()=>l(1)),(d,h)=>(w(),E("div",Ny,[h[4]||(h[4]=c("h1",{class:"text-2xl font-semibold mb-4"},"Mis Cotizaciones",-1)),n.value?(w(),E("div",By," Cargando ")):(w(),E("div",jy,[c("div",Fy,[c("table",Gy,[h[3]||(h[3]=c("thead",null,[c("tr",{class:"bg-gray-50 text-left"},[c("th",{class:"px-4 py-3"},"ID"),c("th",{class:"px-4 py-3"},"Fecha"),c("th",{class:"px-4 py-3"},"Cubierta"),c("th",{class:"px-4 py-3"},"Material"),c("th",{class:"px-4 py-3"},"Color"),c("th",{class:"px-4 py-3"},"Medidas"),c("th",{class:"px-4 py-3"},"Comuna"),c("th",{class:"px-4 py-3"},"Precio"),c("th",{class:"px-4 py-3"},"Acciones")])],-1)),c("tbody",null,[(w(!0),E(we,null,Le(i.value,f=>(w(),E("tr",{key:f.id,class:"border-t"},[c("td",zy,F(f.id),1),c("td",Hy,F(new Date(f.created_at).toLocaleString()),1),c("td",Uy,F(f.cubierta||""),1),c("td",Vy,F(f.material_mueble),1),c("td",Wy,F(f.color),1),c("td",qy,F(f.medidas),1),c("td",Xy,F(f.comuna||""),1),c("td",Yy,F(Number(f.precio_unitario).toLocaleString("es-CL",{style:"currency",currency:"CLP"})),1),c("td",Ky,[c("div",Jy,[f.estado_cotizacion!=="aprobada"&&f.estado_cotizacion!=="rechazada"?(w(),E("span",Zy,"En revisin")):Z("",!0),f.estado_cotizacion==="rechazada"?(w(),E("span",Qy,"Rechazado")):Z("",!0),f.estado_cotizacion==="aprobada"?(w(),E("span",e6,"Aprobado")):Z("",!0),f.estado_cotizacion==="aprobada"?(w(),E("button",{key:3,class:"px-3 py-1 border rounded",onClick:m=>a(f)}," Descargar PDF ",8,t6)):Z("",!0)])])]))),128)),i.value.length===0?(w(),E("tr",s6,[...h[2]||(h[2]=[c("td",{class:"px-4 py-6 text-center text-gray-500",colspan:"8"}," No hay cotizaciones ",-1)])])):Z("",!0)])])]),c("div",n6,[c("button",{class:"px-3 py-2 border rounded",disabled:r.page<=1,onClick:h[0]||(h[0]=f=>u(r.page-1))}," Anterior ",8,i6),c("span",r6,"Pgina "+F(r.page)+" de "+F(r.pages),1),c("button",{class:"px-3 py-2 border rounded",disabled:r.page>=r.pages,onClick:h[1]||(h[1]=f=>u(r.page+1))}," Siguiente ",8,o6)])]))]))}},l6=Math.PI/180;function c6(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const nn=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},ue={_global:nn,version:"10.0.8",isBrowser:c6(),isUnminified:/param/.test((function(t){}).toString()),dblClickWindow:400,getAngle(t){return ue.angleDeg?t*l6:t},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return ue.DD.isDragging},isTransforming(){var t,e;return(e=(t=ue.Transformer)===null||t===void 0?void 0:t.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!ue.DD.node},releaseCanvasOnDestroy:!0,document:nn.document,_injectGlobal(t){typeof nn.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),nn.Konva=t}},et=t=>{ue[t.prototype.getClassName()]=t};ue._injectGlobal(ue);const d6=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,kc=()=>{if(typeof document>"u")throw new Error(d6)};class Mt{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new Mt(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const s=this.m;return{x:s[0]*e.x+s[2]*e.y+s[4],y:s[1]*e.x+s[3]*e.y+s[5]}}translate(e,s){return this.m[4]+=this.m[0]*e+this.m[2]*s,this.m[5]+=this.m[1]*e+this.m[3]*s,this}scale(e,s){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=s,this.m[3]*=s,this}rotate(e){const s=Math.cos(e),n=Math.sin(e),i=this.m[0]*s+this.m[2]*n,r=this.m[1]*s+this.m[3]*n,o=this.m[0]*-n+this.m[2]*s,a=this.m[1]*-n+this.m[3]*s;return this.m[0]=i,this.m[1]=r,this.m[2]=o,this.m[3]=a,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,s){const n=this.m[0]+this.m[2]*s,i=this.m[1]+this.m[3]*s,r=this.m[2]+this.m[0]*e,o=this.m[3]+this.m[1]*e;return this.m[0]=n,this.m[1]=i,this.m[2]=r,this.m[3]=o,this}multiply(e){const s=this.m[0]*e.m[0]+this.m[2]*e.m[1],n=this.m[1]*e.m[0]+this.m[3]*e.m[1],i=this.m[0]*e.m[2]+this.m[2]*e.m[3],r=this.m[1]*e.m[2]+this.m[3]*e.m[3],o=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],a=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=s,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=o,this.m[5]=a,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),s=this.m[3]*e,n=-this.m[1]*e,i=-this.m[2]*e,r=this.m[0]*e,o=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=s,this.m[1]=n,this.m[2]=i,this.m[3]=r,this.m[4]=o,this.m[5]=a,this}getMatrix(){return this.m}decompose(){const e=this.m[0],s=this.m[1],n=this.m[2],i=this.m[3],r=this.m[4],o=this.m[5],a=e*i-s*n,l={x:r,y:o,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||s!=0){const u=Math.sqrt(e*e+s*s);l.rotation=s>0?Math.acos(e/u):-Math.acos(e/u),l.scaleX=u,l.scaleY=a/u,l.skewX=(e*n+s*i)/a,l.skewY=0}else if(n!=0||i!=0){const u=Math.sqrt(n*n+i*i);l.rotation=Math.PI/2-(i>0?Math.acos(-n/u):-Math.acos(n/u)),l.scaleX=a/u,l.scaleY=u,l.skewX=0,l.skewY=(e*n+s*i)/a}return l.rotation=j._getRotation(l.rotation),l}}const u6="[object Array]",h6="[object Number]",f6="[object String]",p6="[object Boolean]",m6=Math.PI/180,g6=180/Math.PI,So="#",b6="",v6="0",y6="Konva warning: ",Sc="Konva error: ",x6="rgb(",Eo={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},_6=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Vi=[];const w6=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(t){setTimeout(t,60)},j={_isElement(t){return!!(t&&t.nodeType==1)},_isFunction(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject(t){return!!t&&t.constructor===Object},_isArray(t){return Object.prototype.toString.call(t)===u6},_isNumber(t){return Object.prototype.toString.call(t)===h6&&!isNaN(t)&&isFinite(t)},_isString(t){return Object.prototype.toString.call(t)===f6},_isBoolean(t){return Object.prototype.toString.call(t)===p6},isObject(t){return t instanceof Object},isValidSelector(t){if(typeof t!="string")return!1;const e=t[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(t){return t===0||t>0?1:-1},requestAnimFrame(t){Vi.push(t),Vi.length===1&&w6(function(){const e=Vi;Vi=[],e.forEach(function(s){s()})})},createCanvasElement(){kc();const t=document.createElement("canvas");try{t.style=t.style||{}}catch{}return t},createImageElement(){return kc(),document.createElement("img")},_isInDocument(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_urlToImage(t,e){const s=j.createImageElement();s.onload=function(){e(s)},s.src=t},_rgbToHex(t,e,s){return((1<<24)+(t<<16)+(e<<8)+s).toString(16).slice(1)},_hexToRgb(t){t=t.replace(So,b6);const e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let t=(Math.random()*16777215<<0).toString(16);for(;t.length<6;)t=v6+t;return So+t},getRGB(t){let e;return t in Eo?(e=Eo[t],{r:e[0],g:e[1],b:e[2]}):t[0]===So?this._hexToRgb(t.substring(1)):t.substr(0,4)===x6?(e=_6.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(t){return t=t||"black",j._namedColorToRBA(t)||j._hex3ColorToRGBA(t)||j._hex4ColorToRGBA(t)||j._hex6ColorToRGBA(t)||j._hex8ColorToRGBA(t)||j._rgbColorToRGBA(t)||j._rgbaColorToRGBA(t)||j._hslColorToRGBA(t)},_namedColorToRBA(t){const e=Eo[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(t){if(t.indexOf("rgb(")===0){t=t.match(/rgb\(([^)]+)\)/)[1];const e=t.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(t){if(t.indexOf("rgba(")===0){t=t.match(/rgba\(([^)]+)\)/)[1];const e=t.split(/ *, */).map((s,n)=>s.slice(-1)==="%"?n===3?parseInt(s)/100:parseInt(s)/100*255:Number(s));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(t){if(t[0]==="#"&&t.length===9)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:parseInt(t.slice(7,9),16)/255}},_hex6ColorToRGBA(t){if(t[0]==="#"&&t.length===7)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex4ColorToRGBA(t){if(t[0]==="#"&&t.length===5)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:parseInt(t[4]+t[4],16)/255}},_hex3ColorToRGBA(t){if(t[0]==="#"&&t.length===4)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){const[e,...s]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=Number(s[0])/360,i=Number(s[1])/100,r=Number(s[2])/100;let o,a,l;if(i===0)return l=r*255,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};r<.5?o=r*(1+i):o=r+i-r*i;const u=2*r-o,d=[0,0,0];for(let h=0;h<3;h++)a=n+1/3*-(h-1),a<0&&a++,a>1&&a--,6*a<1?l=u+(o-u)*6*a:2*a<1?l=o:3*a<2?l=u+(o-u)*(2/3-a)*6:l=u,d[h]=l*255;return{r:Math.round(d[0]),g:Math.round(d[1]),b:Math.round(d[2]),a:1}}},haveIntersection(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject(t){const e={};for(const s in t)this._isPlainObject(t[s])?e[s]=this.cloneObject(t[s]):this._isArray(t[s])?e[s]=this.cloneArray(t[s]):e[s]=t[s];return e},cloneArray(t){return t.slice(0)},degToRad(t){return t*m6},radToDeg(t){return t*g6},_degToRad(t){return j.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),j.degToRad(t)},_radToDeg(t){return j.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),j.radToDeg(t)},_getRotation(t){return ue.angleDeg?j.radToDeg(t):t},_capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw(t){throw new Error(Sc+t)},error(t){console.error(Sc+t)},warn(t){ue.showWarnings&&console.warn(y6+t)},each(t,e){for(const s in t)e(s,t[s])},_inRange(t,e,s){return e<=t&&t<s},_getProjectionToSegment(t,e,s,n,i,r){let o,a,l;const u=(t-s)*(t-s)+(e-n)*(e-n);if(u==0)o=t,a=e,l=(i-s)*(i-s)+(r-n)*(r-n);else{const d=((i-t)*(s-t)+(r-e)*(n-e))/u;d<0?(o=t,a=e,l=(t-i)*(t-i)+(e-r)*(e-r)):d>1?(o=s,a=n,l=(s-i)*(s-i)+(n-r)*(n-r)):(o=t+d*(s-t),a=e+d*(n-e),l=(o-i)*(o-i)+(a-r)*(a-r))}return[o,a,l]},_getProjectionToLine(t,e,s){const n=j.cloneObject(t);let i=Number.MAX_VALUE;return e.forEach(function(r,o){if(!s&&o===e.length-1)return;const a=e[(o+1)%e.length],l=j._getProjectionToSegment(r.x,r.y,a.x,a.y,t.x,t.y),u=l[0],d=l[1],h=l[2];h<i&&(n.x=u,n.y=d,i=h)}),n},_prepareArrayForTween(t,e,s){const n=[],i=[];if(t.length>e.length){const o=e;e=t,t=o}for(let o=0;o<t.length;o+=2)n.push({x:t[o],y:t[o+1]});for(let o=0;o<e.length;o+=2)i.push({x:e[o],y:e[o+1]});const r=[];return i.forEach(function(o){const a=j._getProjectionToLine(o,n,s);r.push(a.x),r.push(a.y)}),r},_prepareToStringify(t){let e;t.visitedByCircularReferenceRemoval=!0;for(const s in t)if(t.hasOwnProperty(s)&&t[s]&&typeof t[s]=="object"){if(e=Object.getOwnPropertyDescriptor(t,s),t[s].visitedByCircularReferenceRemoval||j._isElement(t[s]))if(e.configurable)delete t[s];else return null;else if(j._prepareToStringify(t[s])===null)if(e.configurable)delete t[s];else return null}return delete t.visitedByCircularReferenceRemoval,t},_assign(t,e){for(const s in e)t[s]=e[s];return t},_getFirstPointerId(t){return t.touches?t.changedTouches[0].identifier:t.pointerId||999},releaseCanvas(...t){ue.releaseCanvasOnDestroy&&t.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(t,e,s,n){let i=e<0?e:0,r=s<0?s:0;e=Math.abs(e),s=Math.abs(s);let o=0,a=0,l=0,u=0;typeof n=="number"?o=a=l=u=Math.min(n,e/2,s/2):(o=Math.min(n[0]||0,e/2,s/2),a=Math.min(n[1]||0,e/2,s/2),u=Math.min(n[2]||0,e/2,s/2),l=Math.min(n[3]||0,e/2,s/2)),t.moveTo(i+o,r),t.lineTo(i+e-a,r),t.arc(i+e-a,r+a,a,Math.PI*3/2,0,!1),t.lineTo(i+e,r+s-u),t.arc(i+e-u,r+s-u,u,0,Math.PI/2,!1),t.lineTo(i+l,r+s),t.arc(i+l,r+s-l,l,Math.PI/2,Math.PI,!1),t.lineTo(i,r+o),t.arc(i+o,r+o,o,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(t,e,s,n,i){n=Math.abs(n);for(let r=0;r<s;r++){const o=e[(r-1+s)%s],a=e[r],l=e[(r+1)%s],u={x:a.x-o.x,y:a.y-o.y},d={x:l.x-a.x,y:l.y-a.y},h=Math.hypot(u.x,u.y),f=Math.hypot(d.x,d.y);let m;typeof i=="number"?m=i:m=r<i.length?i[r]:0,m=n*Math.cos(Math.PI/s)*Math.min(1,m/n*2);const x={x:u.x/h,y:u.y/h},v={x:d.x/f,y:d.y/f},y={x:a.x-x.x*m,y:a.y-x.y*m},g={x:a.x+v.x*m,y:a.y+v.y*m};r===0?t.moveTo(y.x,y.y):t.lineTo(y.x,y.y),t.arcTo(a.x,a.y,g.x,g.y,m)}}};function C6(t){const e=[],s=t.length,n=j;for(let i=0;i<s;i++){let r=t[i];n._isNumber(r)?r=Math.round(r*1e3)/1e3:n._isString(r)||(r=r+""),e.push(r)}return e}const Ec=",",k6="(",S6=")",E6="([",A6="])",P6=";",T6="()",R6="=",Ac=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],M6=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],I6=100;let Wi=null;function Pc(){if(Wi!==null)return Wi;try{const e=j.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(Wi=!1,!1)}catch{return Wi=!1,!1}}class eo{constructor(e){this.canvas=e,ue.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,s){let n=this.traceArr,i=n.length,r="",o,a,l,u;for(o=0;o<i;o++)a=n[o],l=a.method,l?(u=a.args,r+=l,e?r+=T6:j._isArray(u[0])?r+=E6+u.join(Ec)+A6:(s&&(u=u.map(d=>typeof d=="number"?Math.floor(d):d)),r+=k6+u.join(Ec)+S6)):(r+=a.property,e||(r+=R6+a.val)),r+=P6;return r}clearTrace(){this.traceArr=[]}_trace(e){let s=this.traceArr,n;s.push(e),n=s.length,n>=I6&&s.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const s=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,s.getWidth()/s.pixelRatio,s.getHeight()/s.pixelRatio)}_applyLineCap(e){const s=e.attrs.lineCap;s&&this.setAttr("lineCap",s)}_applyOpacity(e){const s=e.getAbsoluteOpacity();s!==1&&this.setAttr("globalAlpha",s)}_applyLineJoin(e){const s=e.attrs.lineJoin;s&&this.setAttr("lineJoin",s)}_applyMiterLimit(e){const s=e.attrs.miterLimit;s!=null&&this.setAttr("miterLimit",s)}setAttr(e,s){this._context[e]=s}arc(e,s,n,i,r,o){this._context.arc(e,s,n,i,r,o)}arcTo(e,s,n,i,r){this._context.arcTo(e,s,n,i,r)}beginPath(){this._context.beginPath()}bezierCurveTo(e,s,n,i,r,o){this._context.bezierCurveTo(e,s,n,i,r,o)}clearRect(e,s,n,i){this._context.clearRect(e,s,n,i)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,s){const n=arguments;if(n.length===2)return this._context.createImageData(e,s);if(n.length===1)return this._context.createImageData(e)}createLinearGradient(e,s,n,i){return this._context.createLinearGradient(e,s,n,i)}createPattern(e,s){return this._context.createPattern(e,s)}createRadialGradient(e,s,n,i,r,o){return this._context.createRadialGradient(e,s,n,i,r,o)}drawImage(e,s,n,i,r,o,a,l,u){const d=arguments,h=this._context;d.length===3?h.drawImage(e,s,n):d.length===5?h.drawImage(e,s,n,i,r):d.length===9&&h.drawImage(e,s,n,i,r,o,a,l,u)}ellipse(e,s,n,i,r,o,a,l){this._context.ellipse(e,s,n,i,r,o,a,l)}isPointInPath(e,s,n,i){return n?this._context.isPointInPath(n,e,s,i):this._context.isPointInPath(e,s,i)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,s,n,i){this._context.fillRect(e,s,n,i)}strokeRect(e,s,n,i){this._context.strokeRect(e,s,n,i)}fillText(e,s,n,i){i?this._context.fillText(e,s,n,i):this._context.fillText(e,s,n)}measureText(e){return this._context.measureText(e)}getImageData(e,s,n,i){return this._context.getImageData(e,s,n,i)}lineTo(e,s){this._context.lineTo(e,s)}moveTo(e,s){this._context.moveTo(e,s)}rect(e,s,n,i){this._context.rect(e,s,n,i)}roundRect(e,s,n,i,r){this._context.roundRect(e,s,n,i,r)}putImageData(e,s,n){this._context.putImageData(e,s,n)}quadraticCurveTo(e,s,n,i){this._context.quadraticCurveTo(e,s,n,i)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,s){this._context.scale(e,s)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,s,n,i,r,o){this._context.setTransform(e,s,n,i,r,o)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,s,n,i){this._context.strokeText(e,s,n,i)}transform(e,s,n,i,r,o){this._context.transform(e,s,n,i,r,o)}translate(e,s){this._context.translate(e,s)}_enableTrace(){let e=this,s=Ac.length,n=this.setAttr,i,r;const o=function(a){let l=e[a],u;e[a]=function(){return r=C6(Array.prototype.slice.call(arguments,0)),u=l.apply(e,arguments),e._trace({method:a,args:r}),u}};for(i=0;i<s;i++)o(Ac[i]);e.setAttr=function(){n.apply(e,arguments);const a=arguments[0];let l=arguments[1];(a==="shadowOffsetX"||a==="shadowOffsetY"||a==="shadowBlur")&&(l=l/this.canvas.getPixelRatio()),e._trace({property:a,val:l})}}_applyGlobalCompositeOperation(e){const s=e.attrs.globalCompositeOperation;!s||s==="source-over"||this.setAttr("globalCompositeOperation",s)}}M6.forEach(function(t){Object.defineProperty(eo.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class O6 extends eo{constructor(e,{willReadFrequently:s=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:s})}_fillColor(e){const s=e.fill();this.setAttr("fillStyle",s),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const s=e._getLinearGradient();s&&(this.setAttr("fillStyle",s),e._fillFunc(this))}_fillRadialGradient(e){const s=e._getRadialGradient();s&&(this.setAttr("fillStyle",s),e._fillFunc(this))}_fill(e){const s=e.fill(),n=e.getFillPriority();if(s&&n==="color"){this._fillColor(e);return}const i=e.getFillPatternImage();if(i&&n==="pattern"){this._fillPattern(e);return}const r=e.getFillLinearGradientColorStops();if(r&&n==="linear-gradient"){this._fillLinearGradient(e);return}const o=e.getFillRadialGradientColorStops();if(o&&n==="radial-gradient"){this._fillRadialGradient(e);return}s?this._fillColor(e):i?this._fillPattern(e):r?this._fillLinearGradient(e):o&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const s=e.getStrokeLinearGradientStartPoint(),n=e.getStrokeLinearGradientEndPoint(),i=e.getStrokeLinearGradientColorStops(),r=this.createLinearGradient(s.x,s.y,n.x,n.y);if(i){for(let o=0;o<i.length;o+=2)r.addColorStop(i[o],i[o+1]);this.setAttr("strokeStyle",r)}}_stroke(e){const s=e.dash(),n=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!n){this.save();const r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e),s&&e.dashEnabled()&&(this.setLineDash(s),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),n||this.restore()}}_applyShadow(e){var s,n,i;const r=(s=e.getShadowRGBA())!==null&&s!==void 0?s:"black",o=(n=e.getShadowBlur())!==null&&n!==void 0?n:5,a=(i=e.getShadowOffset())!==null&&i!==void 0?i:{x:0,y:0},l=e.getAbsoluteScale(),u=this.canvas.getPixelRatio(),d=l.x*u,h=l.y*u;this.setAttr("shadowColor",r),this.setAttr("shadowBlur",o*Math.min(Math.abs(d),Math.abs(h))),this.setAttr("shadowOffsetX",a.x*d),this.setAttr("shadowOffsetY",a.y*h)}}class L6 extends eo{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const s=e.getStrokeScaleEnabled();if(!s){this.save();const r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(e);const n=e.hitStrokeWidth(),i=n==="auto"?e.strokeWidth():n;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),s||this.restore()}}}let qi;function $6(){if(qi)return qi;const t=j.createCanvasElement(),e=t.getContext("2d");return qi=function(){const s=ue._global.devicePixelRatio||1,n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return s/n}(),j.releaseCanvas(t),qi}class Ga{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const n=(e||{}).pixelRatio||ue.pixelRatio||$6();this.pixelRatio=n,this._canvas=j.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const s=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/s,this.getHeight()/s)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const s=this.pixelRatio;this.getContext()._context.scale(s,s)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const s=this.pixelRatio;this.getContext()._context.scale(s,s)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,s){this.setWidth(e||0),this.setHeight(s||0)}toDataURL(e,s){try{return this._canvas.toDataURL(e,s)}catch{try{return this._canvas.toDataURL()}catch(i){return j.error("Unable to get data URL. "+i.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}class Ds extends Ga{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new O6(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}function Tc(){const t=j.createCanvasElement();t.width=1,t.height=1;const e=t.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,1,1),e.fillStyle="rgba(255,0,255,1)",e.fillRect(0,0,1,1);const s=e.getImageData(0,0,1,1).data;return!(s[0]===255&&s[1]===0&&s[2]===255&&s[3]===255)}function Rc(){var t,e;return typeof navigator>"u"?!1:(e=(t=navigator.brave)===null||t===void 0?void 0:t.isBrave())!==null&&e!==void 0?e:!1}let Mc=!1;function D6(){return Rc()&&Tc()&&!Mc&&(Mc=!0,j.error('Looks like you have "Brave shield" enabled in your browser. It breaks KonvaJS internals. Please disable it. You may need to ask your users to do the same.')),Rc()&&Tc()}class za extends Ga{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new L6(this),this.setSize(e.width,e.height),D6()}}const $e={get isDragging(){let t=!1;return $e._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(t=!0)}),t},justDragged:!1,get node(){let t;return $e._dragElements.forEach(e=>{t=e.node}),t},_dragElements:new Map,_drag(t){const e=[];$e._dragElements.forEach((s,n)=>{const{node:i}=s,r=i.getStage();r.setPointersPositions(t),s.pointerId===void 0&&(s.pointerId=j._getFirstPointerId(t));const o=r._changedPointerPositions.find(a=>a.id===s.pointerId);if(o){if(s.dragStatus!=="dragging"){const a=i.dragDistance();if(Math.max(Math.abs(o.x-s.startPointerPos.x),Math.abs(o.y-s.startPointerPos.y))<a||(i.startDrag({evt:t}),!i.isDragging()))return}i._setDragPosition(t,s),e.push(i)}}),e.forEach(s=>{s.fire("dragmove",{type:"dragmove",target:s,evt:t},!0)})},_endDragBefore(t){const e=[];$e._dragElements.forEach(s=>{const{node:n}=s,i=n.getStage();if(t&&i.setPointersPositions(t),!i._changedPointerPositions.find(a=>a.id===s.pointerId))return;(s.dragStatus==="dragging"||s.dragStatus==="stopped")&&($e.justDragged=!0,ue._mouseListenClick=!1,ue._touchListenClick=!1,ue._pointerListenClick=!1,s.dragStatus="stopped");const o=s.node.getLayer()||s.node instanceof ue.Stage&&s.node;o&&e.indexOf(o)===-1&&e.push(o)}),e.forEach(s=>{s.draw()})},_endDragAfter(t){$e._dragElements.forEach((e,s)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),e.dragStatus!=="dragging"&&$e._dragElements.delete(s)})}};ue.isBrowser&&(window.addEventListener("mouseup",$e._endDragBefore,!0),window.addEventListener("touchend",$e._endDragBefore,!0),window.addEventListener("touchcancel",$e._endDragBefore,!0),window.addEventListener("mousemove",$e._drag),window.addEventListener("touchmove",$e._drag),window.addEventListener("mouseup",$e._endDragAfter,!1),window.addEventListener("touchend",$e._endDragAfter,!1),window.addEventListener("touchcancel",$e._endDragAfter,!1));function Hs(t){return j._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||j._isBoolean(t)?t:Object.prototype.toString.call(t)}function Ih(t){return t>255?255:t<0?0:Math.round(t)}function le(){if(ue.isUnminified)return function(t,e){return j._isNumber(t)||j.warn(Hs(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function to(t){if(ue.isUnminified)return function(e,s){let n=j._isNumber(e),i=j._isArray(e)&&e.length==t;return!n&&!i&&j.warn(Hs(e)+' is a not valid value for "'+s+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function Ha(){if(ue.isUnminified)return function(t,e){return j._isNumber(t)||t==="auto"||j.warn(Hs(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function hn(){if(ue.isUnminified)return function(t,e){return j._isString(t)||j.warn(Hs(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function Oh(){if(ue.isUnminified)return function(t,e){const s=j._isString(t),n=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return s||n||j.warn(Hs(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function N6(){if(ue.isUnminified)return function(t,e){const s=Int8Array?Object.getPrototypeOf(Int8Array):null;return s&&t instanceof s||(j._isArray(t)?t.forEach(function(n){j._isNumber(n)||j.warn('"'+e+'" attribute has non numeric element '+n+". Make sure that all elements are numbers.")}):j.warn(Hs(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function Yt(){if(ue.isUnminified)return function(t,e){return t===!0||t===!1||j.warn(Hs(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function B6(t){if(ue.isUnminified)return function(e,s){return e==null||j.isObject(e)||j.warn(Hs(e)+' is a not valid value for "'+s+'" attribute. The value should be an object with properties '+t),e}}const Xn="get",Yn="set",k={addGetterSetter(t,e,s,n,i){k.addGetter(t,e,s),k.addSetter(t,e,n,i),k.addOverloadedGetterSetter(t,e)},addGetter(t,e,s){const n=Xn+j._capitalize(e);t.prototype[n]=t.prototype[n]||function(){const i=this.attrs[e];return i===void 0?s:i}},addSetter(t,e,s,n){const i=Yn+j._capitalize(e);t.prototype[i]||k.overWriteSetter(t,e,s,n)},overWriteSetter(t,e,s,n){const i=Yn+j._capitalize(e);t.prototype[i]=function(r){return s&&r!==void 0&&r!==null&&(r=s.call(this,r,e)),this._setAttr(e,r),n&&n.call(this),this}},addComponentsGetterSetter(t,e,s,n,i){const r=s.length,o=j._capitalize,a=Xn+o(e),l=Yn+o(e);t.prototype[a]=function(){const d={};for(let h=0;h<r;h++){const f=s[h];d[f]=this.getAttr(e+o(f))}return d};const u=B6(s);t.prototype[l]=function(d){const h=this.attrs[e];n&&(d=n.call(this,d,e)),u&&u.call(this,d,e);for(const f in d)d.hasOwnProperty(f)&&this._setAttr(e+o(f),d[f]);return d||s.forEach(f=>{this._setAttr(e+o(f),void 0)}),this._fireChangeEvent(e,h,d),i&&i.call(this),this},k.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter(t,e){const s=j._capitalize(e),n=Yn+s,i=Xn+s;t.prototype[e]=function(){return arguments.length?(this[n](arguments[0]),this):this[i]()}},addDeprecatedGetterSetter(t,e,s,n){j.error("Adding deprecated "+e);const i=Xn+j._capitalize(e),r=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[i]=function(){j.error(r);const o=this.attrs[e];return o===void 0?s:o},k.addSetter(t,e,n,function(){j.error(r)}),k.addOverloadedGetterSetter(t,e)},backCompat(t,e){j.each(e,function(s,n){const i=t.prototype[n],r=Xn+j._capitalize(s),o=Yn+j._capitalize(s);function a(){i.apply(this,arguments),j.error('"'+s+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[s]=a,t.prototype[r]=a,t.prototype[o]=a})},afterSetFilter(){this._filterUpToDate=!1}};function j6(t){const e=/(\w+)\(([^)]+)\)/g;let s;for(;(s=e.exec(t))!==null;){const[,n,i]=s;switch(n){case"blur":{const r=parseFloat(i.replace("px",""));return function(o){this.blurRadius(r*.5);const a=ue.Filters;a&&a.Blur&&a.Blur.call(this,o)}}case"brightness":{const r=i.includes("%")?parseFloat(i)/100:parseFloat(i);return function(o){this.brightness(r);const a=ue.Filters;a&&a.Brightness&&a.Brightness.call(this,o)}}case"contrast":{const r=parseFloat(i);return function(o){const a=100*(Math.sqrt(r)-1);this.contrast(a);const l=ue.Filters;l&&l.Contrast&&l.Contrast.call(this,o)}}case"grayscale":return function(r){const o=ue.Filters;o&&o.Grayscale&&o.Grayscale.call(this,r)};case"sepia":return function(r){const o=ue.Filters;o&&o.Sepia&&o.Sepia.call(this,r)};case"invert":return function(r){const o=ue.Filters;o&&o.Invert&&o.Invert.call(this,r)};default:j.warn(`CSS filter "${n}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const hr="absoluteOpacity",Xi="allEventListeners",us="absoluteTransform",Ic="absoluteScale",Ks="canvas",F6="Change",G6="children",z6="konva",na="listening",H6="mouseenter",U6="mouseleave",V6="pointerenter",W6="pointerleave",q6="touchenter",X6="touchleave",Oc="set",Lc="Shape",fr=" ",$c="stage",Ms="transform",Y6="Stage",ia="visible",K6=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(fr);let J6=1;class ae{constructor(e){this._id=J6++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Ms||e===us)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,s){let n=this._cache.get(e);return(n===void 0||(e===Ms||e===us)&&n.dirty===!0)&&(n=s.call(this),this._cache.set(e,n)),n}_calculate(e,s,n){if(!this._attachedDepsListeners.get(e)){const i=s.map(r=>r+"Change.konva").join(fr);this.on(i,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,n)}_getCanvasCache(){return this._cache.get(Ks)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===us&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Ks)){const{scene:e,filter:s,hit:n,buffer:i}=this._cache.get(Ks);j.releaseCanvas(e,s,n,i),this._cache.delete(Ks)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const s=e||{};let n={};(s.x===void 0||s.y===void 0||s.width===void 0||s.height===void 0)&&(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let i=Math.ceil(s.width||n.width),r=Math.ceil(s.height||n.height),o=s.pixelRatio,a=s.x===void 0?Math.floor(n.x):s.x,l=s.y===void 0?Math.floor(n.y):s.y,u=s.offset||0,d=s.drawBorder||!1,h=s.hitCanvasPixelRatio||1;if(!i||!r){j.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const f=Math.abs(Math.round(n.x)-a)>.5?1:0,m=Math.abs(Math.round(n.y)-l)>.5?1:0;i+=u*2+f,r+=u*2+m,a-=u,l-=u;const p=new Ds({pixelRatio:o,width:i,height:r}),x=new Ds({pixelRatio:o,width:0,height:0,willReadFrequently:!0}),v=new za({pixelRatio:h,width:i,height:r}),y=p.getContext(),g=v.getContext(),b=new Ds({width:p.width/p.pixelRatio+Math.abs(a),height:p.height/p.pixelRatio+Math.abs(l),pixelRatio:p.pixelRatio}),_=b.getContext();return v.isCache=!0,p.isCache=!0,this._cache.delete(Ks),this._filterUpToDate=!1,s.imageSmoothingEnabled===!1&&(p.getContext()._context.imageSmoothingEnabled=!1,x.getContext()._context.imageSmoothingEnabled=!1),y.save(),g.save(),_.save(),y.translate(-a,-l),g.translate(-a,-l),_.translate(-a,-l),b.x=a,b.y=l,this._isUnderCache=!0,this._clearSelfAndDescendantCache(hr),this._clearSelfAndDescendantCache(Ic),this.drawScene(p,this,b),this.drawHit(v,this),this._isUnderCache=!1,y.restore(),g.restore(),d&&(y.save(),y.beginPath(),y.rect(0,0,i,r),y.closePath(),y.setAttr("strokeStyle","red"),y.setAttr("lineWidth",5),y.stroke(),y.restore()),this._cache.set(Ks,{scene:p,filter:x,hit:v,buffer:b,x:a,y:l}),this._requestDraw(),this}isCached(){return this._cache.has(Ks)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,s){const n=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let i=1/0,r=1/0,o=-1/0,a=-1/0;const l=this.getAbsoluteTransform(s);return n.forEach(function(u){const d=l.point(u);i===void 0&&(i=o=d.x,r=a=d.y),i=Math.min(i,d.x),r=Math.min(r,d.y),o=Math.max(o,d.x),a=Math.max(a,d.y)}),{x:i,y:r,width:o-i,height:a-r}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const s=this._getCanvasCache();e.translate(s.x,s.y);const n=this._getCachedSceneCanvas(),i=n.pixelRatio;e.drawImage(n._canvas,0,0,n.width/i,n.height/i),e.restore()}_drawCachedHitCanvas(e){const s=this._getCanvasCache(),n=s.hit;e.save(),e.translate(s.x,s.y),e.drawImage(n._canvas,0,0,n.width/n.pixelRatio,n.height/n.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),s=this._getCanvasCache(),n=s.scene,i=s.filter,r=i.getContext(),o,a,l,u;if(!e||e.length===0)return n;if(this._filterUpToDate)return i;let d=!0;for(let f=0;f<e.length;f++)if(typeof e[f]=="string"&&Pc(),typeof e[f]!="string"||!Pc()){d=!1;break}const h=n.pixelRatio;if(i.setSize(n.width/n.pixelRatio,n.height/n.pixelRatio),d){const f=e.join(" ");return r.save(),r.setAttr("filter",f),r.drawImage(n._canvas,0,0,n.getWidth()/h,n.getHeight()/h),r.restore(),this._filterUpToDate=!0,i}try{for(o=e.length,r.clear(),r.drawImage(n._canvas,0,0,n.getWidth()/h,n.getHeight()/h),a=r.getImageData(0,0,i.getWidth(),i.getHeight()),l=0;l<o;l++)u=e[l],typeof u=="string"&&(u=j6(u)),u.call(this,a),r.putImageData(a,0,0)}catch(f){j.error("Unable to apply filter. "+f.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,i}on(e,s){if(this._cache&&this._cache.delete(Xi),arguments.length===3)return this._delegate.apply(this,arguments);const n=e.split(fr);for(let i=0;i<n.length;i++){const o=n[i].split("."),a=o[0],l=o[1]||"";this.eventListeners[a]||(this.eventListeners[a]=[]),this.eventListeners[a].push({name:l,handler:s})}return this}off(e,s){let n=(e||"").split(fr),i=n.length,r,o,a,l,u,d;if(this._cache&&this._cache.delete(Xi),!e)for(o in this.eventListeners)this._off(o);for(r=0;r<i;r++)if(a=n[r],l=a.split("."),u=l[0],d=l[1],u)this.eventListeners[u]&&this._off(u,d,s);else for(o in this.eventListeners)this._off(o,d,s);return this}dispatchEvent(e){const s={target:this,type:e.type,evt:e};return this.fire(e.type,s),this}addEventListener(e,s){return this.on(e,function(n){s.call(this,n.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,s,n){const i=this;this.on(e,function(r){const o=r.target.findAncestors(s,!0,i);for(let a=0;a<o.length;a++)r=j.cloneObject(r),r.currentTarget=o[a],n.call(o[a],r)})}remove(){return this.isDragging()&&this.stopDrag(),$e._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(us),this._clearSelfAndDescendantCache(hr),this._clearSelfAndDescendantCache(Ic),this._clearSelfAndDescendantCache($c),this._clearSelfAndDescendantCache(ia),this._clearSelfAndDescendantCache(na)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const s="get"+j._capitalize(e);return j._isFunction(this[s])?this[s]():this.attrs[e]}getAncestors(){let e=this.getParent(),s=[];for(;e;)s.push(e),e=e.getParent();return s}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let s,n;if(!e)return this;for(s in e)s!==G6&&(n=Oc+j._capitalize(s),j._isFunction(this[n])?this[n](e[s]):this._setAttr(s,e[s]))}),this}isListening(){return this._getCache(na,this._isListening)}_isListening(e){if(!this.listening())return!1;const n=this.getParent();return n&&n!==e&&this!==e?n._isListening(e):!0}isVisible(){return this._getCache(ia,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const n=this.getParent();return n&&n!==e&&this!==e?n._isVisible(e):!0}shouldDrawHit(e,s=!1){if(e)return this._isVisible(e)&&this._isListening(e);const n=this.getLayer();let i=!1;$e._dragElements.forEach(o=>{o.dragStatus==="dragging"&&(o.node.nodeType==="Stage"||o.node.getLayer()===n)&&(i=!0)});const r=!s&&!ue.hitOnDragEnabled&&(i||ue.isTransforming());return this.isListening()&&this.isVisible()&&!r}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),s=this,n=0,i,r,o,a;function l(d){for(i=[],r=d.length,o=0;o<r;o++)a=d[o],n++,a.nodeType!==Lc&&(i=i.concat(a.getChildren().slice())),a._id===s._id&&(o=r);i.length>0&&i[0].getDepth()<=e&&l(i)}const u=this.getStage();return s.nodeType!==Y6&&u&&l(u.getChildren()),n}getDepth(){let e=0,s=this.parent;for(;s;)e++,s=s.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Ms),this._clearSelfAndDescendantCache(us)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const s=e.getPointerPosition();if(!s)return null;const n=this.getAbsoluteTransform().copy();return n.invert(),n.point(s)}getAbsolutePosition(e){let s=!1,n=this.parent;for(;n;){if(n.isCached()){s=!0;break}n=n.parent}s&&!e&&(e=!0);const i=this.getAbsoluteTransform(e).getMatrix(),r=new Mt,o=this.offset();return r.m=i.slice(),r.translate(o.x,o.y),r.getTranslation()}setAbsolutePosition(e){const{x:s,y:n,...i}=this._clearTransform();this.attrs.x=s,this.attrs.y=n,this._clearCache(Ms);const r=this._getAbsoluteTransform().copy();return r.invert(),r.translate(e.x,e.y),e={x:this.attrs.x+r.getTranslation().x,y:this.attrs.y+r.getTranslation().y},this._setTransform(i),this.setPosition({x:e.x,y:e.y}),this._clearCache(Ms),this._clearSelfAndDescendantCache(us),this}_setTransform(e){let s;for(s in e)this.attrs[s]=e[s]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let s=e.x,n=e.y,i=this.x(),r=this.y();return s!==void 0&&(i+=s),n!==void 0&&(r+=n),this.setPosition({x:i,y:r}),this}_eachAncestorReverse(e,s){let n=[],i=this.getParent(),r,o;if(!(s&&s._id===this._id)){for(n.unshift(this);i&&(!s||i._id!==s._id);)n.unshift(i),i=i.parent;for(r=n.length,o=0;o<r;o++)e(n[o])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return j.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,s=this.parent.getChildren().length;return e<s-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return j.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,s=this.parent.getChildren().length;return e<s-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return j.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return j.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return j.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&j.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const s=this.index;return this.parent.children.splice(s,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(hr,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const s=this.getParent();return s&&!s._isUnderCache&&(e*=s.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),s,n,i,r,o;const a={attrs:{},className:this.getClassName()};for(s in e)n=e[s],o=j.isObject(n)&&!j._isPlainObject(n)&&!j._isArray(n),!o&&(i=typeof this[s]=="function"&&this[s],delete e[s],r=i?i.call(this):null,e[s]=n,r!==n&&(a.attrs[s]=n));return j._prepareToStringify(a)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,s,n){const i=[];s&&this._isMatch(e)&&i.push(this);let r=this.parent;for(;r;){if(r===n)return i;r._isMatch(e)&&i.push(r),r=r.parent}return i}isAncestorOf(e){return!1}findAncestor(e,s,n){return this.findAncestors(e,s,n)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let s=e.replace(/ /g,"").split(","),n=s.length,i,r;for(i=0;i<n;i++)if(r=s[i],j.isValidSelector(r)||(j.warn('Selector "'+r+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),j.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),j.warn("Konva is awesome, right?")),r.charAt(0)==="#"){if(this.id()===r.slice(1))return!0}else if(r.charAt(0)==="."){if(this.hasName(r.slice(1)))return!0}else if(this.className===r||this.nodeType===r)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache($c,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,s={},n){return s.target=s.target||this,n?this._fireAndBubble(e,s):this._fire(e,s),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(us,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let s;if(e)return s=new Mt,this._eachAncestorReverse(function(n){const i=n.transformsEnabled();i==="all"?s.multiply(n.getTransform()):i==="position"&&s.translate(n.x()-n.offsetX(),n.y()-n.offsetY())},e),s;{s=this._cache.get(us)||new Mt,this.parent?this.parent.getAbsoluteTransform().copyInto(s):s.reset();const n=this.transformsEnabled();if(n==="all")s.multiply(this.getTransform());else if(n==="position"){const i=this.attrs.x||0,r=this.attrs.y||0,o=this.attrs.offsetX||0,a=this.attrs.offsetY||0;s.translate(i-o,r-a)}return s.dirty=!1,s}}getAbsoluteScale(e){let s=this;for(;s;)s._isUnderCache&&(e=s),s=s.getParent();const i=this.getAbsoluteTransform(e).decompose();return{x:i.scaleX,y:i.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Ms,this._getTransform)}_getTransform(){var e,s;const n=this._cache.get(Ms)||new Mt;n.reset();const i=this.x(),r=this.y(),o=ue.getAngle(this.rotation()),a=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,l=(s=this.attrs.scaleY)!==null&&s!==void 0?s:1,u=this.attrs.skewX||0,d=this.attrs.skewY||0,h=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return(i!==0||r!==0)&&n.translate(i,r),o!==0&&n.rotate(o),(u!==0||d!==0)&&n.skew(u,d),(a!==1||l!==1)&&n.scale(a,l),(h!==0||f!==0)&&n.translate(-1*h,-1*f),n.dirty=!1,n}clone(e){let s=j.cloneObject(this.attrs),n,i,r,o,a;for(n in e)s[n]=e[n];const l=new this.constructor(s);for(n in this.eventListeners)for(i=this.eventListeners[n],r=i.length,o=0;o<r;o++)a=i[o],a.name.indexOf(z6)<0&&(l.eventListeners[n]||(l.eventListeners[n]=[]),l.eventListeners[n].push(a));return l}_toKonvaCanvas(e){e=e||{};const s=this.getClientRect(),n=this.getStage(),i=e.x!==void 0?e.x:Math.floor(s.x),r=e.y!==void 0?e.y:Math.floor(s.y),o=e.pixelRatio||1,a=new Ds({width:e.width||Math.ceil(s.width)||(n?n.width():0),height:e.height||Math.ceil(s.height)||(n?n.height():0),pixelRatio:o}),l=a.getContext(),u=new Ds({width:a.width/a.pixelRatio+Math.abs(i),height:a.height/a.pixelRatio+Math.abs(r),pixelRatio:a.pixelRatio});return e.imageSmoothingEnabled===!1&&(l._context.imageSmoothingEnabled=!1),l.save(),(i||r)&&l.translate(-1*i,-1*r),this.drawScene(a,void 0,u),l.restore(),a}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const s=e.mimeType||null,n=e.quality||null,i=this._toKonvaCanvas(e).toDataURL(s,n);return e.callback&&e.callback(i),i}toImage(e){return new Promise((s,n)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,j._urlToImage(this.toDataURL(e),function(r){s(r),i==null||i(r)})}catch(i){n(i)}})}toBlob(e){return new Promise((s,n)=>{try{const i=e==null?void 0:e.callback;i&&delete e.callback,this.toCanvas(e).toBlob(r=>{s(r),i==null||i(r)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(i){n(i)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():ue.dragDistance}_off(e,s,n){let i=this.eventListeners[e],r,o,a;for(r=0;r<i.length;r++)if(o=i[r].name,a=i[r].handler,(o!=="konva"||s==="konva")&&(!s||o===s)&&(!n||n===a)){if(i.splice(r,1),i.length===0){delete this.eventListeners[e];break}r--}}_fireChangeEvent(e,s,n){this._fire(e+F6,{oldVal:s,newVal:n})}addName(e){if(!this.hasName(e)){const s=this.name(),n=s?s+" "+e:e;this.name(n)}return this}hasName(e){if(!e)return!1;const s=this.name();return s?(s||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const s=(this.name()||"").split(/\s/g),n=s.indexOf(e);return n!==-1&&(s.splice(n,1),this.name(s.join(" "))),this}setAttr(e,s){const n=this[Oc+j._capitalize(e)];return j._isFunction(n)?n.call(this,s):this._setAttr(e,s),this}_requestDraw(){if(ue.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,s){const n=this.attrs[e];n===s&&!j.isObject(s)||(s==null?delete this.attrs[e]:this.attrs[e]=s,this._shouldFireChangeEvents&&this._fireChangeEvent(e,n,s),this._requestDraw())}_setComponentAttr(e,s,n){let i;n!==void 0&&(i=this.attrs[e],i||(this.attrs[e]=this.getAttr(e)),this.attrs[e][s]=n,this._fireChangeEvent(e,i,n))}_fireAndBubble(e,s,n){s&&this.nodeType===Lc&&(s.target=this);const i=[H6,U6,V6,W6,q6,X6];if(!(i.indexOf(e)!==-1&&(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||this.nodeType==="Stage"&&!n))){this._fire(e,s);const o=i.indexOf(e)!==-1&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(s&&!s.cancelBubble||!s)&&this.parent&&this.parent.isListening()&&!o&&(n&&n.parent?this._fireAndBubble.call(this.parent,e,s,n):this._fireAndBubble.call(this.parent,e,s))}}_getProtoListeners(e){var s,n,i;const r=(s=this._cache.get(Xi))!==null&&s!==void 0?s:{};let o=r==null?void 0:r[e];if(o===void 0){o=[];let a=Object.getPrototypeOf(this);for(;a;){const l=(i=(n=a.eventListeners)===null||n===void 0?void 0:n[e])!==null&&i!==void 0?i:[];o.push(...l),a=Object.getPrototypeOf(a)}r[e]=o,this._cache.set(Xi,r)}return o}_fire(e,s){s=s||{},s.currentTarget=this,s.type=e;const n=this._getProtoListeners(e);if(n)for(let r=0;r<n.length;r++)n[r].handler.call(this,s);const i=this.eventListeners[e];if(i)for(let r=0;r<i.length;r++)i[r].handler.call(this,s)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const s=e?e.pointerId:void 0,n=this.getStage(),i=this.getAbsolutePosition();if(!n)return;const r=n._getPointerById(s)||n._changedPointerPositions[0]||i;$e._dragElements.set(this._id,{node:this,startPointerPos:r,offset:{x:r.x-i.x,y:r.y-i.y},dragStatus:"ready",pointerId:s})}startDrag(e,s=!0){$e._dragElements.has(this._id)||this._createDragElement(e);const n=$e._dragElements.get(this._id);n.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},s)}_setDragPosition(e,s){const n=this.getStage()._getPointerById(s.pointerId);if(!n)return;let i={x:n.x-s.offset.x,y:n.y-s.offset.y};const r=this.dragBoundFunc();if(r!==void 0){const o=r.call(this,i,e);o?i=o:j.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==i.x||this._lastPos.y!==i.y)&&(this.setAbsolutePosition(i),this._requestDraw()),this._lastPos=i}stopDrag(e){const s=$e._dragElements.get(this._id);s&&(s.dragStatus="stopped"),$e._endDragBefore(e),$e._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=$e._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||ue.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let i=!1;$e._dragElements.forEach(r=>{this.isAncestorOf(r.node)&&(i=!0)}),i||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const s=$e._dragElements.get(this._id),n=s&&s.dragStatus==="dragging",i=s&&s.dragStatus==="ready";n?this.stopDrag():i&&$e._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const s=this.getStage();if(!s)return!1;const n={x:-e.x,y:-e.y,width:s.width()+2*e.x,height:s.height()+2*e.y};return j.haveIntersection(n,this.getClientRect())}static create(e,s){return j._isString(e)&&(e=JSON.parse(e)),this._createNode(e,s)}static _createNode(e,s){let n=ae.prototype.getClassName.call(e),i=e.children,r,o,a;s&&(e.attrs.container=s),ue[n]||(j.warn('Can not find a node with class name "'+n+'". Fallback to "Shape".'),n="Shape");const l=ue[n];if(r=new l(e.attrs),i)for(o=i.length,a=0;a<o;a++)r.add(ae._createNode(i[a]));return r}}ae.prototype.nodeType="Node";ae.prototype._attrsAffectingSize=[];ae.prototype.eventListeners={};ae.prototype.on.call(ae.prototype,K6,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Ms),this._clearSelfAndDescendantCache(us)});ae.prototype.on.call(ae.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(ia)});ae.prototype.on.call(ae.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(na)});ae.prototype.on.call(ae.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(hr)});const Ue=k.addGetterSetter;Ue(ae,"zIndex");Ue(ae,"absolutePosition");Ue(ae,"position");Ue(ae,"x",0,le());Ue(ae,"y",0,le());Ue(ae,"globalCompositeOperation","source-over",hn());Ue(ae,"opacity",1,le());Ue(ae,"name","",hn());Ue(ae,"id","",hn());Ue(ae,"rotation",0,le());k.addComponentsGetterSetter(ae,"scale",["x","y"]);Ue(ae,"scaleX",1,le());Ue(ae,"scaleY",1,le());k.addComponentsGetterSetter(ae,"skew",["x","y"]);Ue(ae,"skewX",0,le());Ue(ae,"skewY",0,le());k.addComponentsGetterSetter(ae,"offset",["x","y"]);Ue(ae,"offsetX",0,le());Ue(ae,"offsetY",0,le());Ue(ae,"dragDistance",void 0,le());Ue(ae,"width",0,le());Ue(ae,"height",0,le());Ue(ae,"listening",!0,Yt());Ue(ae,"preventDefault",!0,Yt());Ue(ae,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Ue(ae,"visible",!0,Yt());Ue(ae,"transformsEnabled","all",hn());Ue(ae,"size");Ue(ae,"dragBoundFunc");Ue(ae,"draggable",!1,Yt());k.backCompat(ae,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Lt extends ae{constructor(){super(...arguments),this.children=[]}getChildren(e){const s=this.children||[];return e?s.filter(e):s}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let n=0;n<e.length;n++)this.add(e[n]);return this}const s=e[0];return s.getParent()?(s.moveTo(this),this):(this._validateAdd(s),s.index=this.getChildren().length,s.parent=this,s._clearCaches(),this.getChildren().push(s),this._fire("add",{child:s}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const s=this._generalFind(e,!0);return s.length>0?s[0]:void 0}_generalFind(e,s){const n=[];return this._descendants(i=>{const r=i._isMatch(e);return r&&n.push(i),!!(r&&s)}),n}_descendants(e){let s=!1;const n=this.getChildren();for(const i of n){if(s=e(i),s)return!0;if(i.hasChildren()&&(s=i._descendants(e),s))return!0}return!1}toObject(){const e=ae.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(s=>{e.children.push(s.toObject())}),e}isAncestorOf(e){let s=e.getParent();for(;s;){if(s._id===this._id)return!0;s=s.getParent()}return!1}clone(e){const s=ae.prototype.clone.call(this,e);return this.getChildren().forEach(function(n){s.add(n.clone())}),s}getAllIntersections(e){const s=[];return this.find("Shape").forEach(n=>{n.isVisible()&&n.intersects(e)&&s.push(n)}),s}_clearSelfAndDescendantCache(e){var s;super._clearSelfAndDescendantCache(e),!this.isCached()&&((s=this.children)===null||s===void 0||s.forEach(function(n){n._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(s,n){s.index=n}),this._requestDraw()}drawScene(e,s,n){const i=this.getLayer(),r=e||i&&i.getCanvas(),o=r&&r.getContext(),a=this._getCanvasCache(),l=a&&a.scene,u=r&&r.isCache;if(!this.isVisible()&&!u)return this;if(l){o.save();const d=this.getAbsoluteTransform(s).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedSceneCanvas(o),o.restore()}else this._drawChildren("drawScene",r,s,n);return this}drawHit(e,s){if(!this.shouldDrawHit(s))return this;const n=this.getLayer(),i=e||n&&n.hitCanvas,r=i&&i.getContext(),o=this._getCanvasCache();if(o&&o.hit){r.save();const l=this.getAbsoluteTransform(s).getMatrix();r.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedHitCanvas(r),r.restore()}else this._drawChildren("drawHit",i,s);return this}_drawChildren(e,s,n,i){var r;const o=s&&s.getContext(),a=this.clipWidth(),l=this.clipHeight(),u=this.clipFunc(),d=typeof a=="number"&&typeof l=="number"||u,h=n===this;if(d){o.save();const m=this.getAbsoluteTransform(n);let p=m.getMatrix();o.transform(p[0],p[1],p[2],p[3],p[4],p[5]),o.beginPath();let x;if(u)x=u.call(this,o,this);else{const v=this.clipX(),y=this.clipY();o.rect(v||0,y||0,a,l)}o.clip.apply(o,x),p=m.copy().invert().getMatrix(),o.transform(p[0],p[1],p[2],p[3],p[4],p[5])}const f=!h&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";f&&(o.save(),o._applyGlobalCompositeOperation(this)),(r=this.children)===null||r===void 0||r.forEach(function(m){m[e](s,n,i)}),f&&o.restore(),d&&o.restore()}getClientRect(e={}){var s;const n=e.skipTransform,i=e.relativeTo;let r,o,a,l,u={x:1/0,y:1/0,width:0,height:0};const d=this;(s=this.children)===null||s===void 0||s.forEach(function(m){if(!m.visible())return;const p=m.getClientRect({relativeTo:d,skipShadow:e.skipShadow,skipStroke:e.skipStroke});p.width===0&&p.height===0||(r===void 0?(r=p.x,o=p.y,a=p.x+p.width,l=p.y+p.height):(r=Math.min(r,p.x),o=Math.min(o,p.y),a=Math.max(a,p.x+p.width),l=Math.max(l,p.y+p.height)))});const h=this.find("Shape");let f=!1;for(let m=0;m<h.length;m++)if(h[m]._isVisible(this)){f=!0;break}return f&&r!==void 0?u={x:r,y:o,width:a-r,height:l-o}:u={x:0,y:0,width:0,height:0},n?u:this._transformedRect(u,i)}}k.addComponentsGetterSetter(Lt,"clip",["x","y","width","height"]);k.addGetterSetter(Lt,"clipX",void 0,le());k.addGetterSetter(Lt,"clipY",void 0,le());k.addGetterSetter(Lt,"clipWidth",void 0,le());k.addGetterSetter(Lt,"clipHeight",void 0,le());k.addGetterSetter(Lt,"clipFunc");const Ai=new Map,Lh=ue._global.PointerEvent!==void 0;function Ao(t){return Ai.get(t)}function Ua(t){return{evt:t,pointerId:t.pointerId}}function $h(t,e){return Ai.get(t)===e}function Dh(t,e){fi(t),e.getStage()&&(Ai.set(t,e),Lh&&e._fire("gotpointercapture",Ua(new PointerEvent("gotpointercapture"))))}function fi(t,e){const s=Ai.get(t);if(!s)return;const n=s.getStage();n&&n.content,Ai.delete(t),Lh&&s._fire("lostpointercapture",Ua(new PointerEvent("lostpointercapture")))}const Z6="Stage",Q6="string",Dc="px",e8="mouseout",Nh="mouseleave",Bh="mouseover",jh="mouseenter",Fh="mousemove",Gh="mousedown",zh="mouseup",Qn="pointermove",ei="pointerdown",kn="pointerup",ti="pointercancel",t8="lostpointercapture",Yi="pointerout",si="pointerleave",Ki="pointerover",Ji="pointerenter",ra="contextmenu",Hh="touchstart",Uh="touchend",Vh="touchmove",Wh="touchcancel",oa="wheel",s8=5,n8=[[jh,"_pointerenter"],[Gh,"_pointerdown"],[Fh,"_pointermove"],[zh,"_pointerup"],[Nh,"_pointerleave"],[Hh,"_pointerdown"],[Vh,"_pointermove"],[Uh,"_pointerup"],[Wh,"_pointercancel"],[Bh,"_pointerover"],[oa,"_wheel"],[ra,"_contextmenu"],[ei,"_pointerdown"],[Qn,"_pointermove"],[kn,"_pointerup"],[ti,"_pointercancel"],[si,"_pointerleave"],[t8,"_lostpointercapture"]],Po={mouse:{[Yi]:e8,[si]:Nh,[Ki]:Bh,[Ji]:jh,[Qn]:Fh,[ei]:Gh,[kn]:zh,[ti]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[Yi]:"touchout",[si]:"touchleave",[Ki]:"touchover",[Ji]:"touchenter",[Qn]:Vh,[ei]:Hh,[kn]:Uh,[ti]:Wh,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[Yi]:Yi,[si]:si,[Ki]:Ki,[Ji]:Ji,[Qn]:Qn,[ei]:ei,[kn]:kn,[ti]:ti,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},ni=t=>t.indexOf("pointer")>=0?"pointer":t.indexOf("touch")>=0?"touch":"mouse",yn=t=>{const e=ni(t);if(e==="pointer")return ue.pointerEventsEnabled&&Po.pointer;if(e==="touch")return Po.touch;if(e==="mouse")return Po.mouse};function Nc(t={}){return(t.clipFunc||t.clipWidth||t.clipHeight)&&j.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}const i8="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",pi=[];class so extends Lt{constructor(e){super(Nc(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),pi.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Nc(this.attrs)}),this._checkVisibility()}_validateAdd(e){const s=e.getType()==="Layer",n=e.getType()==="FastLayer";s||n||j.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===Q6){let s;if(e.charAt(0)==="."){const n=e.slice(1);e=document.getElementsByClassName(n)[0]}else e.charAt(0)!=="#"?s=e:s=e.slice(1),e=document.getElementById(s);if(!e)throw"Can not find container in document with id "+s}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,s=e.length;for(let n=0;n<s;n++)e[n].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Lt.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&j._isInDocument(e)&&this.container().removeChild(e);const s=pi.indexOf(this);return s>-1&&pi.splice(s,1),j.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(j.warn(i8),null)}_getPointerById(e){return this._pointerPositions.find(s=>s.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const s=new Ds({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),n=s.getContext()._context,i=this.children;return(e.x||e.y)&&n.translate(-1*e.x,-1*e.y),i.forEach(function(r){if(!r.isVisible())return;const o=r._toKonvaCanvas(e);n.drawImage(o._canvas,e.x,e.y,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}),s}getIntersection(e){if(!e)return null;const s=this.children,n=s.length,i=n-1;for(let r=i;r>=0;r--){const o=s[r].getIntersection(e);if(o)return o}return null}_resizeDOM(){const e=this.width(),s=this.height();this.content&&(this.content.style.width=e+Dc,this.content.style.height=s+Dc),this.bufferCanvas.setSize(e,s),this.bufferHitCanvas.setSize(e,s),this.children.forEach(n=>{n.setSize({width:e,height:s}),n.draw()})}add(e,...s){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}super.add(e);const n=this.children.length;return n>s8&&j.warn("The stage has "+n+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),ue.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return $h(e,this)}setPointerCapture(e){Dh(e,this)}releaseCapture(e){fi(e)}getLayers(){return this.children}_bindContentEvents(){ue.isBrowser&&n8.forEach(([e,s])=>{this.content.addEventListener(e,n=>{this[s](n)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const s=yn(e.type);s&&this._fire(s.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const s=yn(e.type);s&&this._fire(s.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let s=this[e+"targetShape"];return s&&!s.getStage()&&(s=null),s}_pointerleave(e){const s=yn(e.type),n=ni(e.type);if(!s)return;this.setPointersPositions(e);const i=this._getTargetShape(n),r=!(ue.isDragging()||ue.isTransforming())||ue.hitOnDragEnabled;i&&r?(i._fireAndBubble(s.pointerout,{evt:e}),i._fireAndBubble(s.pointerleave,{evt:e}),this._fire(s.pointerleave,{evt:e,target:this,currentTarget:this}),this[n+"targetShape"]=null):r&&(this._fire(s.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(s.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const s=yn(e.type),n=ni(e.type);if(!s)return;this.setPointersPositions(e);let i=!1;this._changedPointerPositions.forEach(r=>{const o=this.getIntersection(r);if($e.justDragged=!1,ue["_"+n+"ListenClick"]=!0,!o||!o.isListening()){this[n+"ClickStartShape"]=void 0;return}ue.capturePointerEventsEnabled&&o.setPointerCapture(r.id),this[n+"ClickStartShape"]=o,o._fireAndBubble(s.pointerdown,{evt:e,pointerId:r.id}),i=!0;const a=e.type.indexOf("touch")>=0;o.preventDefault()&&e.cancelable&&a&&e.preventDefault()}),i||this._fire(s.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const s=yn(e.type),n=ni(e.type);if(!s)return;const i=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(ue.isDragging()&&$e.node.preventDefault()&&e.cancelable&&i&&e.preventDefault(),this.setPointersPositions(e),!(!(ue.isDragging()||ue.isTransforming())||ue.hitOnDragEnabled))return;const o={};let a=!1;const l=this._getTargetShape(n);this._changedPointerPositions.forEach(u=>{const d=Ao(u.id)||this.getIntersection(u),h=u.id,f={evt:e,pointerId:h},m=l!==d;if(m&&l&&(l._fireAndBubble(s.pointerout,{...f},d),l._fireAndBubble(s.pointerleave,{...f},d)),d){if(o[d._id])return;o[d._id]=!0}d&&d.isListening()?(a=!0,m&&(d._fireAndBubble(s.pointerover,{...f},l),d._fireAndBubble(s.pointerenter,{...f},l),this[n+"targetShape"]=d),d._fireAndBubble(s.pointermove,{...f})):l&&(this._fire(s.pointerover,{evt:e,target:this,currentTarget:this,pointerId:h}),this[n+"targetShape"]=null)}),a||this._fire(s.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const s=yn(e.type),n=ni(e.type);if(!s)return;this.setPointersPositions(e);const i=this[n+"ClickStartShape"],r=this[n+"ClickEndShape"],o={};let a=!1;this._changedPointerPositions.forEach(l=>{const u=Ao(l.id)||this.getIntersection(l);if(u){if(u.releaseCapture(l.id),o[u._id])return;o[u._id]=!0}const d=l.id,h={evt:e,pointerId:d};let f=!1;ue["_"+n+"InDblClickWindow"]?(f=!0,clearTimeout(this[n+"DblTimeout"])):$e.justDragged||(ue["_"+n+"InDblClickWindow"]=!0,clearTimeout(this[n+"DblTimeout"])),this[n+"DblTimeout"]=setTimeout(function(){ue["_"+n+"InDblClickWindow"]=!1},ue.dblClickWindow),u&&u.isListening()?(a=!0,this[n+"ClickEndShape"]=u,u._fireAndBubble(s.pointerup,{...h}),ue["_"+n+"ListenClick"]&&i&&i===u&&(u._fireAndBubble(s.pointerclick,{...h}),f&&r&&r===u&&u._fireAndBubble(s.pointerdblclick,{...h}))):(this[n+"ClickEndShape"]=null,a||(this._fire(s.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),a=!0),ue["_"+n+"ListenClick"]&&this._fire(s.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:d}),f&&this._fire(s.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:d}))}),a||this._fire(s.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),ue["_"+n+"ListenClick"]=!1,e.cancelable&&n!=="touch"&&n!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const s=this.getIntersection(this.getPointerPosition());s&&s.isListening()?s._fireAndBubble(ra,{evt:e}):this._fire(ra,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const s=this.getIntersection(this.getPointerPosition());s&&s.isListening()?s._fireAndBubble(oa,{evt:e}):this._fire(oa,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const s=Ao(e.pointerId)||this.getIntersection(this.getPointerPosition());s&&s._fireAndBubble(kn,Ua(e)),fi(e.pointerId)}_lostpointercapture(e){fi(e.pointerId)}setPointersPositions(e){const s=this._getContentPosition();let n=null,i=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,r=>{this._pointerPositions.push({id:r.identifier,x:(r.clientX-s.left)/s.scaleX,y:(r.clientY-s.top)/s.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,r=>{this._changedPointerPositions.push({id:r.identifier,x:(r.clientX-s.left)/s.scaleX,y:(r.clientY-s.top)/s.scaleY})})):(n=(e.clientX-s.left)/s.scaleX,i=(e.clientY-s.top)/s.scaleY,this.pointerPos={x:n,y:i},this._pointerPositions=[{x:n,y:i,id:j._getFirstPointerId(e)}],this._changedPointerPositions=[{x:n,y:i,id:j._getFirstPointerId(e)}])}_setPointerPosition(e){j.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new Ds({width:this.width(),height:this.height()}),this.bufferHitCanvas=new za({pixelRatio:1,width:this.width(),height:this.height()}),!ue.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return j.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}}so.prototype.nodeType=Z6;et(so);k.addGetterSetter(so,"container");ue.isBrowser&&document.addEventListener("visibilitychange",()=>{pi.forEach(t=>{t.batchDraw()})});const qh="hasShadow",Xh="shadowRGBA",Yh="patternImage",Kh="linearGradient",Jh="radialGradient";let Zi;function To(){return Zi||(Zi=j.createCanvasElement().getContext("2d"),Zi)}const mi={};function r8(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function o8(t){t.stroke()}function a8(t){const e=this.attrs.fillRule;e?t.fill(e):t.fill()}function l8(t){t.stroke()}function c8(){this._clearCache(qh)}function d8(){this._clearCache(Xh)}function u8(){this._clearCache(Yh)}function h8(){this._clearCache(Kh)}function f8(){this._clearCache(Jh)}class te extends ae{constructor(e){super(e);let s;for(;s=j.getRandomColor(),!(s&&!(s in mi)););this.colorKey=s,mi[s]=this}getContext(){return j.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return j.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(qh,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Yh,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const s=To().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(s&&s.setTransform){const n=new Mt;n.translate(this.fillPatternX(),this.fillPatternY()),n.rotate(ue.getAngle(this.fillPatternRotation())),n.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),n.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const i=n.getMatrix(),r=typeof DOMMatrix>"u"?{a:i[0],b:i[1],c:i[2],d:i[3],e:i[4],f:i[5]}:new DOMMatrix(i);s.setTransform(r)}return s}}_getLinearGradient(){return this._getCache(Kh,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const s=To(),n=this.fillLinearGradientStartPoint(),i=this.fillLinearGradientEndPoint(),r=s.createLinearGradient(n.x,n.y,i.x,i.y);for(let o=0;o<e.length;o+=2)r.addColorStop(e[o],e[o+1]);return r}}_getRadialGradient(){return this._getCache(Jh,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const s=To(),n=this.fillRadialGradientStartPoint(),i=this.fillRadialGradientEndPoint(),r=s.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),i.x,i.y,this.fillRadialGradientEndRadius());for(let o=0;o<e.length;o+=2)r.addColorStop(e[o],e[o+1]);return r}}getShadowRGBA(){return this._getCache(Xh,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=j.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const s=this.getStage();if(!s)return!1;const n=s.bufferHitCanvas;return n.getContext().clear(),this.drawHit(n,void 0,!0),n.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return ae.prototype.destroy.call(this),delete mi[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var s;if(!((s=this.attrs.perfectDrawEnabled)!==null&&s!==void 0?s:!0))return!1;const i=e||this.hasFill(),r=this.hasStroke(),o=this.getAbsoluteOpacity()!==1;if(i&&r&&o)return!0;const a=this.hasShadow(),l=this.shadowForStrokeEnabled();return!!(i&&r&&a&&l)}setStrokeHitEnabled(e){j.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let s=!1,n=this.getParent();for(;n;){if(n.isCached()){s=!0;break}n=n.getParent()}const i=e.skipTransform,r=e.relativeTo||s&&this.getStage()||void 0,o=this.getSelfRect(),l=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,u=o.width+l,d=o.height+l,h=!e.skipShadow&&this.hasShadow(),f=h?this.shadowOffsetX():0,m=h?this.shadowOffsetY():0,p=u+Math.abs(f),x=d+Math.abs(m),v=h&&this.shadowBlur()||0,y=p+v*2,g=x+v*2,b={width:y,height:g,x:-(l/2+v)+Math.min(f,0)+o.x,y:-(l/2+v)+Math.min(m,0)+o.y};return i?b:this._transformedRect(b,r)}drawScene(e,s,n){const i=this.getLayer(),r=e||i.getCanvas(),o=r.getContext(),a=this._getCanvasCache(),l=this.getSceneFunc(),u=this.hasShadow();let d;const h=s===this;if(!this.isVisible()&&!h)return this;if(a){o.save();const f=this.getAbsoluteTransform(s).getMatrix();return o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(o),o.restore(),this}if(!l)return this;if(o.save(),this._useBufferCanvas()){d=this.getStage();const f=n||d.bufferCanvas,m=f.getContext();m.clear(),m.save(),m._applyLineJoin(this),m._applyMiterLimit(this);const p=this.getAbsoluteTransform(s).getMatrix();m.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,m,this),m.restore();const x=f.pixelRatio;u&&o._applyShadow(this),h||(o._applyOpacity(this),o._applyGlobalCompositeOperation(this)),o.drawImage(f._canvas,f.x||0,f.y||0,f.width/x,f.height/x)}else{if(o._applyLineJoin(this),o._applyMiterLimit(this),!h){const f=this.getAbsoluteTransform(s).getMatrix();o.transform(f[0],f[1],f[2],f[3],f[4],f[5]),o._applyOpacity(this),o._applyGlobalCompositeOperation(this)}u&&o._applyShadow(this),l.call(this,o,this)}return o.restore(),this}drawHit(e,s,n=!1){if(!this.shouldDrawHit(s,n))return this;const i=this.getLayer(),r=e||i.hitCanvas,o=r&&r.getContext(),a=this.hitFunc()||this.sceneFunc(),l=this._getCanvasCache(),u=l&&l.hit;if(this.colorKey||j.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),u){o.save();const h=this.getAbsoluteTransform(s).getMatrix();return o.transform(h[0],h[1],h[2],h[3],h[4],h[5]),this._drawCachedHitCanvas(o),o.restore(),this}if(!a)return this;if(o.save(),o._applyLineJoin(this),o._applyMiterLimit(this),!(this===s)){const h=this.getAbsoluteTransform(s).getMatrix();o.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,o,this),o.restore(),this}drawHitFromCache(e=0){const s=this._getCanvasCache(),n=this._getCachedSceneCanvas(),i=s.hit,r=i.getContext(),o=i.getWidth(),a=i.getHeight();r.clear(),r.drawImage(n._canvas,0,0,o,a);try{const l=r.getImageData(0,0,o,a),u=l.data,d=u.length,h=j._hexToRgb(this.colorKey);for(let f=0;f<d;f+=4)u[f+3]>e?(u[f]=h.r,u[f+1]=h.g,u[f+2]=h.b,u[f+3]=255):u[f+3]=0;r.putImageData(l,0,0)}catch(l){j.error("Unable to draw hit graph from cached scene canvas. "+l.message)}return this}hasPointerCapture(e){return $h(e,this)}setPointerCapture(e){Dh(e,this)}releaseCapture(e){fi(e)}}te.prototype._fillFunc=r8;te.prototype._strokeFunc=o8;te.prototype._fillFuncHit=a8;te.prototype._strokeFuncHit=l8;te.prototype._centroid=!1;te.prototype.nodeType="Shape";et(te);te.prototype.eventListeners={};te.prototype.on.call(te.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",c8);te.prototype.on.call(te.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",d8);te.prototype.on.call(te.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",u8);te.prototype.on.call(te.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",h8);te.prototype.on.call(te.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",f8);k.addGetterSetter(te,"stroke",void 0,Oh());k.addGetterSetter(te,"strokeWidth",2,le());k.addGetterSetter(te,"fillAfterStrokeEnabled",!1);k.addGetterSetter(te,"hitStrokeWidth","auto",Ha());k.addGetterSetter(te,"strokeHitEnabled",!0,Yt());k.addGetterSetter(te,"perfectDrawEnabled",!0,Yt());k.addGetterSetter(te,"shadowForStrokeEnabled",!0,Yt());k.addGetterSetter(te,"lineJoin");k.addGetterSetter(te,"lineCap");k.addGetterSetter(te,"miterLimit");k.addGetterSetter(te,"sceneFunc");k.addGetterSetter(te,"hitFunc");k.addGetterSetter(te,"dash");k.addGetterSetter(te,"dashOffset",0,le());k.addGetterSetter(te,"shadowColor",void 0,hn());k.addGetterSetter(te,"shadowBlur",0,le());k.addGetterSetter(te,"shadowOpacity",1,le());k.addComponentsGetterSetter(te,"shadowOffset",["x","y"]);k.addGetterSetter(te,"shadowOffsetX",0,le());k.addGetterSetter(te,"shadowOffsetY",0,le());k.addGetterSetter(te,"fillPatternImage");k.addGetterSetter(te,"fill",void 0,Oh());k.addGetterSetter(te,"fillPatternX",0,le());k.addGetterSetter(te,"fillPatternY",0,le());k.addGetterSetter(te,"fillLinearGradientColorStops");k.addGetterSetter(te,"strokeLinearGradientColorStops");k.addGetterSetter(te,"fillRadialGradientStartRadius",0);k.addGetterSetter(te,"fillRadialGradientEndRadius",0);k.addGetterSetter(te,"fillRadialGradientColorStops");k.addGetterSetter(te,"fillPatternRepeat","repeat");k.addGetterSetter(te,"fillEnabled",!0);k.addGetterSetter(te,"strokeEnabled",!0);k.addGetterSetter(te,"shadowEnabled",!0);k.addGetterSetter(te,"dashEnabled",!0);k.addGetterSetter(te,"strokeScaleEnabled",!0);k.addGetterSetter(te,"fillPriority","color");k.addComponentsGetterSetter(te,"fillPatternOffset",["x","y"]);k.addGetterSetter(te,"fillPatternOffsetX",0,le());k.addGetterSetter(te,"fillPatternOffsetY",0,le());k.addComponentsGetterSetter(te,"fillPatternScale",["x","y"]);k.addGetterSetter(te,"fillPatternScaleX",1,le());k.addGetterSetter(te,"fillPatternScaleY",1,le());k.addComponentsGetterSetter(te,"fillLinearGradientStartPoint",["x","y"]);k.addComponentsGetterSetter(te,"strokeLinearGradientStartPoint",["x","y"]);k.addGetterSetter(te,"fillLinearGradientStartPointX",0);k.addGetterSetter(te,"strokeLinearGradientStartPointX",0);k.addGetterSetter(te,"fillLinearGradientStartPointY",0);k.addGetterSetter(te,"strokeLinearGradientStartPointY",0);k.addComponentsGetterSetter(te,"fillLinearGradientEndPoint",["x","y"]);k.addComponentsGetterSetter(te,"strokeLinearGradientEndPoint",["x","y"]);k.addGetterSetter(te,"fillLinearGradientEndPointX",0);k.addGetterSetter(te,"strokeLinearGradientEndPointX",0);k.addGetterSetter(te,"fillLinearGradientEndPointY",0);k.addGetterSetter(te,"strokeLinearGradientEndPointY",0);k.addComponentsGetterSetter(te,"fillRadialGradientStartPoint",["x","y"]);k.addGetterSetter(te,"fillRadialGradientStartPointX",0);k.addGetterSetter(te,"fillRadialGradientStartPointY",0);k.addComponentsGetterSetter(te,"fillRadialGradientEndPoint",["x","y"]);k.addGetterSetter(te,"fillRadialGradientEndPointX",0);k.addGetterSetter(te,"fillRadialGradientEndPointY",0);k.addGetterSetter(te,"fillPatternRotation",0);k.addGetterSetter(te,"fillRule",void 0,hn());k.backCompat(te,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const p8="#",m8="beforeDraw",g8="draw",Zh=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],b8=Zh.length;class fn extends Lt{constructor(e){super(e),this.canvas=new Ds,this.hitCanvas=new za({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const s=this.getStage();return s&&s.content&&(s.content.removeChild(this.getNativeCanvasElement()),e<s.children.length-1?s.content.insertBefore(this.getNativeCanvasElement(),s.children[e+1].getCanvas()._canvas):s.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){ae.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!ae.prototype.moveUp.call(this))return!1;const s=this.getStage();return!s||!s.content?!1:(s.content.removeChild(this.getNativeCanvasElement()),this.index<s.children.length-1?s.content.insertBefore(this.getNativeCanvasElement(),s.children[this.index+1].getCanvas()._canvas):s.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(ae.prototype.moveDown.call(this)){const e=this.getStage();if(e){const s=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),s[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(ae.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const s=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),s[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return ae.prototype.remove.call(this),e&&e.parentNode&&j._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:s}){return this.canvas.setSize(e,s),this.hitCanvas.setSize(e,s),this._setSmoothEnabled(),this}_validateAdd(e){const s=e.getType();s!=="Group"&&s!=="Shape"&&j.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),ae.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){j.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){j.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,j.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let s=1,n=!1;for(;;){for(let i=0;i<b8;i++){const r=Zh[i],o=this._getIntersection({x:e.x+r.x*s,y:e.y+r.y*s}),a=o.shape;if(a)return a;if(n=!!o.antialiased,!o.antialiased)break}if(n)s+=1;else return null}}_getIntersection(e){const s=this.hitCanvas.pixelRatio,n=this.hitCanvas.context.getImageData(Math.round(e.x*s),Math.round(e.y*s),1,1).data,i=n[3];if(i===255){const r=j._rgbToHex(n[0],n[1],n[2]),o=mi[p8+r];return o?{shape:o}:{antialiased:!0}}else if(i>0)return{antialiased:!0};return{}}drawScene(e,s,n){const i=this.getLayer(),r=e||i&&i.getCanvas();return this._fire(m8,{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),Lt.prototype.drawScene.call(this,r,s,n),this._fire(g8,{node:this}),this}drawHit(e,s){const n=this.getLayer(),i=e||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),Lt.prototype.drawHit.call(this,i,s),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){j.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return j.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return j.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}}fn.prototype.nodeType="Layer";et(fn);k.addGetterSetter(fn,"imageSmoothingEnabled",!0);k.addGetterSetter(fn,"clearBeforeDraw",!0);k.addGetterSetter(fn,"hitGraphEnabled",!0,Yt());class Va extends fn{constructor(e){super(e),this.listening(!1),j.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Va.prototype.nodeType="FastLayer";et(Va);class $n extends Lt{_validateAdd(e){const s=e.getType();s!=="Group"&&s!=="Shape"&&j.throw("You may only add groups and shapes to groups.")}}$n.prototype.nodeType="Group";et($n);const Ro=function(){return nn.performance&&nn.performance.now?function(){return nn.performance.now()}:function(){return new Date().getTime()}}();class Nt{constructor(e,s){this.id=Nt.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Ro(),frameRate:0},this.func=e,this.setLayers(s)}setLayers(e){let s=[];return e&&(s=Array.isArray(e)?e:[e]),this.layers=s,this}getLayers(){return this.layers}addLayer(e){const s=this.layers,n=s.length;for(let i=0;i<n;i++)if(s[i]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const s=Nt.animations,n=s.length;for(let i=0;i<n;i++)if(s[i].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Ro(),Nt._addAnimation(this),this}stop(){return Nt._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const s=e.id,n=this.animations,i=n.length;for(let r=0;r<i;r++)if(n[r].id===s){this.animations.splice(r,1);break}}static _runFrames(){const e={},s=this.animations;for(let n=0;n<s.length;n++){const i=s[n],r=i.layers,o=i.func;i._updateFrameObject(Ro());const a=r.length;let l;if(o?l=o.call(i,i.frame)!==!1:l=!0,!!l)for(let u=0;u<a;u++){const d=r[u];d._id!==void 0&&(e[d._id]=d)}}for(const n in e)e.hasOwnProperty(n)&&e[n].batchDraw()}static _animationLoop(){const e=Nt;e.animations.length?(e._runFrames(),j.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,j.requestAnimFrame(this._animationLoop))}}Nt.animations=[];Nt.animIdCounter=0;Nt.animRunning=!1;const v8={node:1,duration:1,easing:1,onFinish:1,yoyo:1},y8=1,Bc=2,jc=3,Fc=["fill","stroke","shadowColor"];let x8=0;class _8{constructor(e,s,n,i,r,o,a){this.prop=e,this.propFunc=s,this.begin=i,this._pos=i,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=r-this.begin,this.pause()}fire(e){const s=this[e];s&&s()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=Bc,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=jc,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===Bc?this.setTime(e):this.state===jc&&this.setTime(this.duration-e)}pause(){this.state=y8,this.fire("onPause")}getTimer(){return new Date().getTime()}}class We{constructor(e){const s=this,n=e.node,i=n._id,r=e.easing||gi.Linear,o=!!e.yoyo;let a,l;typeof e.duration>"u"?a=.3:e.duration===0?a=.001:a=e.duration,this.node=n,this._id=x8++;const u=n.getLayer()||(n instanceof ue.Stage?n.getLayers():null);u||j.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new Nt(function(){s.tween.onEnterFrame()},u),this.tween=new _8(l,function(d){s._tweenFunc(d)},r,0,1,a*1e3,o),this._addListeners(),We.attrs[i]||(We.attrs[i]={}),We.attrs[i][this._id]||(We.attrs[i][this._id]={}),We.tweens[i]||(We.tweens[i]={});for(l in e)v8[l]===void 0&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,s){const n=this.node,i=n._id;let r,o,a,l,u;const d=We.tweens[i][e];d&&delete We.attrs[i][d][e];let h=n.getAttr(e);if(j._isArray(s))if(r=[],o=Math.max(s.length,h.length),e==="points"&&s.length!==h.length&&(s.length>h.length?(l=h,h=j._prepareArrayForTween(h,s,n.closed())):(a=s,s=j._prepareArrayForTween(s,h,n.closed()))),e.indexOf("fill")===0)for(let f=0;f<o;f++)if(f%2===0)r.push(s[f]-h[f]);else{const m=j.colorToRGBA(h[f]);u=j.colorToRGBA(s[f]),h[f]=m,r.push({r:u.r-m.r,g:u.g-m.g,b:u.b-m.b,a:u.a-m.a})}else for(let f=0;f<o;f++)r.push(s[f]-h[f]);else Fc.indexOf(e)!==-1?(h=j.colorToRGBA(h),u=j.colorToRGBA(s),r={r:u.r-h.r,g:u.g-h.g,b:u.b-h.b,a:u.a-h.a}):r=s-h;We.attrs[i][this._id][e]={start:h,diff:r,end:s,trueEnd:a,trueStart:l},We.tweens[i][e]=this._id}_tweenFunc(e){const s=this.node,n=We.attrs[s._id][this._id];let i,r,o,a,l,u,d,h;for(i in n){if(r=n[i],o=r.start,a=r.diff,h=r.end,j._isArray(o))if(l=[],d=Math.max(o.length,h.length),i.indexOf("fill")===0)for(u=0;u<d;u++)u%2===0?l.push((o[u]||0)+a[u]*e):l.push("rgba("+Math.round(o[u].r+a[u].r*e)+","+Math.round(o[u].g+a[u].g*e)+","+Math.round(o[u].b+a[u].b*e)+","+(o[u].a+a[u].a*e)+")");else for(u=0;u<d;u++)l.push((o[u]||0)+a[u]*e);else Fc.indexOf(i)!==-1?l="rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":l=o+a*e;s.setAttr(i,l)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,s=We.attrs[e._id][this._id];s.points&&s.points.trueEnd&&e.setAttr("points",s.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,s=We.attrs[e._id][this._id];s.points&&s.points.trueStart&&e.points(s.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,s=this._id,n=We.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const i in n)delete We.tweens[e][i];delete We.attrs[e][s],We.tweens[e]&&(Object.keys(We.tweens[e]).length===0&&delete We.tweens[e],Object.keys(We.attrs[e]).length===0&&delete We.attrs[e])}}We.attrs={};We.tweens={};ae.prototype.to=function(t){const e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new We(t).play()};const gi={BackEaseIn(t,e,s,n){return s*(t/=n)*t*((1.70158+1)*t-1.70158)+e},BackEaseOut(t,e,s,n){return s*((t=t/n-1)*t*((1.70158+1)*t+1.70158)+1)+e},BackEaseInOut(t,e,s,n){let i=1.70158;return(t/=n/2)<1?s/2*(t*t*(((i*=1.525)+1)*t-i))+e:s/2*((t-=2)*t*(((i*=1.525)+1)*t+i)+2)+e},ElasticEaseIn(t,e,s,n,i,r){let o=0;return t===0?e:(t/=n)===1?e+s:(r||(r=n*.3),!i||i<Math.abs(s)?(i=s,o=r/4):o=r/(2*Math.PI)*Math.asin(s/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r))+e)},ElasticEaseOut(t,e,s,n,i,r){let o=0;return t===0?e:(t/=n)===1?e+s:(r||(r=n*.3),!i||i<Math.abs(s)?(i=s,o=r/4):o=r/(2*Math.PI)*Math.asin(s/i),i*Math.pow(2,-10*t)*Math.sin((t*n-o)*(2*Math.PI)/r)+s+e)},ElasticEaseInOut(t,e,s,n,i,r){let o=0;return t===0?e:(t/=n/2)===2?e+s:(r||(r=n*(.3*1.5)),!i||i<Math.abs(s)?(i=s,o=r/4):o=r/(2*Math.PI)*Math.asin(s/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r))+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*n-o)*(2*Math.PI)/r)*.5+s+e)},BounceEaseOut(t,e,s,n){return(t/=n)<1/2.75?s*(7.5625*t*t)+e:t<2/2.75?s*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?s*(7.5625*(t-=2.25/2.75)*t+.9375)+e:s*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn(t,e,s,n){return s-gi.BounceEaseOut(n-t,0,s,n)+e},BounceEaseInOut(t,e,s,n){return t<n/2?gi.BounceEaseIn(t*2,0,s,n)*.5+e:gi.BounceEaseOut(t*2-n,0,s,n)*.5+s*.5+e},EaseIn(t,e,s,n){return s*(t/=n)*t+e},EaseOut(t,e,s,n){return-s*(t/=n)*(t-2)+e},EaseInOut(t,e,s,n){return(t/=n/2)<1?s/2*t*t+e:-s/2*(--t*(t-2)-1)+e},StrongEaseIn(t,e,s,n){return s*(t/=n)*t*t*t*t+e},StrongEaseOut(t,e,s,n){return s*((t=t/n-1)*t*t*t*t+1)+e},StrongEaseInOut(t,e,s,n){return(t/=n/2)<1?s/2*t*t*t*t*t+e:s/2*((t-=2)*t*t*t*t+2)+e},Linear(t,e,s,n){return s*t/n+e}},Gc=j._assign(ue,{Util:j,Transform:Mt,Node:ae,Container:Lt,Stage:so,stages:pi,Layer:fn,FastLayer:Va,Group:$n,DD:$e,Shape:te,shapes:mi,Animation:Nt,Tween:We,Easings:gi,Context:eo,Canvas:Ga});class Cs extends te{_sceneFunc(e){const s=ue.getAngle(this.angle()),n=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,s,n),e.arc(0,0,this.innerRadius(),s,0,!n),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),s=this.outerRadius(),n=this.clockwise(),i=ue.getAngle(n?360-this.angle():this.angle()),r=Math.cos(Math.min(i,Math.PI)),o=1,a=Math.sin(Math.min(Math.max(Math.PI,i),3*Math.PI/2)),l=Math.sin(Math.min(i,Math.PI/2)),u=r*(r>0?e:s),d=o*s,h=a*(a>0?e:s),f=l*(l>0?s:e);return{x:u,y:n?-1*f:h,width:d-u,height:f-h}}}Cs.prototype._centroid=!0;Cs.prototype.className="Arc";Cs.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];et(Cs);k.addGetterSetter(Cs,"innerRadius",0,le());k.addGetterSetter(Cs,"outerRadius",0,le());k.addGetterSetter(Cs,"angle",0,le());k.addGetterSetter(Cs,"clockwise",!1,Yt());function aa(t,e,s,n,i,r,o){const a=Math.sqrt(Math.pow(s-t,2)+Math.pow(n-e,2)),l=Math.sqrt(Math.pow(i-s,2)+Math.pow(r-n,2)),u=o*a/(a+l),d=o*l/(a+l),h=s-u*(i-t),f=n-u*(r-e),m=s+d*(i-t),p=n+d*(r-e);return[h,f,m,p]}function zc(t,e){const s=t.length,n=[];for(let i=2;i<s-2;i+=2){const r=aa(t[i-2],t[i-1],t[i],t[i+1],t[i+2],t[i+3],e);isNaN(r[0])||(n.push(r[0]),n.push(r[1]),n.push(t[i]),n.push(t[i+1]),n.push(r[2]),n.push(r[3]))}return n}class ks extends te{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const s=this.points(),n=s.length,i=this.tension(),r=this.closed(),o=this.bezier();if(!n)return;let a=0;if(e.beginPath(),e.moveTo(s[0],s[1]),i!==0&&n>4){const l=this.getTensionPoints(),u=l.length;for(a=r?0:4,r||e.quadraticCurveTo(l[0],l[1],l[2],l[3]);a<u-2;)e.bezierCurveTo(l[a++],l[a++],l[a++],l[a++],l[a++],l[a++]);r||e.quadraticCurveTo(l[u-2],l[u-1],s[n-2],s[n-1])}else if(o)for(a=2;a<n;)e.bezierCurveTo(s[a++],s[a++],s[a++],s[a++],s[a++],s[a++]);else for(a=2;a<n;a+=2)e.lineTo(s[a],s[a+1]);r?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():zc(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),s=e.length,n=this.tension(),i=aa(e[s-2],e[s-1],e[0],e[1],e[2],e[3],n),r=aa(e[s-4],e[s-3],e[s-2],e[s-1],e[0],e[1],n),o=zc(e,n);return[i[2],i[3]].concat(o).concat([r[0],r[1],e[s-2],e[s-1],r[2],r[3],i[0],i[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let s=e[0],n=e[0],i=e[1],r=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],s=Math.min(s,o),n=Math.max(n,o),i=Math.min(i,a),r=Math.max(r,a);return{x:s,y:i,width:n-s,height:r-i}}}ks.prototype.className="Line";ks.prototype._attrsAffectingSize=["points","bezier","tension"];et(ks);k.addGetterSetter(ks,"closed",!1);k.addGetterSetter(ks,"bezier",!1);k.addGetterSetter(ks,"tension",0,le());k.addGetterSetter(ks,"points",[],N6());const w8=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],C8=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],k8=[[1],[1,1],[1,2,1],[1,3,3,1]],Hc=(t,e,s)=>{let n,i;const o=s/2;n=0;for(let a=0;a<20;a++)i=o*w8[20][a]+o,n+=C8[20][a]*S8(t,e,i);return o*n},Uc=(t,e,s)=>{s===void 0&&(s=1);const n=t[0]-2*t[1]+t[2],i=e[0]-2*e[1]+e[2],r=2*t[1]-2*t[0],o=2*e[1]-2*e[0],a=4*(n*n+i*i),l=4*(n*r+i*o),u=r*r+o*o;if(a===0)return s*Math.sqrt(Math.pow(t[2]-t[0],2)+Math.pow(e[2]-e[0],2));const d=l/(2*a),h=u/a,f=s+d,m=h-d*d,p=f*f+m>0?Math.sqrt(f*f+m):0,x=d*d+m>0?Math.sqrt(d*d+m):0,v=d+Math.sqrt(d*d+m)!==0?m*Math.log(Math.abs((f+p)/(d+x))):0;return Math.sqrt(a)/2*(f*p-d*x+v)};function S8(t,e,s){const n=la(1,s,t),i=la(1,s,e),r=n*n+i*i;return Math.sqrt(r)}const la=(t,e,s)=>{const n=s.length-1;let i,r;if(n===0)return 0;if(t===0){r=0;for(let o=0;o<=n;o++)r+=k8[n][o]*Math.pow(1-e,n-o)*Math.pow(e,o)*s[o];return r}else{i=new Array(n);for(let o=0;o<n;o++)i[o]=n*(s[o+1]-s[o]);return la(t-1,e,i)}},Vc=(t,e,s)=>{let n=1,i=t/e,r=(t-s(i))/e,o=0;for(;n>.001;){const a=s(i+r),l=Math.abs(t-a)/e;if(l<n)n=l,i+=r;else{const u=s(i-r),d=Math.abs(t-u)/e;d<n?(n=d,i-=r):r/=2}if(o++,o>500)break}return i};class Xe extends te{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Xe.parsePathData(this.data()),this.pathLength=Xe.getPathLength(this.dataArray)}_sceneFunc(e){const s=this.dataArray;e.beginPath();let n=!1;for(let i=0;i<s.length;i++){const r=s[i].command,o=s[i].points;switch(r){case"L":e.lineTo(o[0],o[1]);break;case"M":e.moveTo(o[0],o[1]);break;case"C":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":e.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":const a=o[0],l=o[1],u=o[2],d=o[3],h=o[4],f=o[5],m=o[6],p=o[7],x=u>d?u:d,v=u>d?1:u/d,y=u>d?d/u:1;e.translate(a,l),e.rotate(m),e.scale(v,y),e.arc(0,0,x,h,h+f,1-p),e.scale(1/v,1/y),e.rotate(-m),e.translate(-a,-l);break;case"z":n=!0,e.closePath();break}}!n&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(l){if(l.command==="A"){const u=l.points[4],d=l.points[5],h=l.points[4]+d;let f=Math.PI/180;if(Math.abs(u-h)<f&&(f=Math.abs(u-h)),d<0)for(let m=u-f;m>h;m-=f){const p=Xe.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],m,0);e.push(p.x,p.y)}else for(let m=u+f;m<h;m+=f){const p=Xe.getPointOnEllipticalArc(l.points[0],l.points[1],l.points[2],l.points[3],m,0);e.push(p.x,p.y)}}else if(l.command==="C")for(let u=0;u<=1;u+=.01){const d=Xe.getPointOnCubicBezier(u,l.start.x,l.start.y,l.points[0],l.points[1],l.points[2],l.points[3],l.points[4],l.points[5]);e.push(d.x,d.y)}else e=e.concat(l.points)});let s=e[0],n=e[0],i=e[1],r=e[1],o,a;for(let l=0;l<e.length/2;l++)o=e[l*2],a=e[l*2+1],isNaN(o)||(s=Math.min(s,o),n=Math.max(n,o)),isNaN(a)||(i=Math.min(i,a),r=Math.max(r,a));return{x:s,y:i,width:n-s,height:r-i}}getLength(){return this.pathLength}getPointAtLength(e){return Xe.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,s,n,i){return Math.sqrt((n-e)*(n-e)+(i-s)*(i-s))}static getPathLength(e){let s=0;for(let n=0;n<e.length;++n)s+=e[n].pathLength;return s}static getPointAtLengthOfDataArray(e,s){let n,i=0,r=s.length;if(!r)return null;for(;i<r&&e>s[i].pathLength;)e-=s[i].pathLength,++i;if(i===r)return n=s[i-1].points.slice(-2),{x:n[0],y:n[1]};if(e<.01)return s[i].command==="M"?(n=s[i].points.slice(0,2),{x:n[0],y:n[1]}):{x:s[i].start.x,y:s[i].start.y};const o=s[i],a=o.points;switch(o.command){case"L":return Xe.getPointOnLine(e,o.start.x,o.start.y,a[0],a[1]);case"C":return Xe.getPointOnCubicBezier(Vc(e,Xe.getPathLength(s),x=>Hc([o.start.x,a[0],a[2],a[4]],[o.start.y,a[1],a[3],a[5]],x)),o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return Xe.getPointOnQuadraticBezier(Vc(e,Xe.getPathLength(s),x=>Uc([o.start.x,a[0],a[2]],[o.start.y,a[1],a[3]],x)),o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":const l=a[0],u=a[1],d=a[2],h=a[3],f=a[5],m=a[6];let p=a[4];return p+=f*e/o.pathLength,Xe.getPointOnEllipticalArc(l,u,d,h,p,m)}return null}static getPointOnLine(e,s,n,i,r,o,a){o=o??s,a=a??n;const l=this.getLineLength(s,n,i,r);if(l<1e-10)return{x:s,y:n};if(i===s)return{x:o,y:a+(r>n?e:-e)};const u=(r-n)/(i-s),d=Math.sqrt(e*e/(1+u*u))*(i<s?-1:1),h=u*d;if(Math.abs(a-n-u*(o-s))<1e-10)return{x:o+d,y:a+h};const f=((o-s)*(i-s)+(a-n)*(r-n))/(l*l),m=s+f*(i-s),p=n+f*(r-n),x=this.getLineLength(o,a,m,p),v=Math.sqrt(e*e-x*x),y=Math.sqrt(v*v/(1+u*u))*(i<s?-1:1),g=u*y;return{x:m+y,y:p+g}}static getPointOnCubicBezier(e,s,n,i,r,o,a,l,u){function d(v){return v*v*v}function h(v){return 3*v*v*(1-v)}function f(v){return 3*v*(1-v)*(1-v)}function m(v){return(1-v)*(1-v)*(1-v)}const p=l*d(e)+o*h(e)+i*f(e)+s*m(e),x=u*d(e)+a*h(e)+r*f(e)+n*m(e);return{x:p,y:x}}static getPointOnQuadraticBezier(e,s,n,i,r,o,a){function l(m){return m*m}function u(m){return 2*m*(1-m)}function d(m){return(1-m)*(1-m)}const h=o*l(e)+i*u(e)+s*d(e),f=a*l(e)+r*u(e)+n*d(e);return{x:h,y:f}}static getPointOnEllipticalArc(e,s,n,i,r,o){const a=Math.cos(o),l=Math.sin(o),u={x:n*Math.cos(r),y:i*Math.sin(r)};return{x:e+(u.x*a-u.y*l),y:s+(u.x*l+u.y*a)}}static parsePathData(e){if(!e)return[];let s=e;const n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];s=s.replace(new RegExp(" ","g"),",");for(let h=0;h<n.length;h++)s=s.replace(new RegExp(n[h],"g"),"|"+n[h]);const i=s.split("|"),r=[],o=[];let a=0,l=0;const u=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let d;for(let h=1;h<i.length;h++){let f=i[h],m=f.charAt(0);for(f=f.slice(1),o.length=0;d=u.exec(f);)o.push(d[0]);let p=[],x=m==="A"||m==="a"?0:-1;for(let v=0,y=o.length;v<y;v++){const g=o[v];if(g==="00"){p.push(0,0),x>=0&&(x+=2,x>=7&&(x-=7));continue}if(x>=0){if(x===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(g)){p.push(parseInt(g[0],10)),p.push(parseInt(g[1],10)),p.push(parseFloat(g.slice(2))),x+=3,x>=7&&(x-=7);continue}if(g==="11"||g==="10"||g==="01"){p.push(parseInt(g[0],10)),p.push(parseInt(g[1],10)),x+=2,x>=7&&(x-=7);continue}if(g==="0"||g==="1"){p.push(parseInt(g,10)),x+=1,x>=7&&(x-=7);continue}}else if(x===4){if(/^[01]\d+(?:\.\d+)?$/.test(g)){p.push(parseInt(g[0],10)),p.push(parseFloat(g.slice(1))),x+=2,x>=7&&(x-=7);continue}if(g==="0"||g==="1"){p.push(parseInt(g,10)),x+=1,x>=7&&(x-=7);continue}}const b=parseFloat(g);isNaN(b)?p.push(0):p.push(b),x+=1,x>=7&&(x-=7)}else{const b=parseFloat(g);isNaN(b)?p.push(0):p.push(b)}}for(;p.length>0&&!isNaN(p[0]);){let v="",y=[];const g=a,b=l;let _,O,z,B,A,D,W,H,C,Q;switch(m){case"l":a+=p.shift(),l+=p.shift(),v="L",y.push(a,l);break;case"L":a=p.shift(),l=p.shift(),y.push(a,l);break;case"m":const I=p.shift(),q=p.shift();if(a+=I,l+=q,v="M",r.length>2&&r[r.length-1].command==="z"){for(let L=r.length-2;L>=0;L--)if(r[L].command==="M"){a=r[L].points[0]+I,l=r[L].points[1]+q;break}}y.push(a,l),m="l";break;case"M":a=p.shift(),l=p.shift(),v="M",y.push(a,l),m="L";break;case"h":a+=p.shift(),v="L",y.push(a,l);break;case"H":a=p.shift(),v="L",y.push(a,l);break;case"v":l+=p.shift(),v="L",y.push(a,l);break;case"V":l=p.shift(),v="L",y.push(a,l);break;case"C":y.push(p.shift(),p.shift(),p.shift(),p.shift()),a=p.shift(),l=p.shift(),y.push(a,l);break;case"c":y.push(a+p.shift(),l+p.shift(),a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),v="C",y.push(a,l);break;case"S":O=a,z=l,_=r[r.length-1],_.command==="C"&&(O=a+(a-_.points[2]),z=l+(l-_.points[3])),y.push(O,z,p.shift(),p.shift()),a=p.shift(),l=p.shift(),v="C",y.push(a,l);break;case"s":O=a,z=l,_=r[r.length-1],_.command==="C"&&(O=a+(a-_.points[2]),z=l+(l-_.points[3])),y.push(O,z,a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),v="C",y.push(a,l);break;case"Q":y.push(p.shift(),p.shift()),a=p.shift(),l=p.shift(),y.push(a,l);break;case"q":y.push(a+p.shift(),l+p.shift()),a+=p.shift(),l+=p.shift(),v="Q",y.push(a,l);break;case"T":O=a,z=l,_=r[r.length-1],_.command==="Q"&&(O=a+(a-_.points[0]),z=l+(l-_.points[1])),a=p.shift(),l=p.shift(),v="Q",y.push(O,z,a,l);break;case"t":O=a,z=l,_=r[r.length-1],_.command==="Q"&&(O=a+(a-_.points[0]),z=l+(l-_.points[1])),a+=p.shift(),l+=p.shift(),v="Q",y.push(O,z,a,l);break;case"A":B=p.shift(),A=p.shift(),D=p.shift(),W=p.shift(),H=p.shift(),C=a,Q=l,a=p.shift(),l=p.shift(),v="A",y=this.convertEndpointToCenterParameterization(C,Q,a,l,W,H,B,A,D);break;case"a":B=p.shift(),A=p.shift(),D=p.shift(),W=p.shift(),H=p.shift(),C=a,Q=l,a+=p.shift(),l+=p.shift(),v="A",y=this.convertEndpointToCenterParameterization(C,Q,a,l,W,H,B,A,D);break}r.push({command:v||m,points:y,start:{x:g,y:b},pathLength:this.calcLength(g,b,v||m,y)})}(m==="z"||m==="Z")&&r.push({command:"z",points:[],start:void 0,pathLength:0})}return r}static calcLength(e,s,n,i){let r,o,a,l;const u=Xe;switch(n){case"L":return u.getLineLength(e,s,i[0],i[1]);case"C":return Hc([e,i[0],i[2],i[4]],[s,i[1],i[3],i[5]],1);case"Q":return Uc([e,i[0],i[2]],[s,i[1],i[3]],1);case"A":r=0;const d=i[4],h=i[5],f=i[4]+h;let m=Math.PI/180;if(Math.abs(d-f)<m&&(m=Math.abs(d-f)),o=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),h<0)for(l=d-m;l>f;l-=m)a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),r+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;else for(l=d+m;l<f;l+=m)a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),r+=u.getLineLength(o.x,o.y,a.x,a.y),o=a;return a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],f,0),r+=u.getLineLength(o.x,o.y,a.x,a.y),r}return 0}static convertEndpointToCenterParameterization(e,s,n,i,r,o,a,l,u){const d=u*(Math.PI/180),h=Math.cos(d)*(e-n)/2+Math.sin(d)*(s-i)/2,f=-1*Math.sin(d)*(e-n)/2+Math.cos(d)*(s-i)/2,m=h*h/(a*a)+f*f/(l*l);m>1&&(a*=Math.sqrt(m),l*=Math.sqrt(m));let p=Math.sqrt((a*a*(l*l)-a*a*(f*f)-l*l*(h*h))/(a*a*(f*f)+l*l*(h*h)));r===o&&(p*=-1),isNaN(p)&&(p=0);const x=p*a*f/l,v=p*-l*h/a,y=(e+n)/2+Math.cos(d)*x-Math.sin(d)*v,g=(s+i)/2+Math.sin(d)*x+Math.cos(d)*v,b=function(W){return Math.sqrt(W[0]*W[0]+W[1]*W[1])},_=function(W,H){return(W[0]*H[0]+W[1]*H[1])/(b(W)*b(H))},O=function(W,H){return(W[0]*H[1]<W[1]*H[0]?-1:1)*Math.acos(_(W,H))},z=O([1,0],[(h-x)/a,(f-v)/l]),B=[(h-x)/a,(f-v)/l],A=[(-1*h-x)/a,(-1*f-v)/l];let D=O(B,A);return _(B,A)<=-1&&(D=Math.PI),_(B,A)>=1&&(D=0),o===0&&D>0&&(D=D-2*Math.PI),o===1&&D<0&&(D=D+2*Math.PI),[y,g,a,l,z,D,d,o]}}Xe.prototype.className="Path";Xe.prototype._attrsAffectingSize=["data"];et(Xe);k.addGetterSetter(Xe,"data");class pn extends ks{_sceneFunc(e){super._sceneFunc(e);const s=Math.PI*2,n=this.points();let i=n;const r=this.tension()!==0&&n.length>4;r&&(i=this.getTensionPoints());const o=this.pointerLength(),a=n.length;let l,u;if(r){const f=[i[i.length-4],i[i.length-3],i[i.length-2],i[i.length-1],n[a-2],n[a-1]],m=Xe.calcLength(i[i.length-4],i[i.length-3],"C",f),p=Xe.getPointOnQuadraticBezier(Math.min(1,1-o/m),f[0],f[1],f[2],f[3],f[4],f[5]);l=n[a-2]-p.x,u=n[a-1]-p.y}else l=n[a-2]-n[a-4],u=n[a-1]-n[a-3];const d=(Math.atan2(u,l)+s)%s,h=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(n[a-2],n[a-1]),e.rotate(d),e.moveTo(0,0),e.lineTo(-o,h/2),e.lineTo(-o,-h/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(n[0],n[1]),r?(l=(i[0]+i[2])/2-n[0],u=(i[1]+i[3])/2-n[1]):(l=n[2]-n[0],u=n[3]-n[1]),e.rotate((Math.atan2(-u,-l)+s)%s),e.moveTo(0,0),e.lineTo(-o,h/2),e.lineTo(-o,-h/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const s=this.dashEnabled();s&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),s&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),s=this.pointerWidth()/2;return{x:e.x,y:e.y-s,width:e.width,height:e.height+s*2}}}pn.prototype.className="Arrow";et(pn);k.addGetterSetter(pn,"pointerLength",10,le());k.addGetterSetter(pn,"pointerWidth",10,le());k.addGetterSetter(pn,"pointerAtBeginning",!1);k.addGetterSetter(pn,"pointerAtEnding",!0);class Fn extends te{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}Fn.prototype._centroid=!0;Fn.prototype.className="Circle";Fn.prototype._attrsAffectingSize=["radius"];et(Fn);k.addGetterSetter(Fn,"radius",0,le());class Us extends te{_sceneFunc(e){const s=this.radiusX(),n=this.radiusY();e.beginPath(),e.save(),s!==n&&e.scale(1,n/s),e.arc(0,0,s,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}Us.prototype.className="Ellipse";Us.prototype._centroid=!0;Us.prototype._attrsAffectingSize=["radiusX","radiusY"];et(Us);k.addComponentsGetterSetter(Us,"radius",["x","y"]);k.addGetterSetter(Us,"radiusX",0,le());k.addGetterSetter(Us,"radiusY",0,le());let Kt=class Qh extends te{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",s=>{this._removeImageLoad(s.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),s=this.hasShadow();return e&&s?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const s=this.getWidth(),n=this.getHeight(),i=this.cornerRadius(),r=this.attrs.image;let o;if(r){const a=this.attrs.cropWidth,l=this.attrs.cropHeight;a&&l?o=[r,this.cropX(),this.cropY(),a,l,0,0,s,n]:o=[r,0,0,s,n]}(this.hasFill()||this.hasStroke()||i)&&(e.beginPath(),i?j.drawRoundedRectPath(e,s,n,i):e.rect(0,0,s,n),e.closePath(),e.fillStrokeShape(this)),r&&(i&&e.clip(),e.drawImage.apply(e,o))}_hitFunc(e){const s=this.width(),n=this.height(),i=this.cornerRadius();e.beginPath(),i?j.drawRoundedRectPath(e,s,n,i):e.rect(0,0,s,n),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,s,n;return(n=(e=this.attrs.width)!==null&&e!==void 0?e:(s=this.image())===null||s===void 0?void 0:s.width)!==null&&n!==void 0?n:0}getHeight(){var e,s,n;return(n=(e=this.attrs.height)!==null&&e!==void 0?e:(s=this.image())===null||s===void 0?void 0:s.height)!==null&&n!==void 0?n:0}static fromURL(e,s,n=null){const i=j.createImageElement();i.onload=function(){const r=new Qh({image:i});s(r)},i.onerror=n,i.crossOrigin="Anonymous",i.src=e}};Kt.prototype.className="Image";Kt.prototype._attrsAffectingSize=["image"];et(Kt);k.addGetterSetter(Kt,"cornerRadius",0,to(4));k.addGetterSetter(Kt,"image");k.addComponentsGetterSetter(Kt,"crop",["x","y","width","height"]);k.addGetterSetter(Kt,"cropX",0,le());k.addGetterSetter(Kt,"cropY",0,le());k.addGetterSetter(Kt,"cropWidth",0,le());k.addGetterSetter(Kt,"cropHeight",0,le());const e0=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],E8="Change.konva",A8="none",ca="up",da="right",ua="down",ha="left",P8=e0.length;class Wa extends $n{constructor(e){super(e),this.on("add.konva",function(s){this._addListeners(s.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let s=this,n;const i=function(){s._sync()};for(n=0;n<P8;n++)e.on(e0[n]+E8,i)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),s=this.getTag(),n,i,r,o,a,l,u;if(e&&s){switch(n=e.width(),i=e.height(),r=s.pointerDirection(),o=s.pointerWidth(),u=s.pointerHeight(),a=0,l=0,r){case ca:a=n/2,l=-1*u;break;case da:a=n+o,l=i/2;break;case ua:a=n/2,l=i+u;break;case ha:a=-1*o,l=i/2;break}s.setAttrs({x:-1*a,y:-1*l,width:n,height:i}),e.setAttrs({x:-1*a,y:-1*l})}}}Wa.prototype.className="Label";et(Wa);class mn extends te{_sceneFunc(e){const s=this.width(),n=this.height(),i=this.pointerDirection(),r=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius();let l=0,u=0,d=0,h=0;typeof a=="number"?l=u=d=h=Math.min(a,s/2,n/2):(l=Math.min(a[0]||0,s/2,n/2),u=Math.min(a[1]||0,s/2,n/2),h=Math.min(a[2]||0,s/2,n/2),d=Math.min(a[3]||0,s/2,n/2)),e.beginPath(),e.moveTo(l,0),i===ca&&(e.lineTo((s-r)/2,0),e.lineTo(s/2,-1*o),e.lineTo((s+r)/2,0)),e.lineTo(s-u,0),e.arc(s-u,u,u,Math.PI*3/2,0,!1),i===da&&(e.lineTo(s,(n-o)/2),e.lineTo(s+r,n/2),e.lineTo(s,(n+o)/2)),e.lineTo(s,n-h),e.arc(s-h,n-h,h,0,Math.PI/2,!1),i===ua&&(e.lineTo((s+r)/2,n),e.lineTo(s/2,n+o),e.lineTo((s-r)/2,n)),e.lineTo(d,n),e.arc(d,n-d,d,Math.PI/2,Math.PI,!1),i===ha&&(e.lineTo(0,(n+o)/2),e.lineTo(-1*r,n/2),e.lineTo(0,(n-o)/2)),e.lineTo(0,l),e.arc(l,l,l,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,s=0,n=this.pointerWidth(),i=this.pointerHeight(),r=this.pointerDirection(),o=this.width(),a=this.height();return r===ca?(s-=i,a+=i):r===ua?a+=i:r===ha?(e-=n*1.5,o+=n):r===da&&(o+=n*1.5),{x:e,y:s,width:o,height:a}}}mn.prototype.className="Tag";et(mn);k.addGetterSetter(mn,"pointerDirection",A8);k.addGetterSetter(mn,"pointerWidth",0,le());k.addGetterSetter(mn,"pointerHeight",0,le());k.addGetterSetter(mn,"cornerRadius",0,to(4));class Bi extends te{_sceneFunc(e){const s=this.cornerRadius(),n=this.width(),i=this.height();e.beginPath(),s?j.drawRoundedRectPath(e,n,i,s):e.rect(0,0,n,i),e.closePath(),e.fillStrokeShape(this)}}Bi.prototype.className="Rect";et(Bi);k.addGetterSetter(Bi,"cornerRadius",0,to(4));class Vs extends te{_sceneFunc(e){const s=this._getPoints(),n=this.radius(),i=this.sides(),r=this.cornerRadius();if(e.beginPath(),r)j.drawRoundedPolygonPath(e,s,i,n,r);else{e.moveTo(s[0].x,s[0].y);for(let o=1;o<s.length;o++)e.lineTo(s[o].x,s[o].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,s=this.attrs.radius||0,n=[];for(let i=0;i<e;i++)n.push({x:s*Math.sin(i*2*Math.PI/e),y:-1*s*Math.cos(i*2*Math.PI/e)});return n}getSelfRect(){const e=this._getPoints();let s=e[0].x,n=e[0].y,i=e[0].x,r=e[0].y;return e.forEach(o=>{s=Math.min(s,o.x),n=Math.max(n,o.x),i=Math.min(i,o.y),r=Math.max(r,o.y)}),{x:s,y:i,width:n-s,height:r-i}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Vs.prototype.className="RegularPolygon";Vs.prototype._centroid=!0;Vs.prototype._attrsAffectingSize=["radius"];et(Vs);k.addGetterSetter(Vs,"radius",0,le());k.addGetterSetter(Vs,"sides",0,le());k.addGetterSetter(Vs,"cornerRadius",0,to(4));const Wc=Math.PI*2;class gn extends te{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Wc,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Wc,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}gn.prototype.className="Ring";gn.prototype._centroid=!0;gn.prototype._attrsAffectingSize=["innerRadius","outerRadius"];et(gn);k.addGetterSetter(gn,"innerRadius",0,le());k.addGetterSetter(gn,"outerRadius",0,le());class ls extends te{constructor(e){super(e),this._updated=!0,this.anim=new Nt(()=>{const s=this._updated;return this._updated=!1,s}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const s=this.animation(),n=this.frameIndex(),i=n*4,r=this.animations()[s],o=this.frameOffsets(),a=r[i+0],l=r[i+1],u=r[i+2],d=r[i+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,u,d),e.closePath(),e.fillStrokeShape(this)),h)if(o){const f=o[s],m=n*2;e.drawImage(h,a,l,u,d,f[m+0],f[m+1],u,d)}else e.drawImage(h,a,l,u,d,0,0,u,d)}_hitFunc(e){const s=this.animation(),n=this.frameIndex(),i=n*4,r=this.animations()[s],o=this.frameOffsets(),a=r[i+2],l=r[i+3];if(e.beginPath(),o){const u=o[s],d=n*2;e.rect(u[d+0],u[d+1],a,l)}else e.rect(0,0,a,l);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),s=this.animation(),n=this.animations(),i=n[s],r=i.length/4;e<r-1?this.frameIndex(e+1):this.frameIndex(0)}}ls.prototype.className="Sprite";et(ls);k.addGetterSetter(ls,"animation");k.addGetterSetter(ls,"animations");k.addGetterSetter(ls,"frameOffsets");k.addGetterSetter(ls,"image");k.addGetterSetter(ls,"frameIndex",0,le());k.addGetterSetter(ls,"frameRate",17,le());k.backCompat(ls,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class Ws extends te{_sceneFunc(e){const s=this.innerRadius(),n=this.outerRadius(),i=this.numPoints();e.beginPath(),e.moveTo(0,0-n);for(let r=1;r<i*2;r++){const o=r%2===0?n:s,a=o*Math.sin(r*Math.PI/i),l=-1*o*Math.cos(r*Math.PI/i);e.lineTo(a,l)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}Ws.prototype.className="Star";Ws.prototype._centroid=!0;Ws.prototype._attrsAffectingSize=["innerRadius","outerRadius"];et(Ws);k.addGetterSetter(Ws,"numPoints",5,le());k.addGetterSetter(Ws,"innerRadius",0,le());k.addGetterSetter(Ws,"outerRadius",0,le());function Is(t){return[...t].reduce((e,s,n,i)=>{if(new RegExp("\\p{Emoji}","u").test(s)){const r=i[n+1];r&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(r)?(e.push(s+r),i[n+1]=""):e.push(s)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(s+(i[n+1]||""))?e.push(s+i[n+1]):n>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(s)?e[e.length-1]+=s:s&&e.push(s);return e},[])}const xn="auto",T8="center",t0="inherit",_n="justify",R8="Change.konva",M8="2d",qc="-",s0="left",I8="text",O8="Text",L8="top",$8="bottom",Xc="middle",n0="normal",D8="px ",Qi=" ",N8="right",Yc="rtl",B8="word",j8="char",Kc="none",Mo="",i0=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],F8=i0.length;function G8(t){return t.split(",").map(e=>{e=e.trim();const s=e.indexOf(" ")>=0,n=e.indexOf('"')>=0||e.indexOf("'")>=0;return s&&!n&&(e=`"${e}"`),e}).join(", ")}let er;function Io(){return er||(er=j.createCanvasElement().getContext(M8),er)}function z8(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function H8(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function U8(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}class Je extends te{constructor(e){super(U8(e)),this._partialTextX=0,this._partialTextY=0;for(let s=0;s<F8;s++)this.on(i0[s]+R8,this._setTextData);this._setTextData()}_sceneFunc(e){var s,n;const i=this.textArr,r=i.length;if(!this.text())return;let o=this.padding(),a=this.fontSize(),l=this.lineHeight()*a,u=this.verticalAlign(),d=this.direction(),h=0,f=this.align(),m=this.getWidth(),p=this.letterSpacing(),x=this.charRenderFunc(),v=this.fill(),y=this.textDecoration(),g=y.indexOf("underline")!==-1,b=y.indexOf("line-through")!==-1,_;d=d===t0?e.direction:d;let O=l/2,z=Xc;if(!ue.legacyTextRendering){const B=this.measureSize("M");z="alphabetic";const A=(s=B.fontBoundingBoxAscent)!==null&&s!==void 0?s:B.actualBoundingBoxAscent,D=(n=B.fontBoundingBoxDescent)!==null&&n!==void 0?n:B.actualBoundingBoxDescent;O=(A-D)/2+l/2}for(d===Yc&&e.setAttr("direction",d),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",z),e.setAttr("textAlign",s0),u===Xc?h=(this.getHeight()-r*l-o*2)/2:u===$8&&(h=this.getHeight()-r*l-o*2),e.translate(o,h+o),_=0;_<r;_++){let B=0,A=0;const D=i[_],W=D.text,H=D.width,C=D.lastInParagraph;if(e.save(),f===N8?B+=m-H-o*2:f===T8&&(B+=(m-H-o*2)/2),g){e.save(),e.beginPath();const Q=ue.legacyTextRendering?Math.round(a/2):Math.round(a/4),I=B,q=O+A+Q;e.moveTo(I,q);const L=f===_n&&!C?m-o*2:H;e.lineTo(I+Math.round(L),q),e.lineWidth=a/15;const M=this._getLinearGradient();e.strokeStyle=M||v,e.stroke(),e.restore()}if(d!==Yc&&(p!==0||f===_n||x)){const Q=W.split(" ").length-1,I=Is(W);for(let q=0;q<I.length;q++){const L=I[q];if(L===" "&&!C&&f===_n&&(B+=(m-o*2-H)/Q),this._partialTextX=B,this._partialTextY=O+A,this._partialText=L,x){e.save();const R=i.slice(0,_).reduce((X,ce)=>X+Is(ce.text).length,0),P=q+R;x({char:L,index:P,x:B,y:O+A,lineIndex:_,column:q,isLastInLine:C,width:this.measureSize(L).width,context:e})}e.fillStrokeShape(this),x&&e.restore(),B+=this.measureSize(L).width+p}}else p!==0&&e.setAttr("letterSpacing",`${p}px`),this._partialTextX=B,this._partialTextY=O+A,this._partialText=W,e.fillStrokeShape(this);if(b){e.save(),e.beginPath();const Q=ue.legacyTextRendering?0:-Math.round(a/4),I=f===_n?0:B;e.moveTo(I,O+A+Q);const q=f===_n&&!C?m-o*2:H;e.lineTo(I+Math.round(q),O+A+Q),e.lineWidth=a/15;const L=this._getLinearGradient();e.strokeStyle=L||v,e.stroke(),e.restore()}e.restore(),r>1&&(O+=l)}}_hitFunc(e){const s=this.getWidth(),n=this.getHeight();e.beginPath(),e.rect(0,0,s,n),e.closePath(),e.fillStrokeShape(this)}setText(e){const s=j._isString(e)?e:e==null?"":e+"";return this._setAttr(I8,s),this}getWidth(){return this.attrs.width===xn||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===xn||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return j.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var s,n,i,r,o,a,l,u,d,h,f;let m=Io(),p=this.fontSize(),x;m.save(),m.font=this._getContextFont(),x=m.measureText(e),m.restore();const v=p/100;return{actualBoundingBoxAscent:(s=x.actualBoundingBoxAscent)!==null&&s!==void 0?s:71.58203125*v,actualBoundingBoxDescent:(n=x.actualBoundingBoxDescent)!==null&&n!==void 0?n:0,actualBoundingBoxLeft:(i=x.actualBoundingBoxLeft)!==null&&i!==void 0?i:-7.421875*v,actualBoundingBoxRight:(r=x.actualBoundingBoxRight)!==null&&r!==void 0?r:75.732421875*v,alphabeticBaseline:(o=x.alphabeticBaseline)!==null&&o!==void 0?o:0,emHeightAscent:(a=x.emHeightAscent)!==null&&a!==void 0?a:100*v,emHeightDescent:(l=x.emHeightDescent)!==null&&l!==void 0?l:-20*v,fontBoundingBoxAscent:(u=x.fontBoundingBoxAscent)!==null&&u!==void 0?u:91*v,fontBoundingBoxDescent:(d=x.fontBoundingBoxDescent)!==null&&d!==void 0?d:21*v,hangingBaseline:(h=x.hangingBaseline)!==null&&h!==void 0?h:72.80000305175781*v,ideographicBaseline:(f=x.ideographicBaseline)!==null&&f!==void 0?f:-21*v,width:x.width,height:p}}_getContextFont(){return this.fontStyle()+Qi+this.fontVariant()+Qi+(this.fontSize()+D8)+G8(this.fontFamily())}_addTextLine(e){this.align()===_n&&(e=e.trim());const n=this._getTextWidth(e);return this.textArr.push({text:e,width:n,lastInParagraph:!1})}_getTextWidth(e){const s=this.letterSpacing(),n=e.length;return Io().measureText(e).width+s*n}_setTextData(){let e=this.text().split(`
`),s=+this.fontSize(),n=0,i=this.lineHeight()*s,r=this.attrs.width,o=this.attrs.height,a=r!==xn&&r!==void 0,l=o!==xn&&o!==void 0,u=this.padding(),d=r-u*2,h=o-u*2,f=0,m=this.wrap(),p=m!==Kc,x=m!==j8&&p,v=this.ellipsis();this.textArr=[],Io().font=this._getContextFont();const y=v?this._getTextWidth(Mo):0;for(let g=0,b=e.length;g<b;++g){let _=e[g],O=this._getTextWidth(_);if(a&&O>d)for(;_.length>0;){let z=0,B=Is(_).length,A="",D=0;for(;z<B;){const W=z+B>>>1,H=Is(_),C=H.slice(0,W+1).join(""),Q=this._getTextWidth(C);(v&&l&&f+i>h?Q+y:Q)<=d?(z=W+1,A=C,D=Q):B=W}if(A){if(x){const C=Is(_),Q=Is(A),I=C[Q.length],q=I===Qi||I===qc;let L;if(q&&D<=d)L=Q.length;else{const M=Q.lastIndexOf(Qi),R=Q.lastIndexOf(qc);L=Math.max(M,R)+1}L>0&&(z=L,A=C.slice(0,z).join(""),D=this._getTextWidth(A))}if(A=A.trimRight(),this._addTextLine(A),n=Math.max(n,D),f+=i,this._shouldHandleEllipsis(f)){this._tryToAddEllipsisToLastLine();break}if(_=Is(_).slice(z).join("").trimLeft(),_.length>0&&(O=this._getTextWidth(_),O<=d)){this._addTextLine(_),f+=i,n=Math.max(n,O);break}}else break}else this._addTextLine(_),f+=i,n=Math.max(n,O),this._shouldHandleEllipsis(f)&&g<b-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),l&&f+i>h)break}this.textHeight=s,this.textWidth=n}_shouldHandleEllipsis(e){const s=+this.fontSize(),n=this.lineHeight()*s,i=this.attrs.height,r=i!==xn&&i!==void 0,o=this.padding(),a=i-o*2;return!(this.wrap()!==Kc)||r&&e+n>a}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,s=e!==xn&&e!==void 0,n=this.padding(),i=e-n*2,r=this.ellipsis(),o=this.textArr[this.textArr.length-1];!o||!r||(s&&(this._getTextWidth(o.text+Mo)<i||(o.text=o.text.slice(0,o.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(o.text+Mo))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,s=this.hasShadow();return e&&s?!0:super._useBufferCanvas()}}Je.prototype._fillFunc=z8;Je.prototype._strokeFunc=H8;Je.prototype.className=O8;Je.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];et(Je);k.overWriteSetter(Je,"width",Ha());k.overWriteSetter(Je,"height",Ha());k.addGetterSetter(Je,"direction",t0);k.addGetterSetter(Je,"fontFamily","Arial");k.addGetterSetter(Je,"fontSize",12,le());k.addGetterSetter(Je,"fontStyle",n0);k.addGetterSetter(Je,"fontVariant",n0);k.addGetterSetter(Je,"padding",0,le());k.addGetterSetter(Je,"align",s0);k.addGetterSetter(Je,"verticalAlign",L8);k.addGetterSetter(Je,"lineHeight",1,le());k.addGetterSetter(Je,"wrap",B8);k.addGetterSetter(Je,"ellipsis",!1,Yt());k.addGetterSetter(Je,"letterSpacing",0,le());k.addGetterSetter(Je,"text","",hn());k.addGetterSetter(Je,"textDecoration","");k.addGetterSetter(Je,"charRenderFunc",void 0);const V8="",r0="normal";function o0(t){t.fillText(this.partialText,0,0)}function a0(t){t.strokeText(this.partialText,0,0)}class lt extends te{constructor(e){super(e),this.dummyCanvas=j.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Xe.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const s=this.pathLength;return e>s?null:Xe.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Xe.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const s=this.textDecoration(),n=this.fill(),i=this.fontSize(),r=this.glyphInfo,o=s.indexOf("underline")!==-1,a=s.indexOf("line-through")!==-1;o&&e.beginPath();for(let l=0;l<r.length;l++){e.save();const u=r[l].p0;e.translate(u.x,u.y),e.rotate(r[l].rotation),this.partialText=r[l].text,e.fillStrokeShape(this),o&&(l===0&&e.moveTo(0,i/2+1),e.lineTo(r[l].width,i/2+1)),e.restore()}if(o&&(e.strokeStyle=n,e.lineWidth=i/20,e.stroke()),a){e.beginPath();for(let l=0;l<r.length;l++){e.save();const u=r[l].p0;e.translate(u.x,u.y),e.rotate(r[l].rotation),l===0&&e.moveTo(0,0),e.lineTo(r[l].width,0),e.restore()}e.strokeStyle=n,e.lineWidth=i/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const s=this.glyphInfo;if(s.length>=1){const n=s[0].p0;e.moveTo(n.x,n.y)}for(let n=0;n<s.length;n++){const i=s[n].p1;e.lineTo(i.x,i.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return j.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Je.prototype.setText.call(this,e)}_getContextFont(){return Je.prototype._getContextFont.call(this)}_getTextSize(e){const n=this.dummyCanvas.getContext("2d");n.save(),n.font=this._getContextFont();const i=n.measureText(e);return n.restore(),{width:i.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=Is(this.text()),s=[];let n=0;for(let h=0;h<e.length;h++)s.push({char:e[h],width:this._getTextSize(e[h]).width}),n+=s[h].width;const{height:i}=this._getTextSize(this.attrs.text);if(this.textWidth=n,this.textHeight=i,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),o=this.align(),a=this.kerningFunc(),l=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let u=0;o==="center"&&(u=Math.max(0,this.pathLength/2-l/2)),o==="right"&&(u=Math.max(0,this.pathLength-l));let d=u;for(let h=0;h<s.length;h++){const f=this._getPointAtLength(d);if(!f)return;const m=s[h].char;let p=s[h].width+r;if(m===" "&&o==="justify"){const _=this.text().split(" ").length-1;p+=(this.pathLength-l)/_}const x=this._getPointAtLength(d+p);if(!x)return;const v=Xe.getLineLength(f.x,f.y,x.x,x.y);let y=0;if(a)try{y=a(s[h-1].char,m)*this.fontSize()}catch{y=0}f.x+=y,x.x+=y,this.textWidth+=y;const g=Xe.getPointOnLine(y+v/2,f.x,f.y,x.x,x.y),b=Math.atan2(x.y-f.y,x.x-f.x);this.glyphInfo.push({transposeX:g.x,transposeY:g.y,text:e[h],rotation:b,p0:f,p1:x,width:v}),d+=p}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(u){e.push(u.p0.x),e.push(u.p0.y),e.push(u.p1.x),e.push(u.p1.y)});let s=e[0]||0,n=e[0]||0,i=e[1]||0,r=e[1]||0,o,a;for(let u=0;u<e.length/2;u++)o=e[u*2],a=e[u*2+1],s=Math.min(s,o),n=Math.max(n,o),i=Math.min(i,a),r=Math.max(r,a);const l=this.fontSize();return{x:s-l/2,y:i-l/2,width:n-s+l,height:r-i+l}}destroy(){return j.releaseCanvas(this.dummyCanvas),super.destroy()}}lt.prototype._fillFunc=o0;lt.prototype._strokeFunc=a0;lt.prototype._fillFuncHit=o0;lt.prototype._strokeFuncHit=a0;lt.prototype.className="TextPath";lt.prototype._attrsAffectingSize=["text","fontSize","data"];et(lt);k.addGetterSetter(lt,"data");k.addGetterSetter(lt,"fontFamily","Arial");k.addGetterSetter(lt,"fontSize",12,le());k.addGetterSetter(lt,"fontStyle",r0);k.addGetterSetter(lt,"align","left");k.addGetterSetter(lt,"letterSpacing",0,le());k.addGetterSetter(lt,"textBaseline","middle");k.addGetterSetter(lt,"fontVariant",r0);k.addGetterSetter(lt,"text",V8);k.addGetterSetter(lt,"textDecoration","");k.addGetterSetter(lt,"kerningFunc",void 0);const l0="tr-konva",W8=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${l0}`).join(" "),Jc="nodesRect",q8=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],X8={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},Y8="ontouchstart"in ue._global;function K8(t,e,s){if(t==="rotater")return s;e+=j.degToRad(X8[t]||0);const n=(j.radToDeg(e)%360+360)%360;return j._inRange(n,315+22.5,360)||j._inRange(n,0,22.5)?"ns-resize":j._inRange(n,45-22.5,45+22.5)?"nesw-resize":j._inRange(n,90-22.5,90+22.5)?"ew-resize":j._inRange(n,135-22.5,135+22.5)?"nwse-resize":j._inRange(n,180-22.5,180+22.5)?"ns-resize":j._inRange(n,225-22.5,225+22.5)?"nesw-resize":j._inRange(n,270-22.5,270+22.5)?"ew-resize":j._inRange(n,315-22.5,315+22.5)?"nwse-resize":(j.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}const Pr=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function J8(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function c0(t,e,s){const n=s.x+(t.x-s.x)*Math.cos(e)-(t.y-s.y)*Math.sin(e),i=s.y+(t.x-s.x)*Math.sin(e)+(t.y-s.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:n,y:i}}function Z8(t,e){const s=J8(t);return c0(t,e,s)}function Q8(t,e,s){let n=e;for(let i=0;i<t.length;i++){const r=ue.getAngle(t[i]),o=Math.abs(r-e)%(Math.PI*2);Math.min(o,Math.PI*2-o)<s&&(n=r)}return n}let fa=0;class Me extends $n{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(W8,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return j.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return l0+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const s=e.filter(i=>i.isAncestorOf(this)?(j.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=s,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(i=>{const r=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(i._attrsAffectingSize.length){const o=i._attrsAffectingSize.map(a=>a+"Change."+this._getEventNamespace()).join(" ");i.on(o,r)}i.on(q8.map(o=>o+`.${this._getEventNamespace()}`).join(" "),r),i.on(`absoluteTransformChange.${this._getEventNamespace()}`,r),this._proxyDrag(i)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let s;e.on(`dragstart.${this._getEventNamespace()}`,n=>{s=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(n,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,n=>{if(!s)return;const i=e.getAbsolutePosition(),r=i.x-s.x,o=i.y-s.y;this.nodes().forEach(a=>{if(a===e||a.isDragging())return;const l=a.getAbsolutePosition();a.setAbsolutePosition({x:l.x+r,y:l.y+o}),a.startDrag(n)}),s=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Jc),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Jc,this.__getNodeRect)}__getNodeShape(e,s=this.rotation(),n){const i=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),r=e.getAbsoluteScale(n),o=e.getAbsolutePosition(n),a=i.x*r.x-e.offsetX()*r.x,l=i.y*r.y-e.offsetY()*r.y,u=(ue.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),d={x:o.x+a*Math.cos(u)+l*Math.sin(-u),y:o.y+l*Math.cos(u)+a*Math.sin(u),width:i.width*r.x,height:i.height*r.y,rotation:u};return c0(d,-ue.getAngle(s),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const s=[];this.nodes().map(u=>{const d=u.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),h=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],f=u.getAbsoluteTransform();h.forEach(function(m){const p=f.point(m);s.push(p)})});const n=new Mt;n.rotate(-ue.getAngle(this.rotation()));let i=1/0,r=1/0,o=-1/0,a=-1/0;s.forEach(function(u){const d=n.point(u);i===void 0&&(i=o=d.x,r=a=d.y),i=Math.min(i,d.x),r=Math.min(r,d.y),o=Math.max(o,d.x),a=Math.max(a,d.y)}),n.invert();const l=n.point({x:i,y:r});return{x:l.x,y:l.y,width:o-i,height:a-r,rotation:ue.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Pr.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const s=new Bi({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:Y8?10:"auto"}),n=this;s.on("mousedown touchstart",function(i){n._handleMouseDown(i)}),s.on("dragstart",i=>{s.stopDrag(),i.cancelBubble=!0}),s.on("dragend",i=>{i.cancelBubble=!0}),s.on("mouseenter",()=>{const i=ue.getAngle(this.rotation()),r=this.rotateAnchorCursor(),o=K8(e,i,r);s.getStage().content&&(s.getStage().content.style.cursor=o),this._cursorChange=!0}),s.on("mouseout",()=>{s.getStage().content&&(s.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(s)}_createBack(){const e=new te({name:"back",width:0,height:0,sceneFunc(s,n){const i=n.getParent(),r=i.padding();s.beginPath(),s.rect(-r,-r,n.width()+r*2,n.height()+r*2),s.moveTo(n.width()/2,-r),i.rotateEnabled()&&i.rotateLineVisible()&&s.lineTo(n.width()/2,-i.rotateAnchorOffset()*j._sign(n.height())-r),s.fillStrokeShape(n)},hitFunc:(s,n)=>{if(!this.shouldOverdrawWholeArea())return;const i=this.padding();s.beginPath(),s.rect(-i,-i,n.width()+i*2,n.height()+i*2),s.fillStrokeShape(n)}});this.add(e),this._proxyDrag(e),e.on("dragstart",s=>{s.cancelBubble=!0}),e.on("dragmove",s=>{s.cancelBubble=!0}),e.on("dragend",s=>{s.cancelBubble=!0}),this.on("dragmove",s=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const s=this._getNodeRect(),n=s.width,i=s.height,r=Math.sqrt(Math.pow(n,2)+Math.pow(i,2));this.sin=Math.abs(i/r),this.cos=Math.abs(n/r),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const o=e.target.getAbsolutePosition(),a=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},fa++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(l=>{l._fire("transformstart",{evt:e.evt,target:l})})}_handleMouseMove(e){let s,n,i;const r=this.findOne("."+this._movingAnchorName),o=r.getStage();o.setPointersPositions(e);const a=o.getPointerPosition();let l={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y};const u=r.getAbsolutePosition();this.anchorDragBoundFunc()&&(l=this.anchorDragBoundFunc()(u,l,e)),r.setAbsolutePosition(l);const d=r.getAbsolutePosition();if(u.x===d.x&&u.y===d.y)return;if(this._movingAnchorName==="rotater"){const g=this._getNodeRect();s=r.x()-g.width/2,n=-r.y()+g.height/2;let b=Math.atan2(-n,s)+Math.PI/2;g.height<0&&(b-=Math.PI);const O=ue.getAngle(this.rotation())+b,z=ue.getAngle(this.rotationSnapTolerance()),A=Q8(this.rotationSnaps(),O,z)-g.rotation,D=Z8(g,A);this._fitNodesInto(D,e);return}const h=this.shiftBehavior();let f;h==="inverted"?f=this.keepRatio()&&!e.shiftKey:h==="none"?f=this.keepRatio():f=this.keepRatio()||e.shiftKey;let m=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(f){const g=m?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};i=Math.sqrt(Math.pow(g.x-r.x(),2)+Math.pow(g.y-r.y(),2));const b=this.findOne(".top-left").x()>g.x?-1:1,_=this.findOne(".top-left").y()>g.y?-1:1;s=i*this.cos*b,n=i*this.sin*_,this.findOne(".top-left").x(g.x-s),this.findOne(".top-left").y(g.y-n)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(r.y());else if(this._movingAnchorName==="top-right"){if(f){const g=m?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};i=Math.sqrt(Math.pow(r.x()-g.x,2)+Math.pow(g.y-r.y(),2));const b=this.findOne(".top-right").x()<g.x?-1:1,_=this.findOne(".top-right").y()>g.y?-1:1;s=i*this.cos*b,n=i*this.sin*_,this.findOne(".top-right").x(g.x+s),this.findOne(".top-right").y(g.y-n)}var p=r.position();this.findOne(".top-left").y(p.y),this.findOne(".bottom-right").x(p.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(r.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(r.x());else if(this._movingAnchorName==="bottom-left"){if(f){const g=m?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};i=Math.sqrt(Math.pow(g.x-r.x(),2)+Math.pow(r.y()-g.y,2));const b=g.x<r.x()?-1:1,_=r.y()<g.y?-1:1;s=i*this.cos*b,n=i*this.sin*_,r.x(g.x-s),r.y(g.y+n)}p=r.position(),this.findOne(".top-left").x(p.x),this.findOne(".bottom-right").y(p.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(r.y());else if(this._movingAnchorName==="bottom-right"){if(f){const g=m?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};i=Math.sqrt(Math.pow(r.x()-g.x,2)+Math.pow(r.y()-g.y,2));const b=this.findOne(".bottom-right").x()<g.x?-1:1,_=this.findOne(".bottom-right").y()<g.y?-1:1;s=i*this.cos*b,n=i*this.sin*_,this.findOne(".bottom-right").x(g.x+s),this.findOne(".bottom-right").y(g.y+n)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(m=this.centeredScaling()||e.altKey,m){const g=this.findOne(".top-left"),b=this.findOne(".bottom-right"),_=g.x(),O=g.y(),z=this.getWidth()-b.x(),B=this.getHeight()-b.y();b.move({x:-_,y:-O}),g.move({x:z,y:B})}const x=this.findOne(".top-left").getAbsolutePosition();s=x.x,n=x.y;const v=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),y=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:s,y:n,width:v,height:y,rotation:ue.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var s;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const n=this.getNode();fa--,this._fire("transformend",{evt:e,target:n}),(s=this.getLayer())===null||s===void 0||s.batchDraw(),n&&this._nodes.forEach(i=>{var r;i._fire("transformend",{evt:e,target:i}),(r=i.getLayer())===null||r===void 0||r.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,s){const n=this._getNodeRect(),i=1;if(j._inRange(e.width,-this.padding()*2-i,i)){this.update();return}if(j._inRange(e.height,-this.padding()*2-i,i)){this.update();return}const r=new Mt;if(r.rotate(ue.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const f=r.point({x:-this.padding()*2,y:0});e.x+=f.x,e.y+=f.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const f=r.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const f=r.point({x:0,y:-this.padding()*2});e.x+=f.x,e.y+=f.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const f=r.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=f.x,this._anchorDragOffset.y-=f.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const f=this.boundBoxFunc()(n,e);f?e=f:j.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const o=1e7,a=new Mt;a.translate(n.x,n.y),a.rotate(n.rotation),a.scale(n.width/o,n.height/o);const l=new Mt,u=e.width/o,d=e.height/o;this.flipEnabled()===!1?(l.translate(e.x,e.y),l.rotate(e.rotation),l.translate(e.width<0?e.width:0,e.height<0?e.height:0),l.scale(Math.abs(u),Math.abs(d))):(l.translate(e.x,e.y),l.rotate(e.rotation),l.scale(u,d));const h=l.multiply(a.invert());this._nodes.forEach(f=>{var m;if(!f.getStage())return;const p=f.getParent().getAbsoluteTransform(),x=f.getTransform().copy();x.translate(f.offsetX(),f.offsetY());const v=new Mt;v.multiply(p.copy().invert()).multiply(h).multiply(p).multiply(x);const y=v.decompose();f.setAttrs(y),(m=f.getLayer())===null||m===void 0||m.batchDraw()}),this.rotation(j._getRotation(e.rotation)),this._nodes.forEach(f=>{this._fire("transform",{evt:s,target:f}),f._fire("transform",{evt:s,target:f})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,s){this.findOne(e).setAttrs(s)}update(){var e;const s=this._getNodeRect();this.rotation(j._getRotation(s.rotation));const n=s.width,i=s.height,r=this.enabledAnchors(),o=this.resizeEnabled(),a=this.padding(),l=this.anchorSize(),u=this.find("._anchor");u.forEach(h=>{h.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+a,offsetY:l/2+a,visible:o&&r.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+a,visible:o&&r.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-a,offsetY:l/2+a,visible:o&&r.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:i/2,offsetX:l/2+a,visible:o&&r.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:i/2,offsetX:l/2-a,visible:o&&r.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:i,offsetX:l/2+a,offsetY:l/2-a,visible:o&&r.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:i,offsetY:l/2-a,visible:o&&r.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:i,offsetX:l/2-a,offsetY:l/2-a,visible:o&&r.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*j._sign(i)-a,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:i,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(h=>h.draggable()),x:0,y:0});const d=this.anchorStyleFunc();d&&u.forEach(h=>{d(h)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),$n.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return ae.prototype.toObject.call(this)}clone(e){return ae.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}Me.isTransforming=()=>fa>0;function e9(t){return t instanceof Array||j.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Pr.indexOf(e)===-1&&j.warn("Unknown anchor name: "+e+". Available names are: "+Pr.join(", "))}),t||[]}Me.prototype.className="Transformer";et(Me);k.addGetterSetter(Me,"enabledAnchors",Pr,e9);k.addGetterSetter(Me,"flipEnabled",!0,Yt());k.addGetterSetter(Me,"resizeEnabled",!0);k.addGetterSetter(Me,"anchorSize",10,le());k.addGetterSetter(Me,"rotateEnabled",!0);k.addGetterSetter(Me,"rotateLineVisible",!0);k.addGetterSetter(Me,"rotationSnaps",[]);k.addGetterSetter(Me,"rotateAnchorOffset",50,le());k.addGetterSetter(Me,"rotateAnchorCursor","crosshair");k.addGetterSetter(Me,"rotationSnapTolerance",5,le());k.addGetterSetter(Me,"borderEnabled",!0);k.addGetterSetter(Me,"anchorStroke","rgb(0, 161, 255)");k.addGetterSetter(Me,"anchorStrokeWidth",1,le());k.addGetterSetter(Me,"anchorFill","white");k.addGetterSetter(Me,"anchorCornerRadius",0,le());k.addGetterSetter(Me,"borderStroke","rgb(0, 161, 255)");k.addGetterSetter(Me,"borderStrokeWidth",1,le());k.addGetterSetter(Me,"borderDash");k.addGetterSetter(Me,"keepRatio",!0);k.addGetterSetter(Me,"shiftBehavior","default");k.addGetterSetter(Me,"centeredScaling",!1);k.addGetterSetter(Me,"ignoreStroke",!1);k.addGetterSetter(Me,"padding",0,le());k.addGetterSetter(Me,"nodes");k.addGetterSetter(Me,"node");k.addGetterSetter(Me,"boundBoxFunc");k.addGetterSetter(Me,"anchorDragBoundFunc");k.addGetterSetter(Me,"anchorStyleFunc");k.addGetterSetter(Me,"shouldOverdrawWholeArea",!1);k.addGetterSetter(Me,"useSingleNodeRotation",!0);k.backCompat(Me,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class Ss extends te{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,ue.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}Ss.prototype.className="Wedge";Ss.prototype._centroid=!0;Ss.prototype._attrsAffectingSize=["radius"];et(Ss);k.addGetterSetter(Ss,"radius",0,le());k.addGetterSetter(Ss,"angle",0,le());k.addGetterSetter(Ss,"clockwise",!1);k.backCompat(Ss,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function Zc(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const t9=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],s9=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function n9(t,e){const s=t.data,n=t.width,i=t.height;let r,o,a,l,u,d,h,f,m,p,x,v,y,g,b,_,O,z,B,A;const D=e+e+1,W=n-1,H=i-1,C=e+1,Q=C*(C+1)/2,I=new Zc,q=t9[e],L=s9[e];let M=null,R=I,P=null,X=null;for(let ce=1;ce<D;ce++)R=R.next=new Zc,ce===C&&(M=R);R.next=I,a=o=0;for(let ce=0;ce<i;ce++){v=y=g=b=l=u=d=h=0,f=C*(_=s[o]),m=C*(O=s[o+1]),p=C*(z=s[o+2]),x=C*(B=s[o+3]),l+=Q*_,u+=Q*O,d+=Q*z,h+=Q*B,R=I;for(let se=0;se<C;se++)R.r=_,R.g=O,R.b=z,R.a=B,R=R.next;for(let se=1;se<C;se++)r=o+((W<se?W:se)<<2),l+=(R.r=_=s[r])*(A=C-se),u+=(R.g=O=s[r+1])*A,d+=(R.b=z=s[r+2])*A,h+=(R.a=B=s[r+3])*A,v+=_,y+=O,g+=z,b+=B,R=R.next;P=I,X=M;for(let se=0;se<n;se++)s[o+3]=B=h*q>>L,B!==0?(B=255/B,s[o]=(l*q>>L)*B,s[o+1]=(u*q>>L)*B,s[o+2]=(d*q>>L)*B):s[o]=s[o+1]=s[o+2]=0,l-=f,u-=m,d-=p,h-=x,f-=P.r,m-=P.g,p-=P.b,x-=P.a,r=a+((r=se+e+1)<W?r:W)<<2,v+=P.r=s[r],y+=P.g=s[r+1],g+=P.b=s[r+2],b+=P.a=s[r+3],l+=v,u+=y,d+=g,h+=b,P=P.next,f+=_=X.r,m+=O=X.g,p+=z=X.b,x+=B=X.a,v-=_,y-=O,g-=z,b-=B,X=X.next,o+=4;a+=n}for(let ce=0;ce<n;ce++){y=g=b=v=u=d=h=l=0,o=ce<<2,f=C*(_=s[o]),m=C*(O=s[o+1]),p=C*(z=s[o+2]),x=C*(B=s[o+3]),l+=Q*_,u+=Q*O,d+=Q*z,h+=Q*B,R=I;for(let N=0;N<C;N++)R.r=_,R.g=O,R.b=z,R.a=B,R=R.next;let se=n;for(let N=1;N<=e;N++)o=se+ce<<2,l+=(R.r=_=s[o])*(A=C-N),u+=(R.g=O=s[o+1])*A,d+=(R.b=z=s[o+2])*A,h+=(R.a=B=s[o+3])*A,v+=_,y+=O,g+=z,b+=B,R=R.next,N<H&&(se+=n);o=ce,P=I,X=M;for(let N=0;N<i;N++)r=o<<2,s[r+3]=B=h*q>>L,B>0?(B=255/B,s[r]=(l*q>>L)*B,s[r+1]=(u*q>>L)*B,s[r+2]=(d*q>>L)*B):s[r]=s[r+1]=s[r+2]=0,l-=f,u-=m,d-=p,h-=x,f-=P.r,m-=P.g,p-=P.b,x-=P.a,r=ce+((r=N+C)<H?r:H)*n<<2,l+=v+=P.r=s[r],u+=y+=P.g=s[r+1],d+=g+=P.b=s[r+2],h+=b+=P.a=s[r+3],P=P.next,f+=_=X.r,m+=O=X.g,p+=z=X.b,x+=B=X.a,v-=_,y-=O,g-=z,b-=B,X=X.next,o+=n}}const i9=function(e){const s=Math.round(this.blurRadius());s>0&&n9(e,s)};k.addGetterSetter(ae,"blurRadius",0,le(),k.afterSetFilter);const r9=function(t){const e=this.brightness()*255,s=t.data,n=s.length;for(let i=0;i<n;i+=4)s[i]+=e,s[i+1]+=e,s[i+2]+=e};k.addGetterSetter(ae,"brightness",0,le(),k.afterSetFilter);const o9=function(t){const e=this.brightness(),s=t.data,n=s.length;for(let i=0;i<n;i+=4)s[i]=Math.min(255,s[i]*e),s[i+1]=Math.min(255,s[i+1]*e),s[i+2]=Math.min(255,s[i+2]*e)},a9=function(t){const e=Math.pow((this.contrast()+100)/100,2),s=t.data,n=s.length;let i=150,r=150,o=150;for(let a=0;a<n;a+=4)i=s[a],r=s[a+1],o=s[a+2],i/=255,i-=.5,i*=e,i+=.5,i*=255,r/=255,r-=.5,r*=e,r+=.5,r*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,i=i<0?0:i>255?255:i,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,s[a]=i,s[a+1]=r,s[a+2]=o};k.addGetterSetter(ae,"contrast",0,le(),k.afterSetFilter);const l9=function(t){var e,s,n,i,r,o,a,l,u;const d=t.data,h=t.width,f=t.height,m=Math.min(1,Math.max(0,(s=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&s!==void 0?s:.5)),p=Math.min(1,Math.max(0,(i=(n=this.embossWhiteLevel)===null||n===void 0?void 0:n.call(this))!==null&&i!==void 0?i:.5)),v=(a={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(o=(r=this.embossDirection)===null||r===void 0?void 0:r.call(this))!==null&&o!==void 0?o:"top-left"])!==null&&a!==void 0?a:315,y=!!((u=(l=this.embossBlend)===null||l===void 0?void 0:l.call(this))!==null&&u!==void 0&&u),g=m*10,b=p*255,_=v*Math.PI/180,O=Math.cos(_),z=Math.sin(_),B=128/1020*g,A=new Uint8ClampedArray(d),D=new Float32Array(h*f);for(let I=0,q=0;q<d.length;q+=4,I++)D[I]=.2126*A[q]+.7152*A[q+1]+.0722*A[q+2];const W=[-1,0,1,-2,0,2,-1,0,1],H=[-1,-2,-1,0,0,0,1,2,1],C=[-h-1,-h,-h+1,-1,0,1,h-1,h,h+1],Q=I=>I<0?0:I>255?255:I;for(let I=1;I<f-1;I++)for(let q=1;q<h-1;q++){const L=I*h+q;let M=0,R=0;M+=D[L+C[0]]*W[0],R+=D[L+C[0]]*H[0],M+=D[L+C[1]]*W[1],R+=D[L+C[1]]*H[1],M+=D[L+C[2]]*W[2],R+=D[L+C[2]]*H[2],M+=D[L+C[3]]*W[3],R+=D[L+C[3]]*H[3],M+=D[L+C[5]]*W[5],R+=D[L+C[5]]*H[5],M+=D[L+C[6]]*W[6],R+=D[L+C[6]]*H[6],M+=D[L+C[7]]*W[7],R+=D[L+C[7]]*H[7],M+=D[L+C[8]]*W[8],R+=D[L+C[8]]*H[8];const P=O*M+z*R,X=Q(b+P*B),ce=L*4;if(y){const se=X-b;d[ce]=Q(A[ce]+se),d[ce+1]=Q(A[ce+1]+se),d[ce+2]=Q(A[ce+2]+se),d[ce+3]=A[ce+3]}else d[ce]=d[ce+1]=d[ce+2]=X,d[ce+3]=A[ce+3]}for(let I=0;I<h;I++){let q=I*4,L=((f-1)*h+I)*4;d[q]=A[q],d[q+1]=A[q+1],d[q+2]=A[q+2],d[q+3]=A[q+3],d[L]=A[L],d[L+1]=A[L+1],d[L+2]=A[L+2],d[L+3]=A[L+3]}for(let I=1;I<f-1;I++){let q=I*h*4,L=(I*h+(h-1))*4;d[q]=A[q],d[q+1]=A[q+1],d[q+2]=A[q+2],d[q+3]=A[q+3],d[L]=A[L],d[L+1]=A[L+1],d[L+2]=A[L+2],d[L+3]=A[L+3]}return t};k.addGetterSetter(ae,"embossStrength",.5,le(),k.afterSetFilter);k.addGetterSetter(ae,"embossWhiteLevel",.5,le(),k.afterSetFilter);k.addGetterSetter(ae,"embossDirection","top-left",void 0,k.afterSetFilter);k.addGetterSetter(ae,"embossBlend",!1,void 0,k.afterSetFilter);function Oo(t,e,s,n,i){const r=s-e,o=i-n;if(r===0)return n+o/2;if(o===0)return n;let a=(t-e)/r;return a=o*a+n,a}const c9=function(t){const e=t.data,s=e.length;let n=e[0],i=n,r,o=e[1],a=o,l,u=e[2],d=u,h;const f=this.enhance();if(f===0)return;for(let b=0;b<s;b+=4)r=e[b+0],r<n?n=r:r>i&&(i=r),l=e[b+1],l<o?o=l:l>a&&(a=l),h=e[b+2],h<u?u=h:h>d&&(d=h);i===n&&(i=255,n=0),a===o&&(a=255,o=0),d===u&&(d=255,u=0);let m,p,x,v,y,g;if(f>0)m=i+f*(255-i),p=n-f*(n-0),x=a+f*(255-a),v=o-f*(o-0),y=d+f*(255-d),g=u-f*(u-0);else{const b=(i+n)*.5;m=i+f*(i-b),p=n+f*(n-b);const _=(a+o)*.5;x=a+f*(a-_),v=o+f*(o-_);const O=(d+u)*.5;y=d+f*(d-O),g=u+f*(u-O)}for(let b=0;b<s;b+=4)e[b+0]=Oo(e[b+0],n,i,p,m),e[b+1]=Oo(e[b+1],o,a,v,x),e[b+2]=Oo(e[b+2],u,d,g,y)};k.addGetterSetter(ae,"enhance",0,le(),k.afterSetFilter);const d9=function(t){const e=t.data,s=e.length;for(let n=0;n<s;n+=4){const i=.34*e[n]+.5*e[n+1]+.16*e[n+2];e[n]=i,e[n+1]=i,e[n+2]=i}};k.addGetterSetter(ae,"hue",0,le(),k.afterSetFilter);k.addGetterSetter(ae,"saturation",0,le(),k.afterSetFilter);k.addGetterSetter(ae,"luminance",0,le(),k.afterSetFilter);const u9=function(t){const e=t.data,s=e.length,n=1,i=Math.pow(2,this.saturation()),r=Math.abs(this.hue()+360)%360,o=this.luminance()*127,a=n*i*Math.cos(r*Math.PI/180),l=n*i*Math.sin(r*Math.PI/180),u=.299*n+.701*a+.167*l,d=.587*n-.587*a+.33*l,h=.114*n-.114*a-.497*l,f=.299*n-.299*a-.328*l,m=.587*n+.413*a+.035*l,p=.114*n-.114*a+.293*l,x=.299*n-.3*a+1.25*l,v=.587*n-.586*a-1.05*l,y=.114*n+.886*a-.2*l;let g,b,_,O;for(let z=0;z<s;z+=4)g=e[z+0],b=e[z+1],_=e[z+2],O=e[z+3],e[z+0]=u*g+d*b+h*_+o,e[z+1]=f*g+m*b+p*_+o,e[z+2]=x*g+v*b+y*_+o,e[z+3]=O},h9=function(t){const e=t.data,s=e.length,n=Math.pow(2,this.value()),i=Math.pow(2,this.saturation()),r=Math.abs(this.hue()+360)%360,o=n*i*Math.cos(r*Math.PI/180),a=n*i*Math.sin(r*Math.PI/180),l=.299*n+.701*o+.167*a,u=.587*n-.587*o+.33*a,d=.114*n-.114*o-.497*a,h=.299*n-.299*o-.328*a,f=.587*n+.413*o+.035*a,m=.114*n-.114*o+.293*a,p=.299*n-.3*o+1.25*a,x=.587*n-.586*o-1.05*a,v=.114*n+.886*o-.2*a;for(let y=0;y<s;y+=4){const g=e[y+0],b=e[y+1],_=e[y+2],O=e[y+3];e[y+0]=l*g+u*b+d*_,e[y+1]=h*g+f*b+m*_,e[y+2]=p*g+x*b+v*_,e[y+3]=O}};k.addGetterSetter(ae,"hue",0,le(),k.afterSetFilter);k.addGetterSetter(ae,"saturation",0,le(),k.afterSetFilter);k.addGetterSetter(ae,"value",0,le(),k.afterSetFilter);const f9=function(t){const e=t.data,s=e.length;for(let n=0;n<s;n+=4)e[n]=255-e[n],e[n+1]=255-e[n+1],e[n+2]=255-e[n+2]},p9=function(t,e,s){const n=t.data,i=e.data,r=t.width,o=t.height,a=s.polarCenterX||r/2,l=s.polarCenterY||o/2;let u=Math.sqrt(a*a+l*l),d=r-a,h=o-l;const f=Math.sqrt(d*d+h*h);u=f>u?f:u;const m=o,p=r,x=360/p*Math.PI/180;for(let v=0;v<p;v+=1){const y=Math.sin(v*x),g=Math.cos(v*x);for(let b=0;b<m;b+=1){d=Math.floor(a+u*b/m*g),h=Math.floor(l+u*b/m*y);let _=(h*r+d)*4;const O=n[_+0],z=n[_+1],B=n[_+2],A=n[_+3];_=(v+b*r)*4,i[_+0]=O,i[_+1]=z,i[_+2]=B,i[_+3]=A}}},m9=function(t,e,s){const n=t.data,i=e.data,r=t.width,o=t.height,a=s.polarCenterX||r/2,l=s.polarCenterY||o/2;let u=Math.sqrt(a*a+l*l),d=r-a,h=o-l;const f=Math.sqrt(d*d+h*h);u=f>u?f:u;const m=o,p=r,x=0;let v,y;for(d=0;d<r;d+=1)for(h=0;h<o;h+=1){const g=d-a,b=h-l,_=Math.sqrt(g*g+b*b)*m/u;let O=(Math.atan2(b,g)*180/Math.PI+360+x)%360;O=O*p/360,v=Math.floor(O),y=Math.floor(_);let z=(y*r+v)*4;const B=n[z+0],A=n[z+1],D=n[z+2],W=n[z+3];z=(h*r+d)*4,i[z+0]=B,i[z+1]=A,i[z+2]=D,i[z+3]=W}},g9=function(t){const e=t.width,s=t.height;let n,i,r,o,a,l,u,d,h,f,m=Math.round(this.kaleidoscopePower());const p=Math.round(this.kaleidoscopeAngle()),x=Math.floor(e*(p%360)/360);if(m<1)return;const v=j.createCanvasElement();v.width=e,v.height=s;const y=v.getContext("2d").getImageData(0,0,e,s);j.releaseCanvas(v),p9(t,y,{polarCenterX:e/2,polarCenterY:s/2});let g=e/Math.pow(2,m);for(;g<=8;)g=g*2,m-=1;g=Math.ceil(g);let b=g,_=0,O=b,z=1;for(x+g>e&&(_=b,O=0,z=-1),i=0;i<s;i+=1)for(n=_;n!==O;n+=z)r=Math.round(n+x)%e,h=(e*i+r)*4,a=y.data[h+0],l=y.data[h+1],u=y.data[h+2],d=y.data[h+3],f=(e*i+n)*4,y.data[f+0]=a,y.data[f+1]=l,y.data[f+2]=u,y.data[f+3]=d;for(i=0;i<s;i+=1)for(b=Math.floor(g),o=0;o<m;o+=1){for(n=0;n<b+1;n+=1)h=(e*i+n)*4,a=y.data[h+0],l=y.data[h+1],u=y.data[h+2],d=y.data[h+3],f=(e*i+b*2-n-1)*4,y.data[f+0]=a,y.data[f+1]=l,y.data[f+2]=u,y.data[f+3]=d;b*=2}m9(y,t,{})};k.addGetterSetter(ae,"kaleidoscopePower",2,le(),k.afterSetFilter);k.addGetterSetter(ae,"kaleidoscopeAngle",0,le(),k.afterSetFilter);function tr(t,e,s){let n=(s*t.width+e)*4;const i=[];return i.push(t.data[n++],t.data[n++],t.data[n++],t.data[n++]),i}function Kn(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function b9(t){const e=[0,0,0];for(let s=0;s<t.length;s++)e[0]+=t[s][0],e[1]+=t[s][1],e[2]+=t[s][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function v9(t,e){const s=tr(t,0,0),n=tr(t,t.width-1,0),i=tr(t,0,t.height-1),r=tr(t,t.width-1,t.height-1),o=e||10;if(Kn(s,n)<o&&Kn(n,r)<o&&Kn(r,i)<o&&Kn(i,s)<o){const a=b9([n,s,r,i]),l=[];for(let u=0;u<t.width*t.height;u++){const d=Kn(a,[t.data[u*4],t.data[u*4+1],t.data[u*4+2]]);l[u]=d<o?0:255}return l}}function y9(t,e){for(let s=0;s<t.width*t.height;s++)t.data[4*s+3]=e[s]}function x9(t,e,s){const n=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(n.length)),r=Math.floor(i/2),o=[];for(let a=0;a<s;a++)for(let l=0;l<e;l++){const u=a*e+l;let d=0;for(let h=0;h<i;h++)for(let f=0;f<i;f++){const m=a+h-r,p=l+f-r;if(m>=0&&m<s&&p>=0&&p<e){const x=m*e+p,v=n[h*i+f];d+=t[x]*v}}o[u]=d===255*8?255:0}return o}function _9(t,e,s){const n=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(n.length)),r=Math.floor(i/2),o=[];for(let a=0;a<s;a++)for(let l=0;l<e;l++){const u=a*e+l;let d=0;for(let h=0;h<i;h++)for(let f=0;f<i;f++){const m=a+h-r,p=l+f-r;if(m>=0&&m<s&&p>=0&&p<e){const x=m*e+p,v=n[h*i+f];d+=t[x]*v}}o[u]=d>=255*4?255:0}return o}function w9(t,e,s){const n=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],i=Math.round(Math.sqrt(n.length)),r=Math.floor(i/2),o=[];for(let a=0;a<s;a++)for(let l=0;l<e;l++){const u=a*e+l;let d=0;for(let h=0;h<i;h++)for(let f=0;f<i;f++){const m=a+h-r,p=l+f-r;if(m>=0&&m<s&&p>=0&&p<e){const x=m*e+p,v=n[h*i+f];d+=t[x]*v}}o[u]=d}return o}const C9=function(t){const e=this.threshold();let s=v9(t,e);return s&&(s=x9(s,t.width,t.height),s=_9(s,t.width,t.height),s=w9(s,t.width,t.height),y9(t,s)),t};k.addGetterSetter(ae,"threshold",0,le(),k.afterSetFilter);const k9=function(t){const e=this.noise()*255,s=t.data,n=s.length,i=e/2;for(let r=0;r<n;r+=4)s[r+0]+=i-2*i*Math.random(),s[r+1]+=i-2*i*Math.random(),s[r+2]+=i-2*i*Math.random()};k.addGetterSetter(ae,"noise",.2,le(),k.afterSetFilter);const S9=function(t){let e=Math.ceil(this.pixelSize()),s=t.width,n=t.height,i=Math.ceil(s/e),r=Math.ceil(n/e),o=t.data;if(e<=0){j.error("pixelSize value can not be <= 0");return}for(let a=0;a<i;a+=1)for(let l=0;l<r;l+=1){let u=0,d=0,h=0,f=0;const m=a*e,p=m+e,x=l*e,v=x+e;let y=0;for(let g=m;g<p;g+=1)if(!(g>=s))for(let b=x;b<v;b+=1){if(b>=n)continue;const _=(s*b+g)*4;u+=o[_+0],d+=o[_+1],h+=o[_+2],f+=o[_+3],y+=1}u=u/y,d=d/y,h=h/y,f=f/y;for(let g=m;g<p;g+=1)if(!(g>=s))for(let b=x;b<v;b+=1){if(b>=n)continue;const _=(s*b+g)*4;o[_+0]=u,o[_+1]=d,o[_+2]=h,o[_+3]=f}}};k.addGetterSetter(ae,"pixelSize",8,le(),k.afterSetFilter);const E9=function(t){const e=Math.round(this.levels()*254)+1,s=t.data,n=s.length,i=255/e;for(let r=0;r<n;r+=1)s[r]=Math.floor(s[r]/i)*i};k.addGetterSetter(ae,"levels",.5,le(),k.afterSetFilter);const A9=function(t){const e=t.data,s=e.length,n=this.red(),i=this.green(),r=this.blue();for(let o=0;o<s;o+=4){const a=(.34*e[o]+.5*e[o+1]+.16*e[o+2])/255;e[o]=a*n,e[o+1]=a*i,e[o+2]=a*r,e[o+3]=e[o+3]}};k.addGetterSetter(ae,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});k.addGetterSetter(ae,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});k.addGetterSetter(ae,"blue",0,Ih,k.afterSetFilter);const P9=function(t){const e=t.data,s=e.length,n=this.red(),i=this.green(),r=this.blue(),o=this.alpha();for(let a=0;a<s;a+=4){const l=1-o;e[a]=n*o+e[a]*l,e[a+1]=i*o+e[a+1]*l,e[a+2]=r*o+e[a+2]*l}};k.addGetterSetter(ae,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});k.addGetterSetter(ae,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});k.addGetterSetter(ae,"blue",0,Ih,k.afterSetFilter);k.addGetterSetter(ae,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});const T9=function(t){const e=t.data,s=e.length;for(let n=0;n<s;n+=4){const i=e[n+0],r=e[n+1],o=e[n+2];e[n+0]=Math.min(255,i*.393+r*.769+o*.189),e[n+1]=Math.min(255,i*.349+r*.686+o*.168),e[n+2]=Math.min(255,i*.272+r*.534+o*.131)}},R9=function(t){const s=t.data;for(let n=0;n<s.length;n+=4){const i=s[n],r=s[n+1],o=s[n+2];.2126*i+.7152*r+.0722*o>=128&&(s[n]=255-i,s[n+1]=255-r,s[n+2]=255-o)}return t},M9=function(t){const e=this.threshold()*255,s=t.data,n=s.length;for(let i=0;i<n;i+=1)s[i]=s[i]<e?0:255};k.addGetterSetter(ae,"threshold",.5,le(),k.afterSetFilter);const Jn=Gc.Util._assign(Gc,{Arc:Cs,Arrow:pn,Circle:Fn,Ellipse:Us,Image:Kt,Label:Wa,Tag:mn,Line:ks,Path:Xe,Rect:Bi,RegularPolygon:Vs,Ring:gn,Sprite:ls,Star:Ws,Text:Je,TextPath:lt,Transformer:Me,Wedge:Ss,Filters:{Blur:i9,Brightness:o9,Brighten:r9,Contrast:a9,Emboss:l9,Enhance:c9,Grayscale:d9,HSL:u9,HSV:h9,Invert:f9,Kaleidoscope:g9,Mask:C9,Noise:k9,Pixelate:S9,Posterize:E9,RGB:A9,RGBA:P9,Sepia:T9,Solarize:R9,Threshold:M9}}),d0=Ke.create({baseURL:"https://asdasd.vercel.app/api",timeout:3e4,headers:{"Content-Type":"application/json"}}),I9=t=>new Promise((e,s)=>{const n=new FileReader;n.readAsDataURL(t),n.onload=()=>e(n.result),n.onerror=i=>s(i)}),qa=(t,e="image/png",s=.9)=>t.toDataURL(e,s),O9=(t,e)=>new Promise(s=>{const n=document.createElement("canvas"),i=n.getContext("2d");n.width=e.width,n.height=e.height,i.fillStyle="black",i.fillRect(0,0,n.width,n.height),i.fillStyle="white",i.fillRect(t.x,t.y,t.width,t.height),s(qa(n))}),L9=(t,e=512,s=512)=>new Promise(n=>{const i=new Image;i.onload=()=>{const r=document.createElement("canvas"),o=r.getContext("2d");let{width:a,height:l}=i;a>l?a>e&&(l=l*e/a,a=e):l>s&&(a=a*s/l,l=s),r.width=a,r.height=l,o.drawImage(i,0,0,a,l),n(qa(r))},i.src=t}),$9=async t=>{var e,s,n,i,r,o,a;try{console.log("Enviando solicitud de generacin de imagen...",{mueble_id:t.mueble_id,prompt:t.prompt,room_image_size:((e=t.room_image)==null?void 0:e.length)||0,mask_image_size:((s=t.mask_image)==null?void 0:s.length)||0,furniture_image_size:((n=t.furniture_image)==null?void 0:n.length)||0});const l=await nt.post("/analisis-espacio/generar-furniture",{room_image:t.room_image,mask_image:t.mask_image,furniture_image:t.furniture_image,mueble_id:t.mueble_id,prompt:t.prompt||""});return console.log("Respuesta de generacin recibida:",{success:l.data.success,hasImages:!!((i=l.data.data)!=null&&i.generated_images),imageCount:((o=(r=l.data.data)==null?void 0:r.generated_images)==null?void 0:o.length)||0}),l.data.success&&((a=l.data.data)!=null&&a.generated_images)&&(l.data.data.images=l.data.data.generated_images),l.data}catch(l){if(console.error("Error al generar imagen con IA:",l),l.response){const{status:u,data:d}=l.response;switch(u){case 400:throw new Error(d.message||"Error en los datos enviados");case 401:throw new Error("No autorizado. Por favor, inicia sesin nuevamente");case 503:throw new Error("Servicio de IA temporalmente no disponible. Intenta ms tarde");case 500:throw new Error("Error interno del servidor. Intenta ms tarde");default:throw new Error(d.message||"Error desconocido")}}else throw l.request?new Error("No se pudo conectar con el servidor. Verifica tu conexin"):new Error("Error al procesar la solicitud")}},D9=async t=>{var e;try{console.log(" Enviando solicitud de generacin con archivos...");const s=await d0.post("/analisis-espacio/generate",t,{headers:{"Content-Type":"multipart/form-data"},timeout:6e4});return s.data.success?{success:!0,image:s.data.image,message:"Anlisis completado exitosamente"}:(console.error(" Error en la respuesta:",s.data.error),{success:!1,error:s.data.error||"Error al generar la imagen"})}catch(s){return console.error(" Error en generateWithFiles:",s),s.response?{success:!1,error:((e=s.response.data)==null?void 0:e.error)||"Error del servidor"}:s.request?{success:!1,error:"No se pudo conectar con el servidor"}:{success:!1,error:"Error inesperado"}}},N9=async(t={})=>{var e,s,n,i;try{const{categoria:r,limit:o=50,offset:a=0}=t,l=new URLSearchParams({limit:o.toString(),offset:a.toString()});r&&l.append("categoria",r),console.log("Obteniendo catlogo de muebles...",{categoria:r,limit:o,offset:a});const u=await d0.get(`/analisis-espacio/muebles?${l}`);return console.log("Catlogo obtenido:",{total:((s=(e=u.data.data)==null?void 0:e.muebles)==null?void 0:s.length)||0,categorias:((i=(n=u.data.data)==null?void 0:n.categorias_disponibles)==null?void 0:i.length)||0}),u.data}catch(r){if(console.error("Error al obtener catlogo de muebles:",r),r.response){const{status:o,data:a}=r.response;throw new Error(a.message||`Error ${o}: No se pudo obtener el catlogo`)}else throw r.request?new Error("No se pudo conectar con el servidor"):new Error("Error al procesar la solicitud")}},B9=async(t={})=>{var e,s;try{const{limit:n=20,offset:i=0}=t,r=new URLSearchParams({limit:n.toString(),offset:i.toString()});console.log("Obteniendo historial de anlisis...",{limit:n,offset:i});const o=await nt.get(`/analisis-espacio/historial?${r}`);return console.log("Historial obtenido:",{total:((s=(e=o.data.data)==null?void 0:e.analisis)==null?void 0:s.length)||0}),o.data}catch(n){if(console.error("Error al obtener historial de anlisis:",n),n.response){const{status:i,data:r}=n.response;throw new Error(r.message||`Error ${i}: No se pudo obtener el historial`)}else throw n.request?new Error("No se pudo conectar con el servidor"):new Error("Error al procesar la solicitud")}},j9=(t,e=10*1024*1024)=>t?t.type.startsWith("image/")?t.size>e?{valid:!1,error:`El archivo no puede ser mayor a ${e/1048576}MB`}:{valid:!0}:{valid:!1,error:"El archivo debe ser una imagen"}:{valid:!1,error:"No se ha seleccionado ningn archivo"},F9=(t,e)=>{if(!t||typeof t!="object")return{valid:!1,error:"Rectngulo de seleccin invlido"};const{x:s,y:n,width:i,height:r}=t;return typeof s!="number"||typeof n!="number"||typeof i!="number"||typeof r!="number"?{valid:!1,error:"Las coordenadas del rectngulo deben ser nmeros"}:i<=0||r<=0?{valid:!1,error:"El rectngulo debe tener dimensiones positivas"}:s<0||n<0||s+i>e.width||n+r>e.height?{valid:!1,error:"El rectngulo est fuera de los lmites de la imagen"}:i<50||r<50?{valid:!1,error:"El rea seleccionada debe ser de al menos 50x50 pxeles"}:{valid:!0}},G9={MAX_DIMENSION:512,NUM_INFERENCE_STEPS:20,MARGIN:64,CROP:!0,NUM_IMAGES_PER_PROMPT:1,MODEL_TYPE:"schnell"},z9=["sofas","mesas","sillas","camas","armarios","estanterias"],H9=["image/jpeg","image/jpg","image/png","image/webp"],Js={generarImagenConIA:$9,generateWithFiles:D9,obtenerCatalogoMuebles:N9,obtenerHistorialAnalisis:B9,fileToBase64:I9,canvasToBase64:qa,createMaskFromRect:O9,resizeImage:L9,validarImagenArchivo:j9,validarRectanguloSeleccion:F9,CONFIGURACION_IA:G9,CATEGORIAS_MUEBLES:z9,FORMATOS_IMAGEN_SOPORTADOS:H9},U9={class:"container-custom section-padding"},V9={class:"mb-8"},W9={class:"flex items-center justify-center space-x-4 mb-6"},q9={class:"flex items-center"},X9={class:"flex items-center"},Y9={class:"flex items-center"},K9={class:"flex items-center"},J9={class:"card"},Z9={class:"card-body"},Q9={key:0,class:"text-center"},ex={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 mb-4"},tx={key:1,class:"relative"},sx=["src"],nx={class:"flex justify-center space-x-4"},ix=["disabled"],rx={key:1,class:"text-center"},ox={class:"mb-4 flex justify-center items-center space-x-4"},ax={class:"flex space-x-2 mr-4"},lx={class:"text-sm text-gray-600"},cx={class:"mb-4"},dx={class:"flex justify-center space-x-4"},ux=["disabled"],hx={key:2,class:"text-center"},fx={class:"mb-8"},px={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},mx=["onClick"],gx={class:"aspect-square mb-2 bg-gray-100 rounded overflow-hidden flex items-center justify-center"},bx=["src","alt"],vx={class:"text-sm font-medium text-center text-gray-700"},yx={class:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200"},xx={class:"flex flex-col items-center space-y-3"},_x={key:0,class:"mt-3"},wx=["src"],Cx={class:"flex justify-center space-x-4"},kx=["disabled"],Sx={key:3,class:"text-center"},Ex={key:0,class:"text-center py-12"},Ax={key:1,class:"text-center"},Px={class:"mb-6"},Tx=["src"],Rx={key:2,class:"text-center py-12"},Mx={class:"text-gray-600 mb-4"},Ix={key:4,class:"mt-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded"},Ox={key:5,class:"mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded"},Lx={__name:"AnalisisEspacioView",setup(t){const e=yt(),s=ie(1),n=ie(null),i=ie(!1),r=ie(!1),o=ie(null),a=ie(""),l=ie(null),u=He({roomImage:null,roomImageFile:null,selectedMueble:null,resultImage:null,hasSelection:!1,customFurnitureImage:null,customFurnitureFile:null}),d=He({stage:null,layer:null,imageNode:null,rect:null,transformer:null,brushMode:!0,brushSize:20,tool:"brush",maskLayer:null,maskCanvas:null,maskContext:null,isDrawing:!1,lastPointerPosition:null}),h=()=>{s.value<4&&(s.value++,s.value===2?Nn(()=>y()):s.value===4&&A())},f=()=>{s.value>1&&s.value--},m=()=>{s.value=1,u.roomImage=null,u.roomImageFile=null,u.selectedMueble=null,u.resultImage=null,u.hasSelection=!1,u.customFurnitureImage=null,u.customFurnitureFile=null,o.value="",a.value="",d.stage&&(d.stage.destroy(),d.stage=null)},p=async L=>{const M=L.target.files[0];if(!M)return;const R=Js.validarImagenArchivo(M);if(!R.valid){e.error(R.error);return}try{i.value=!0;const P=await Js.fileToBase64(M),X=await Js.resizeImage(P,512,512);u.roomImage=X,u.roomImageFile=M,i.value=!1,a.value="Imagen cargada correctamente",setTimeout(()=>a.value="",3e3)}catch(P){e.error("Error al cargar la imagen"),i.value=!1,console.error("Error uploading room image:",P)}},x=async L=>{const M=L.target.files[0];if(!M)return;const R=Js.validarImagenArchivo(M);if(!R.valid){e.error(R.error);return}try{i.value=!0;const P=await Js.fileToBase64(M),X=await Js.resizeImage(P,512,512);u.customFurnitureImage=X,u.customFurnitureFile=M,u.selectedMueble=null,i.value=!1,a.value="Imagen de mueble personalizada cargada correctamente",setTimeout(()=>a.value="",3e3)}catch(P){e.error("Error al cargar la imagen del mueble"),i.value=!1,console.error("Error uploading custom furniture image:",P)}},v=()=>{u.customFurnitureImage=null,u.customFurnitureFile=null,a.value="Imagen personalizada eliminada",setTimeout(()=>a.value="",3e3)},y=()=>{if(!l.value||!u.roomImage)return;const L=l.value.offsetWidth,M=500;d.stage=new Jn.Stage({container:l.value,width:L,height:M}),d.layer=new Jn.Layer,d.stage.add(d.layer);const R=new Image;R.onload=()=>{const P=Math.min(L/R.width,M/R.height),X=R.width*P,ce=R.height*P;d.stage.width(X),d.stage.height(ce),d.imageNode=new Jn.Image({x:0,y:0,image:R,width:X,height:ce}),d.layer.add(d.imageNode),d.layer.draw(),g()},R.src=u.roomImage},g=()=>{d.stage&&(d.maskCanvas=document.createElement("canvas"),d.maskCanvas.width=d.stage.width(),d.maskCanvas.height=d.stage.height(),d.maskContext=d.maskCanvas.getContext("2d"),d.maskContext.lineCap="round",d.maskContext.lineJoin="round",d.maskLayer&&d.maskLayer.destroy(),d.maskLayer=new Jn.Layer,d.stage.add(d.maskLayer),d.stage.on("mousedown touchstart",b),d.stage.on("mousemove touchmove",_),d.stage.on("mouseup touchend",O))},b=L=>{if(!d.brushMode)return;d.isDrawing=!0;const M=d.stage.getPointerPosition();d.lastPointerPosition=M,z(M,M)},_=L=>{if(!d.brushMode||!d.isDrawing)return;const M=d.stage.getPointerPosition();d.lastPointerPosition&&z(d.lastPointerPosition,M),d.lastPointerPosition=M},O=()=>{d.brushMode&&(d.isDrawing=!1,d.lastPointerPosition=null,u.hasSelection=!0)},z=(L,M)=>{d.maskContext.globalCompositeOperation=d.tool==="eraser"?"destination-out":"source-over",d.maskContext.strokeStyle="rgba(255,255,255,1)",d.maskContext.lineWidth=d.brushSize,d.maskContext.lineCap="round",d.maskContext.lineJoin="round",d.maskContext.beginPath(),d.maskContext.moveTo(L.x,L.y),d.maskContext.lineTo(M.x,M.y),d.maskContext.stroke();const R=new Jn.Line({points:[L.x,L.y,M.x,M.y],stroke:"rgba(124, 58, 237, 0.6)",strokeWidth:d.brushSize,lineCap:"round",lineJoin:"round"});d.maskLayer.add(R),d.maskLayer.draw(),u.hasSelection=!0},B=()=>{d.maskLayer&&(d.maskLayer.destroy(),d.maskLayer=null),d.maskCanvas&&d.maskContext&&d.maskContext.clearRect(0,0,d.maskCanvas.width,d.maskCanvas.height),u.hasSelection=!1},A=async()=>{if(!u.roomImage||!u.selectedMueble&&!u.customFurnitureImage||!d.maskCanvas){o.value="Faltan datos para generar el anlisis. Asegrate de subir una imagen de habitacin, seleccionar un mueble y pintar el rea donde quieres colocarlo.";return}r.value=!0,o.value=null;try{const L=await D();console.log(" Debug - Mscara generada:",{canvasWidth:d.maskCanvas.width,canvasHeight:d.maskCanvas.height,blobSize:L.size,blobType:L.type});const M=await W(u.roomImage,"room.png"),R=new File([L],"mask.png",{type:"image/png"});console.log(" Debug - Archivos creados:",{roomFile:{name:M.name,size:M.size,type:M.type},maskFile:{name:R.name,size:R.size,type:R.type}});let P;u.customFurnitureImage?P=u.customFurnitureFile:u.selectedMueble.imagen.startsWith("data:")?P=await W(u.selectedMueble.imagen,"furniture.png"):P=await H(u.selectedMueble.imagen,"furniture.png"),console.log(" Debug - Archivo de mueble:",{furnitureFile:{name:P.name,size:P.size,type:P.type}});const X=new FormData;X.append("room",M),X.append("furniture",P),X.append("mask",R),X.append("prompt",""),X.append("seed","0"),X.append("num_inference_steps","20"),X.append("max_dimension","512"),X.append("margin","64"),X.append("crop","true"),X.append("num_images_per_prompt","1"),X.append("model_type","dev"),console.log(" Debug - FormData creado:",{entries:Array.from(X.entries()).map(([se,N])=>[se,N instanceof File?`File(${N.name}, ${N.size}b, ${N.type})`:N])});const ce=await Js.generateWithFiles(X);if(ce.success)u.resultImage=ce.image,e.success("Anlisis completado exitosamente!");else throw new Error(ce.error||"Error al generar la imagen")}catch(L){o.value=L.message,e.error("Error al generar el anlisis"),console.error(L)}finally{r.value=!1}},D=()=>new Promise(L=>{const M=document.createElement("canvas");M.width=d.maskCanvas.width,M.height=d.maskCanvas.height;const R=M.getContext("2d");R.clearRect(0,0,M.width,M.height),R.drawImage(d.maskCanvas,0,0),M.toBlob(P=>L(P),"image/png",1)}),W=async(L,M)=>{const P=await(await fetch(L)).blob();return new File([P],M,{type:P.type})},H=async(L,M)=>{const P=await(await fetch(L)).blob();return new File([P],M,{type:P.type})},C=()=>{o.value=null,A()},Q=async()=>{if(u.resultImage)try{if(u.resultImage.startsWith("http")){const M=await(await fetch(u.resultImage)).blob(),R=window.URL.createObjectURL(M),P=document.createElement("a");P.href=R,P.download="analisis-espacio-ia.png",document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(R)}else{const L=document.createElement("a");L.download="analisis-espacio-ia.png",L.href=u.resultImage,document.body.appendChild(L),L.click(),document.body.removeChild(L)}}catch(L){console.error("Error al descargar la imagen:",L),e.error("Error al descargar la imagen")}},I=L=>{u.selectedMueble=L,u.customFurnitureImage=null,u.customFurnitureFile=null,a.value=`Mueble "${L.nombre}" seleccionado`,setTimeout(()=>a.value="",3e3)},q=[{id:"ex1",nombre:"Closet Moderno",imagen:"/images/ejemplos/closet1.jpg"},{id:"ex2",nombre:"Closet Clsico",imagen:"/images/ejemplos/closet2.jpg"},{id:"ex3",nombre:"Mueble bajo de cocina",imagen:"/images/ejemplos/cocina1.jpg"},{id:"ex4",nombre:"Alacena de cocina",imagen:"/images/ejemplos/cocina2.jpeg"}];return $t(()=>{}),Nr(()=>{d.stage&&(d.stage.off("mousedown touchstart"),d.stage.off("mousemove touchmove"),d.stage.off("mouseup touchend"),d.stage.destroy()),d.maskCanvas&&(d.maskCanvas=null,d.maskContext=null)}),(L,M)=>(w(),E("div",U9,[M[29]||(M[29]=c("div",{class:"mb-8"},[c("h1",{class:"text-3xl font-bold text-gray-900"}," Anlisis de espacio con IA "),c("p",{class:"mt-2 text-gray-600"}," Sube una imagen de tu habitacin, selecciona un rea y elige un mueble para ver cmo quedara con IA ")],-1)),c("div",V9,[c("div",W9,[c("div",q9,[c("div",{class:re(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",[s.value>=1?"bg-red-600 text-white":"bg-gray-200 text-gray-600"]])}," 1 ",2),M[7]||(M[7]=c("span",{class:"ml-2 text-sm font-medium text-gray-900"},"Subir imagen",-1))]),M[11]||(M[11]=c("div",{class:"w-8 h-0.5 bg-gray-200"},null,-1)),c("div",X9,[c("div",{class:re(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",[s.value>=2?"bg-red-600 text-white":"bg-gray-200 text-gray-600"]])}," 2 ",2),M[8]||(M[8]=c("span",{class:"ml-2 text-sm font-medium text-gray-900"},"Seleccionar rea",-1))]),M[12]||(M[12]=c("div",{class:"w-8 h-0.5 bg-gray-200"},null,-1)),c("div",Y9,[c("div",{class:re(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",[s.value>=3?"bg-red-600 text-white":"bg-gray-200 text-gray-600"]])}," 3 ",2),M[9]||(M[9]=c("span",{class:"ml-2 text-sm font-medium text-gray-900"},"Elegir mueble",-1))]),M[13]||(M[13]=c("div",{class:"w-8 h-0.5 bg-gray-200"},null,-1)),c("div",K9,[c("div",{class:re(["w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium",[s.value>=4?"bg-red-600 text-white":"bg-gray-200 text-gray-600"]])}," 4 ",2),M[10]||(M[10]=c("span",{class:"ml-2 text-sm font-medium text-gray-900"},"Resultado",-1))])])]),c("div",J9,[c("div",Z9,[s.value===1?(w(),E("div",Q9,[M[16]||(M[16]=c("h2",{class:"text-xl font-semibold mb-4"}," Sube una imagen de tu habitacin ",-1)),c("div",ex,[c("input",{ref_key:"roomImageInput",ref:n,type:"file",accept:"image/*",class:"hidden",onChange:p},null,544),u.roomImage?(w(),E("div",tx,[c("img",{src:u.roomImage,alt:"Habitacin",class:"max-w-full h-auto rounded"},null,8,sx),c("button",{class:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1",onClick:M[1]||(M[1]=R=>u.roomImage=null)},[...M[15]||(M[15]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):(w(),E("div",{key:0,class:"cursor-pointer",onClick:M[0]||(M[0]=R=>L.$refs.roomImageInput.click())},[...M[14]||(M[14]=[c("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[c("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),c("p",{class:"mt-2 text-sm text-gray-600"}," Haz clic para subir una imagen ",-1)])]))]),c("div",nx,[c("button",{disabled:!u.roomImage||i.value,class:"btn-primary",onClick:h}," Continuar ",8,ix)])])):s.value===2?(w(),E("div",rx,[M[18]||(M[18]=c("h2",{class:"text-xl font-semibold mb-4"}," Pinta el rea donde quieres colocar el mueble ",-1)),c("div",ox,[c("div",ax,[c("button",{class:re(["px-3 py-1 rounded text-sm",[d.tool==="brush"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]]),onClick:M[2]||(M[2]=R=>d.tool="brush")}," Pincel ",2),c("button",{class:re(["px-3 py-1 rounded text-sm",[d.tool==="eraser"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"]]),onClick:M[3]||(M[3]=R=>d.tool="eraser")}," Borrador ",2)]),M[17]||(M[17]=c("label",{class:"text-sm font-medium text-gray-700"},"Tamao:",-1)),Pe(c("input",{"onUpdate:modelValue":M[4]||(M[4]=R=>d.brushSize=R),type:"range",min:"5",max:"50",class:"w-32"},null,512),[[Ze,d.brushSize]]),c("span",lx,F(d.brushSize)+"px",1),c("button",{class:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 text-sm",onClick:B}," Limpiar ")]),c("div",cx,[c("div",{ref_key:"konvaContainer",ref:l,class:"border rounded-lg mx-auto",style:{"max-width":"600px"}},null,512)]),c("div",dx,[c("button",{class:"btn-secondary",onClick:f},"Atrs"),c("button",{disabled:!u.hasSelection,class:"btn-primary",onClick:h}," Continuar ",8,ux)])])):s.value===3?(w(),E("div",hx,[M[23]||(M[23]=c("h2",{class:"text-xl font-semibold mb-4"}," Elige el mueble que quieres colocar ",-1)),c("div",fx,[M[19]||(M[19]=c("h3",{class:"text-lg font-medium text-gray-700 mb-4"}," Muebles de ejemplo ",-1)),c("div",px,[(w(),E(we,null,Le(q,R=>{var P;return c("div",{key:R.id,class:re(["cursor-pointer border-2 rounded-lg p-2 transition-all hover:shadow-md",[((P=u.selectedMueble)==null?void 0:P.id)===R.id?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-purple-300"]]),onClick:X=>I(R)},[c("div",gx,[c("img",{src:R.imagen,alt:R.nombre,class:"w-full h-full object-contain",onError:M[5]||(M[5]=X=>X.target.src="https://placehold.co/200x200?text=No+Image")},null,40,bx)]),c("p",vx,F(R.nombre),1)],10,mx)}),64))])]),M[24]||(M[24]=c("div",{class:"relative flex items-center justify-center mb-8"},[c("hr",{class:"w-full border-gray-300"}),c("span",{class:"absolute bg-white px-4 text-gray-500 text-sm"},"O tambin puedes")],-1)),c("div",yx,[M[22]||(M[22]=c("h3",{class:"text-lg font-medium text-blue-800 mb-3"}," Tienes tu propia imagen de mueble? ",-1)),c("div",xx,[c("input",{ref:"customFurnitureInput",type:"file",accept:"image/*",class:"hidden",onChange:x},null,544),c("button",{class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",onClick:M[6]||(M[6]=R=>L.$refs.customFurnitureInput.click())},"  Subir mi propia imagen de mueble "),M[21]||(M[21]=c("p",{class:"text-sm text-blue-600"}," Sube una imagen de tu mueble personalizado ",-1)),u.customFurnitureImage?(w(),E("div",_x,[c("img",{src:u.customFurnitureImage,alt:"Mueble personalizado",class:"w-32 h-32 object-cover rounded-lg border-2 border-blue-300"},null,8,wx),M[20]||(M[20]=c("p",{class:"text-sm text-green-600 mt-1"},"  Imagen personalizada cargada ",-1)),c("button",{class:"text-red-600 hover:text-red-800 text-sm mt-1",onClick:v},"  Eliminar imagen personalizada ")])):Z("",!0)])]),c("div",Cx,[c("button",{class:"btn-secondary",onClick:f},"Atrs"),c("button",{disabled:!u.selectedMueble&&!u.customFurnitureImage,class:"btn-primary",onClick:h}," Generar anlisis ",8,kx)])])):s.value===4?(w(),E("div",Sx,[M[28]||(M[28]=c("h2",{class:"text-xl font-semibold mb-4"},"Resultado del anlisis",-1)),r.value?(w(),E("div",Ex,[...M[25]||(M[25]=[c("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"},null,-1),c("p",{class:"mt-4 text-lg font-medium text-gray-900"}," Generando imagen con IA... ",-1),c("p",{class:"text-gray-600"},"Esto puede tomar unos momentos",-1)])])):u.resultImage?(w(),E("div",Ax,[c("div",Px,[c("img",{src:u.resultImage,alt:"Resultado del anlisis",class:"max-w-full h-auto rounded-lg shadow-lg mx-auto"},null,8,Tx)]),c("div",{class:"flex justify-center space-x-4"},[c("button",{class:"btn-primary",onClick:Q}," Descargar resultado "),c("button",{class:"btn-secondary",onClick:m}," Nuevo anlisis ")])])):o.value?(w(),E("div",Rx,[M[26]||(M[26]=c("div",{class:"text-red-600 mb-4"},[c("svg",{class:"mx-auto h-12 w-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.876c1.07 0 1.96-.867 2.01-1.936a2.016 2.016 0 00-.396-1.423L12.283 3.358a2.015 2.015 0 00-3.566 0L1.447 17.641a2.016 2.016 0 00-.396 1.423c.05 1.069.94 1.936 2.01 1.936z"})])],-1)),M[27]||(M[27]=c("p",{class:"text-lg font-medium text-gray-900 mb-2"}," Error al procesar la imagen ",-1)),c("p",Mx,F(o.value),1),c("button",{class:"btn-primary",onClick:C}," Intentar de nuevo ")])):Z("",!0)])):Z("",!0),a.value?(w(),E("div",Ix,F(a.value),1)):Z("",!0),o.value&&s.value!==4?(w(),E("div",Ox,F(o.value),1)):Z("",!0)])])]))}},$x=ut(Lx,[["__scopeId","data-v-9d33a567"]]),Dx=async()=>{try{console.log("Ejecutando diagnstico de IA...");const t=await nt.get("/analisis-espacio/diagnostico");return console.log("Diagnstico completado:",t.data),t.data}catch(t){throw console.error("Error en diagnstico:",t),t}},Nx=async()=>{try{console.log("Ejecutando prueba simple de IA...");const t=await nt.post("/analisis-espacio/test-ia",{});return console.log("Prueba de IA completada:",t.data),t.data}catch(t){throw console.error("Error en prueba de IA:",t),t}},Bx=t=>{if(!t||!t.data)return{estado:"ERROR",mensaje:"No se pudo obtener informacin de diagnstico",tests:[]};const{tests:e,summary:s}=t.data;return{estado:s.failed===0?"EXITOSO":"CON_ERRORES",mensaje:`${s.passed}/${s.total} pruebas exitosas`,timestamp:t.data.timestamp,tests:e.map(n=>({nombre:n.name,estado:n.status,detalles:n.details||n.error||"Sin detalles",esError:n.status==="FAILED"}))}},jx={name:"DiagnosticoIAView",data(){return{cargandoDiagnostico:!1,cargandoPrueba:!1,diagnostico:null,pruebaIA:null}},methods:{async ejecutarDiagnostico(){var t,e;this.cargandoDiagnostico=!0,this.diagnostico=null;try{const s=await Dx();this.diagnostico=Bx(s)}catch(s){console.error("Error en diagnstico:",s),this.diagnostico={estado:"ERROR",mensaje:"Error al ejecutar diagnstico",tests:[{nombre:"Error de Conexin",estado:"FAILED",detalles:((e=(t=s.response)==null?void 0:t.data)==null?void 0:e.message)||s.message||"Error desconocido",esError:!0}]}}finally{this.cargandoDiagnostico=!1}},async probarIA(){var t,e,s,n;this.cargandoPrueba=!0,this.pruebaIA=null;try{const i=await Nx();this.pruebaIA=i}catch(i){console.error("Error en prueba de IA:",i),this.pruebaIA={success:!1,message:"Error en prueba de IA",error:((e=(t=i.response)==null?void 0:t.data)==null?void 0:e.message)||i.message||"Error desconocido",details:((n=(s=i.response)==null?void 0:s.data)==null?void 0:n.details)||null}}finally{this.cargandoPrueba=!1}}}},Fx={class:"container-custom section-padding"},Gx={class:"card mb-6"},zx={class:"card-body"},Hx={class:"flex space-x-4"},Ux=["disabled"],Vx={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},Wx=["disabled"],qx={key:0,class:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"},Xx={key:0,class:"card mb-6"},Yx={class:"card-header"},Kx={class:"flex items-center space-x-2"},Jx={class:"text-sm text-gray-500"},Zx={class:"card-body"},Qx={class:"space-y-3"},e7={class:"flex items-center justify-between"},t7={class:"font-medium text-gray-900"},s7={class:"mt-2 text-sm text-gray-600"},n7={key:0,class:"whitespace-pre-wrap"},i7={key:1},r7={key:0,class:"mt-4 pt-4 border-t border-gray-200"},o7={class:"text-xs text-gray-500"},a7={key:1,class:"card mb-6"},l7={class:"card-header"},c7={class:"card-body"},d7={key:0,class:"text-green-700"},u7={class:"font-medium"},h7={key:0,class:"mt-3 p-3 bg-gray-50 rounded"},f7={class:"text-xs text-gray-600"},p7={key:1,class:"text-red-700"},m7={class:"font-medium"},g7={class:"mt-2 text-sm"},b7={key:0,class:"mt-3 p-3 bg-gray-50 rounded"},v7={class:"text-xs text-gray-600"};function y7(t,e,s,n,i,r){return w(),E("div",Fx,[e[5]||(e[5]=c("div",{class:"mb-8"},[c("h1",{class:"text-3xl font-bold text-gray-900"},"Diagnstico de IA"),c("p",{class:"mt-2 text-gray-600"}," Herramientas para diagnosticar problemas con la API de Inteligencia Artificial ")],-1)),c("div",Gx,[e[2]||(e[2]=c("div",{class:"card-header"},[c("h2",{class:"text-xl font-semibold text-gray-900"}," Pruebas de Conectividad ")],-1)),c("div",zx,[c("div",Hx,[c("button",{disabled:i.cargandoDiagnostico,class:"btn-primary",onClick:e[0]||(e[0]=(...o)=>r.ejecutarDiagnostico&&r.ejecutarDiagnostico(...o))},[i.cargandoDiagnostico?(w(),E("span",Vx)):Z("",!0),J(" "+F(i.cargandoDiagnostico?"Ejecutando...":"Ejecutar Diagnstico"),1)],8,Ux),c("button",{disabled:i.cargandoPrueba,class:"btn-secondary",onClick:e[1]||(e[1]=(...o)=>r.probarIA&&r.probarIA(...o))},[i.cargandoPrueba?(w(),E("span",qx)):Z("",!0),J(" "+F(i.cargandoPrueba?"Probando...":"Prueba Simple de IA"),1)],8,Wx)])])]),i.diagnostico?(w(),E("div",Xx,[c("div",Yx,[e[3]||(e[3]=c("h3",{class:"text-lg font-semibold text-gray-900"}," Resultados del Diagnstico ",-1)),c("div",Kx,[c("div",{class:re(["px-3 py-1 rounded-full text-sm font-medium",[i.diagnostico.estado==="EXITOSO"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"]])},F(i.diagnostico.estado),3),c("span",Jx,F(i.diagnostico.mensaje),1)])]),c("div",Zx,[c("div",Qx,[(w(!0),E(we,null,Le(i.diagnostico.tests,o=>(w(),E("div",{key:o.nombre,class:re(["p-4 rounded-lg border",[o.esError?"border-red-200 bg-red-50":"border-green-200 bg-green-50"]])},[c("div",e7,[c("h4",t7,F(o.nombre),1),c("span",{class:re(["px-2 py-1 rounded text-xs font-medium",[o.esError?"bg-red-100 text-red-800":"bg-green-100 text-green-800"]])},F(o.estado),3)]),c("div",s7,[typeof o.detalles=="object"?(w(),E("pre",n7,F(JSON.stringify(o.detalles,null,2)),1)):(w(),E("span",i7,F(o.detalles),1))])],2))),128))]),i.diagnostico.timestamp?(w(),E("div",r7,[c("p",o7," Ejecutado: "+F(new Date(i.diagnostico.timestamp).toLocaleString()),1)])):Z("",!0)])])):Z("",!0),i.pruebaIA?(w(),E("div",a7,[c("div",l7,[e[4]||(e[4]=c("h3",{class:"text-lg font-semibold text-gray-900"}," Resultados de la Prueba de IA ",-1)),c("div",{class:re(["px-3 py-1 rounded-full text-sm font-medium",[i.pruebaIA.success?"bg-green-100 text-green-800":"bg-red-100 text-red-800"]])},F(i.pruebaIA.success?"EXITOSO":"ERROR"),3)]),c("div",c7,[i.pruebaIA.success?(w(),E("div",d7,[c("p",u7," "+F(i.pruebaIA.message),1),i.pruebaIA.data?(w(),E("div",h7,[c("pre",f7,F(JSON.stringify(i.pruebaIA.data,null,2)),1)])):Z("",!0)])):(w(),E("div",p7,[c("p",m7," "+F(i.pruebaIA.message),1),c("p",g7,F(i.pruebaIA.error),1),i.pruebaIA.details?(w(),E("div",b7,[c("pre",v7,F(JSON.stringify(i.pruebaIA.details,null,2)),1)])):Z("",!0)]))])])):Z("",!0),e[6]||(e[6]=dt('<div class="card"><div class="card-header"><h3 class="text-lg font-semibold text-gray-900"> Informacin de Ayuda </h3></div><div class="card-body"><div class="space-y-4 text-sm text-gray-600"><div><h4 class="font-medium text-gray-900">Diagnstico Completo</h4><p> Verifica la conexin con Hugging Face, importacin de libreras y procesamiento de imgenes. </p></div><div><h4 class="font-medium text-gray-900">Prueba Simple de IA</h4><p> Ejecuta una llamada real a la API de IA con parmetros mnimos para verificar funcionalidad. </p></div><div><h4 class="font-medium text-gray-900">Problemas Comunes</h4><ul class="list-disc list-inside space-y-1 mt-2"><li>Error de conexin: Verificar conectividad a internet</li><li>Error de autenticacin: Verificar tokens de Hugging Face</li><li>Error de formato: Verificar formato de imgenes base64</li><li>Timeout: El servicio puede estar sobrecargado</li></ul></div></div></div></div>',1))])}const x7=ut(jx,[["render",y7]]),_7={class:"container-custom section-padding"},w7={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},C7={class:"lg:col-span-1"},k7={class:"space-y-1"},S7=["onClick"],E7={class:"lg:col-span-2"},A7={key:0,class:"card"},P7={class:"card-body"},T7={class:"flex items-center space-x-6"},R7={class:"flex-shrink-0"},M7=["src","alt"],I7={for:"avatar",class:"btn-secondary cursor-pointer"},O7={class:"form-group"},L7={key:0,class:"input-error"},$7={class:"form-group"},D7={key:0,class:"input-error"},N7={class:"form-group"},B7={key:0,class:"input-error"},j7={class:"form-group"},F7={key:0,class:"input-error"},G7={class:"form-group"},z7={key:0,class:"input-error"},H7={class:"flex justify-end space-x-3"},U7=["disabled"],V7={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},W7={key:0,class:"alert-error"},q7={class:"flex"},X7={class:"ml-3"},Y7={class:"text-sm"},K7={key:1,class:"card"},J7={class:"card-body"},Z7={class:"form-group"},Q7={key:0,class:"input-error"},e_={class:"form-group"},t_={key:0,class:"input-error"},s_={key:1,class:"mt-2"},n_={class:"flex items-center space-x-2"},i_={class:"flex-1 bg-gray-200 rounded-full h-2"},r_={class:"form-group"},o_={key:0,class:"input-error"},a_={class:"flex justify-end space-x-3"},l_=["disabled"],c_={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},d_={key:2,class:"card"},u_={class:"card-body"},h_={class:"space-y-4"},f_={class:"text-sm font-medium text-gray-900"},p_={class:"text-sm text-gray-600"},m_={class:"relative inline-flex items-center cursor-pointer"},g_=["onUpdate:modelValue"],b_={class:"space-y-4"},v_={class:"text-sm font-medium text-gray-900"},y_={class:"text-sm text-gray-600"},x_={class:"relative inline-flex items-center cursor-pointer"},__=["onUpdate:modelValue"],w_={class:"flex justify-end space-x-3"},C_=["disabled"],k_={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},S_={key:3,class:"card"},E_={class:"card-body space-y-6"},A_={class:"border border-gray-200 rounded-lg p-4"},P_=["disabled"],T_={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},R_={class:"border border-red-200 rounded-lg p-4 bg-red-50"},M_={class:"mt-3 text-center"},I_={class:"mt-2 px-7 py-3"},O_={class:"mt-4"},L_={class:"items-center px-4 py-3"},$_=["disabled"],D_={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},N_="svg",B_="svg",j_="svg",F_="svg",G_={__name:"PerfilView",setup(t){const e=as(),s=yt(),n=ws(),i=ie("personal"),r=ie(!1),o=ie(!1),a=ie(!1),l=ie(!1),u=ie(!1),d=ie(!1),h=ie(""),f=[{id:"personal",name:"Informacin Personal",icon:N_},{id:"security",name:"Seguridad",icon:B_},{id:"notifications",name:"Notificaciones",icon:j_},{id:"privacy",name:"Privacidad",icon:F_}],m=He({nombre_completo:"",email:"",telefono:"",direccion:"",fecha_nacimiento:"",avatar_url:""}),p=He({current_password:"",new_password:"",confirm_password:""}),x=He({email_pedidos:!0,email_promociones:!1,email_recomendaciones:!0,email_recordatorios:!0,push_pedidos:!0,push_promociones:!1,push_recomendaciones:!1}),v=He({nombre_completo:"",email:"",telefono:"",direccion:"",fecha_nacimiento:"",current_password:"",new_password:"",confirm_password:"",general:""}),y=[{key:"email_pedidos",title:"Actualizaciones de pedidos",description:"Recibe notificaciones sobre el estado de tus pedidos"},{key:"email_promociones",title:"Promociones y ofertas",description:"Recibe informacin sobre descuentos y ofertas especiales"},{key:"email_recomendaciones",title:"Recomendaciones de productos",description:"Recibe sugerencias personalizadas de productos"},{key:"email_recordatorios",title:"Recordatorios",description:"Recibe recordatorios sobre carritos abandonados y seguimientos"}],g=[{key:"push_pedidos",title:"Actualizaciones de pedidos",description:"Notificaciones push sobre el estado de tus pedidos"},{key:"push_promociones",title:"Promociones y ofertas",description:"Notificaciones push sobre descuentos y ofertas"},{key:"push_recomendaciones",title:"Nuevas recomendaciones",description:"Notificaciones cuando tengas nuevas recomendaciones de IA"}],b=ke(()=>{const R=p.new_password;if(!R)return 0;let P=0;return R.length>=8&&(P+=1),R.length>=12&&(P+=1),/[a-z]/.test(R)&&(P+=1),/[A-Z]/.test(R)&&(P+=1),/[0-9]/.test(R)&&(P+=1),/[^A-Za-z0-9]/.test(R)&&(P+=1),Math.min(P,5)}),_=ke(()=>b.value/5*100),O=ke(()=>{const R=b.value;return R<=2?"bg-red-500":R<=3?"bg-yellow-500":R<=4?"bg-blue-500":"bg-green-500"}),z=ke(()=>{const R=b.value;return R<=2?"text-red-600":R<=3?"text-yellow-600":R<=4?"text-blue-600":"text-green-600"}),B=ke(()=>{const R=b.value;return R<=2?"Dbil":R<=3?"Regular":R<=4?"Buena":"Muy fuerte"}),A=async()=>{try{const R=n.user;R&&Object.assign(m,{nombre_completo:R.nombre_completo||"",email:R.email||"",telefono:R.telefono||"",direccion:R.direccion||"",fecha_nacimiento:R.fecha_nacimiento||"",avatar_url:R.avatar_url||""});const X=(await wc.getPreferences()).data.preferencias||{},ce=X.categorias_habilitadas||[];x.email_pedidos=ce.includes("pedido"),x.email_promociones=ce.includes("promocion"),x.email_recordatorios=ce.includes("recordatorio"),x.email_recomendaciones=ce.includes("general");const se=X.notificaciones_sistema!==!1;x.push_pedidos=se,x.push_promociones=se,x.push_recomendaciones=se}catch(R){console.error("Error cargando datos del usuario:",R)}},D=async()=>{var R;Object.keys(v).forEach(P=>{P!=="current_password"&&P!=="new_password"&&P!=="confirm_password"&&(v[P]="")}),r.value=!0;try{const P=await n.updateProfile(m);if(!(P!=null&&P.success))throw new Error((P==null?void 0:P.error)||"Error al actualizar perfil")}catch(P){if(console.error("Error actualizando perfil:",P),((R=P.response)==null?void 0:R.status)===422){const X=P.response.data.errors||{};Object.keys(X).forEach(ce=>{v.hasOwnProperty(ce)&&(v[ce]=Array.isArray(X[ce])?X[ce][0]:X[ce])})}else v.general="Error al actualizar el perfil. Por favor, intntalo de nuevo."}finally{r.value=!1}},W=async()=>{var R,P;if(v.current_password="",v.new_password="",v.confirm_password="",v.general="",p.new_password!==p.confirm_password){v.confirm_password="Las contraseas no coinciden";return}if(p.new_password.length<8){v.new_password="La contrasea debe tener al menos 8 caracteres";return}o.value=!0;try{await n.changePassword(p),s.success("Contrasea cambiada exitosamente"),L()}catch(X){if(console.error("Error cambiando contrasea:",X),((R=X.response)==null?void 0:R.status)===422){const ce=X.response.data.errors||{};Object.keys(ce).forEach(se=>{v.hasOwnProperty(se)&&(v[se]=Array.isArray(ce[se])?ce[se][0]:ce[se])})}else((P=X.response)==null?void 0:P.status)===400?v.current_password="La contrasea actual es incorrecta":v.general="Error al cambiar la contrasea. Por favor, intntalo de nuevo."}finally{o.value=!1}},H=async()=>{a.value=!0;try{const R=[];x.email_pedidos&&R.push("pedido"),x.email_promociones&&R.push("promocion"),x.email_recordatorios&&R.push("recordatorio"),x.email_recomendaciones&&R.push("general"),await wc.updatePreferences({notificaciones_correo:x.email_pedidos||x.email_promociones||x.email_recordatorios||x.email_recomendaciones,notificaciones_sistema:x.push_pedidos||x.push_promociones||x.push_recomendaciones,frecuencia_resumen:"inmediato",categorias_habilitadas:R}),s.success("Configuraciones de notificaciones actualizadas")}catch(R){console.error("Error actualizando configuraciones:",R),s.error("Error al actualizar las configuraciones")}finally{a.value=!1}},C=async R=>{const P=R.target.files[0];if(P){if(P.size>2*1024*1024){s.error("La imagen debe ser menor a 2MB");return}if(!P.type.startsWith("image/")){s.error("Solo se permiten archivos de imagen");return}try{const X=new FormData;X.append("avatar",P);const ce=await nt.post("/usuario/avatar",X,{headers:{"Content-Type":"multipart/form-data"}});m.avatar_url=ce.data.avatar_url,s.success("Avatar actualizado exitosamente")}catch(X){console.error("Error subiendo avatar:",X),s.error("Error al subir la imagen")}}},Q=async()=>{l.value=!0;try{const R=await nt.get("/usuario/exportar-datos",{responseType:"blob"}),P=window.URL.createObjectURL(new Blob([R.data])),X=document.createElement("a");X.href=P,X.setAttribute("download","mis-datos.json"),document.body.appendChild(X),X.click(),X.remove(),window.URL.revokeObjectURL(P),s.success("Datos descargados exitosamente")}catch(R){console.error("Error descargando datos:",R),s.error("Error al descargar los datos")}finally{l.value=!1}},I=async()=>{if(h.value==="ELIMINAR"){u.value=!0;try{await nt.delete("/usuario/eliminar-cuenta"),s.success("Cuenta eliminada exitosamente"),n.logout(),e.push("/")}catch(R){console.error("Error eliminando cuenta:",R),s.error("Error al eliminar la cuenta")}finally{u.value=!1,d.value=!1,h.value=""}}},q=()=>{A(),Object.keys(v).forEach(R=>{R!=="current_password"&&R!=="new_password"&&R!=="confirm_password"&&(v[R]="")})},L=()=>{Object.assign(p,{current_password:"",new_password:"",confirm_password:""}),v.current_password="",v.new_password="",v.confirm_password=""},M=()=>{A()};return $t(()=>{A()}),(R,P)=>(w(),E("div",_7,[P[44]||(P[44]=c("div",{class:"mb-8"},[c("h1",{class:"text-3xl font-bold text-gray-900"},"Mi Perfil"),c("p",{class:"mt-2 text-gray-600"}," Gestiona tu informacin personal y configuraciones de cuenta ")],-1)),c("div",w7,[c("div",C7,[c("nav",k7,[(w(),E(we,null,Le(f,X=>c("button",{key:X.id,class:re(["w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",[i.value===X.id?"bg-primary-100 text-primary-700 border-r-2 border-primary-500":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"]]),onClick:ce=>i.value=X.id},[(w(),Ye(Br(X.icon),{class:"flex-shrink-0 -ml-1 mr-3 h-5 w-5"})),J(" "+F(X.name),1)],10,S7)),64))])]),c("div",E7,[i.value==="personal"?(w(),E("div",A7,[P[22]||(P[22]=c("div",{class:"card-header"},[c("h2",{class:"text-xl font-semibold text-gray-900"}," Informacin Personal "),c("p",{class:"text-sm text-gray-600 mt-1"}," Actualiza tu informacin personal y de contacto ")],-1)),c("div",P7,[c("form",{class:"space-y-6",onSubmit:Ee(D,["prevent"])},[c("div",T7,[c("div",R7,[c("img",{src:m.avatar_url&&!m.avatar_url.includes("default-avatar")?m.avatar_url:"/images/muebles/img5.jpg",alt:m.nombre_completo,class:"h-20 w-20 rounded-full object-cover"},null,8,M7)]),c("div",null,[c("label",I7,[P[13]||(P[13]=J(" Cambiar foto ",-1)),c("input",{id:"avatar",type:"file",accept:"image/*",class:"sr-only",onChange:C},null,32)]),P[14]||(P[14]=c("p",{class:"text-xs text-gray-500 mt-1"}," JPG, PNG o GIF. Mximo 2MB. ",-1))])]),c("div",O7,[P[15]||(P[15]=c("label",{for:"nombre_completo",class:"input-label"}," Nombre completo * ",-1)),Pe(c("input",{id:"nombre_completo","onUpdate:modelValue":P[0]||(P[0]=X=>m.nombre_completo=X),type:"text",required:"",class:re(["input-field",{"border-red-300 focus:ring-red-500":v.nombre_completo}])},null,2),[[Ze,m.nombre_completo]]),v.nombre_completo?(w(),E("p",L7,F(v.nombre_completo),1)):Z("",!0)]),c("div",$7,[P[16]||(P[16]=c("label",{for:"email",class:"input-label"}," Correo electrnico * ",-1)),Pe(c("input",{id:"email","onUpdate:modelValue":P[1]||(P[1]=X=>m.email=X),type:"email",required:"",class:re(["input-field",{"border-red-300 focus:ring-red-500":v.email}])},null,2),[[Ze,m.email]]),v.email?(w(),E("p",D7,F(v.email),1)):Z("",!0)]),c("div",N7,[P[17]||(P[17]=c("label",{for:"telefono",class:"input-label"}," Telfono ",-1)),Pe(c("input",{id:"telefono","onUpdate:modelValue":P[2]||(P[2]=X=>m.telefono=X),type:"tel",class:re(["input-field",{"border-red-300 focus:ring-red-500":v.telefono}])},null,2),[[Ze,m.telefono]]),v.telefono?(w(),E("p",B7,F(v.telefono),1)):Z("",!0)]),c("div",j7,[P[18]||(P[18]=c("label",{for:"direccion",class:"input-label"}," Direccin ",-1)),Pe(c("textarea",{id:"direccion","onUpdate:modelValue":P[3]||(P[3]=X=>m.direccion=X),rows:"3",class:re(["form-textarea",{"border-red-300 focus:ring-red-500":v.direccion}])},null,2),[[Ze,m.direccion]]),v.direccion?(w(),E("p",F7,F(v.direccion),1)):Z("",!0)]),c("div",G7,[P[19]||(P[19]=c("label",{for:"fecha_nacimiento",class:"input-label"}," Fecha de nacimiento ",-1)),Pe(c("input",{id:"fecha_nacimiento","onUpdate:modelValue":P[4]||(P[4]=X=>m.fecha_nacimiento=X),type:"date",class:re(["input-field",{"border-red-300 focus:ring-red-500":v.fecha_nacimiento}])},null,2),[[Ze,m.fecha_nacimiento]]),v.fecha_nacimiento?(w(),E("p",z7,F(v.fecha_nacimiento),1)):Z("",!0)]),c("div",H7,[c("button",{type:"button",class:"btn-secondary",onClick:q}," Cancelar "),c("button",{type:"submit",disabled:r.value,class:re(["btn-primary",{"opacity-50 cursor-not-allowed":r.value}])},[r.value?(w(),E("svg",V7,[...P[20]||(P[20]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Z("",!0),J(" "+F(r.value?"Guardando...":"Guardar Cambios"),1)],10,U7)]),v.general?(w(),E("div",W7,[c("div",q7,[P[21]||(P[21]=c("div",{class:"flex-shrink-0"},[c("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[c("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),c("div",X7,[c("p",Y7,F(v.general),1)])])])):Z("",!0)],32)])])):Z("",!0),i.value==="security"?(w(),E("div",K7,[P[27]||(P[27]=c("div",{class:"card-header"},[c("h2",{class:"text-xl font-semibold text-gray-900"},"Seguridad"),c("p",{class:"text-sm text-gray-600 mt-1"}," Gestiona tu contrasea y configuraciones de seguridad ")],-1)),c("div",J7,[c("form",{class:"space-y-6",onSubmit:Ee(W,["prevent"])},[c("div",Z7,[P[23]||(P[23]=c("label",{for:"current_password",class:"input-label"}," Contrasea actual * ",-1)),Pe(c("input",{id:"current_password","onUpdate:modelValue":P[5]||(P[5]=X=>p.current_password=X),type:"password",required:"",class:re(["input-field",{"border-red-300 focus:ring-red-500":v.current_password}])},null,2),[[Ze,p.current_password]]),v.current_password?(w(),E("p",Q7,F(v.current_password),1)):Z("",!0)]),c("div",e_,[P[24]||(P[24]=c("label",{for:"new_password",class:"input-label"}," Nueva contrasea * ",-1)),Pe(c("input",{id:"new_password","onUpdate:modelValue":P[6]||(P[6]=X=>p.new_password=X),type:"password",required:"",class:re(["input-field",{"border-red-300 focus:ring-red-500":v.new_password}])},null,2),[[Ze,p.new_password]]),v.new_password?(w(),E("p",t_,F(v.new_password),1)):Z("",!0),p.new_password?(w(),E("div",s_,[c("div",n_,[c("div",i_,[c("div",{class:re(["h-2 rounded-full transition-all duration-300",O.value]),style:zs({width:_.value+"%"})},null,6)]),c("span",{class:re(["text-xs font-medium",z.value])},F(B.value),3)])])):Z("",!0)]),c("div",r_,[P[25]||(P[25]=c("label",{for:"confirm_password",class:"input-label"}," Confirmar nueva contrasea * ",-1)),Pe(c("input",{id:"confirm_password","onUpdate:modelValue":P[7]||(P[7]=X=>p.confirm_password=X),type:"password",required:"",class:re(["input-field",{"border-red-300 focus:ring-red-500":v.confirm_password}])},null,2),[[Ze,p.confirm_password]]),v.confirm_password?(w(),E("p",o_,F(v.confirm_password),1)):Z("",!0)]),c("div",a_,[c("button",{type:"button",class:"btn-secondary",onClick:L}," Cancelar "),c("button",{type:"submit",disabled:o.value,class:re(["btn-primary",{"opacity-50 cursor-not-allowed":o.value}])},[o.value?(w(),E("svg",c_,[...P[26]||(P[26]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Z("",!0),J(" "+F(o.value?"Cambiando...":"Cambiar Contrasea"),1)],10,l_)])],32)])])):Z("",!0),i.value==="notifications"?(w(),E("div",d_,[P[33]||(P[33]=c("div",{class:"card-header"},[c("h2",{class:"text-xl font-semibold text-gray-900"},"Notificaciones"),c("p",{class:"text-sm text-gray-600 mt-1"}," Configura cmo y cundo quieres recibir notificaciones ")],-1)),c("div",u_,[c("form",{class:"space-y-6",onSubmit:Ee(H,["prevent"])},[c("div",null,[P[29]||(P[29]=c("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Notificaciones por Email ",-1)),c("div",h_,[(w(),E(we,null,Le(y,X=>c("div",{key:X.key,class:"flex items-center justify-between"},[c("div",null,[c("h4",f_,F(X.title),1),c("p",p_,F(X.description),1)]),c("label",m_,[Pe(c("input",{"onUpdate:modelValue":ce=>x[X.key]=ce,type:"checkbox",class:"sr-only peer"},null,8,g_),[[Rn,x[X.key]]]),P[28]||(P[28]=c("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"},null,-1))])])),64))])]),c("div",null,[P[31]||(P[31]=c("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Notificaciones Push ",-1)),c("div",b_,[(w(),E(we,null,Le(g,X=>c("div",{key:X.key,class:"flex items-center justify-between"},[c("div",null,[c("h4",v_,F(X.title),1),c("p",y_,F(X.description),1)]),c("label",x_,[Pe(c("input",{"onUpdate:modelValue":ce=>x[X.key]=ce,type:"checkbox",class:"sr-only peer"},null,8,__),[[Rn,x[X.key]]]),P[30]||(P[30]=c("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"},null,-1))])])),64))])]),c("div",w_,[c("button",{type:"button",class:"btn-secondary",onClick:M}," Cancelar "),c("button",{type:"submit",disabled:a.value,class:re(["btn-primary",{"opacity-50 cursor-not-allowed":a.value}])},[a.value?(w(),E("svg",k_,[...P[32]||(P[32]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Z("",!0),J(" "+F(a.value?"Guardando...":"Guardar Configuracin"),1)],10,C_)])],32)])])):Z("",!0),i.value==="privacy"?(w(),E("div",S_,[P[39]||(P[39]=c("div",{class:"card-header"},[c("h2",{class:"text-xl font-semibold text-gray-900"}," Privacidad y Datos "),c("p",{class:"text-sm text-gray-600 mt-1"}," Gestiona tu privacidad y el uso de tus datos ")],-1)),c("div",E_,[c("div",A_,[P[35]||(P[35]=c("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Descargar mis datos ",-1)),P[36]||(P[36]=c("p",{class:"text-sm text-gray-600 mb-4"}," Descarga una copia de todos tus datos personales almacenados en nuestra plataforma. ",-1)),c("button",{disabled:l.value,class:re(["btn-secondary",{"opacity-50 cursor-not-allowed":l.value}]),onClick:Q},[l.value?(w(),E("svg",T_,[...P[34]||(P[34]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Z("",!0),J(" "+F(l.value?"Preparando descarga...":"Descargar Datos"),1)],10,P_)]),c("div",R_,[P[37]||(P[37]=c("h3",{class:"text-lg font-medium text-red-900 mb-2"}," Eliminar cuenta ",-1)),P[38]||(P[38]=c("p",{class:"text-sm text-red-700 mb-4"}," Una vez que elimines tu cuenta, no hay vuelta atrs. Por favor, asegrate de que realmente quieres hacer esto. ",-1)),c("button",{class:"btn-danger",onClick:P[8]||(P[8]=X=>d.value=!0)}," Eliminar mi cuenta ")])])])):Z("",!0)])]),d.value?(w(),E("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:P[12]||(P[12]=X=>d.value=!1)},[c("div",{class:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",onClick:P[11]||(P[11]=Ee(()=>{},["stop"]))},[c("div",M_,[P[42]||(P[42]=c("div",{class:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100"},[c("svg",{class:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),P[43]||(P[43]=c("h3",{class:"text-lg leading-6 font-medium text-gray-900 mt-4"}," Eliminar cuenta ",-1)),c("div",I_,[P[40]||(P[40]=c("p",{class:"text-sm text-gray-500"}," Ests seguro de que quieres eliminar tu cuenta? Esta accin no se puede deshacer y perders todos tus datos. ",-1)),c("div",O_,[Pe(c("input",{"onUpdate:modelValue":P[9]||(P[9]=X=>h.value=X),type:"text",placeholder:"Escribe 'ELIMINAR' para confirmar",class:"input-field"},null,512),[[Ze,h.value]])])]),c("div",L_,[c("button",{disabled:h.value!=="ELIMINAR"||u.value,class:re(["btn-danger w-full mb-2",{"opacity-50 cursor-not-allowed":h.value!=="ELIMINAR"||u.value}]),onClick:I},[u.value?(w(),E("svg",D_,[...P[41]||(P[41]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):Z("",!0),J(" "+F(u.value?"Eliminando...":"Eliminar cuenta"),1)],10,$_),c("button",{class:"btn-secondary w-full",onClick:P[10]||(P[10]=X=>d.value=!1)}," Cancelar ")])])])])):Z("",!0)]))}},z_={class:"container-custom section-padding"},H_={class:"mb-8"},U_={class:"bg-gradient-to-r from-blue-600 to-red-600 rounded-lg p-6 text-white"},V_={class:"text-3xl font-bold"},W_={class:"mt-4 flex flex-wrap gap-3"},q_={class:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8"},X_={class:"card"},Y_={class:"card-body"},K_={class:"grid grid-cols-2 gap-4"},J_={class:"card"},Z_={class:"card-body"},Q_={key:0,class:"text-center py-8"},ew={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},tw={key:0,class:"aspect-w-16 aspect-h-9 w-full overflow-hidden bg-gray-200 relative"},sw=["src","alt"],nw={class:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1"},iw=["onClick"],rw={key:1,class:"aspect-w-16 aspect-h-9 w-full overflow-hidden bg-gray-200 relative"},ow=["src","alt"],aw={class:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1"},lw=["onClick"],cw={key:2,class:"aspect-w-16 aspect-h-9 w-full overflow-hidden bg-gray-200 relative"},dw=["src","alt"],uw={class:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1"},hw=["onClick"],fw={key:3,class:"aspect-w-16 aspect-h-9 w-full overflow-hidden bg-gray-200 relative"},pw=["src","alt"],mw={class:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1"},gw=["onClick"],bw={key:4,class:"aspect-w-16 aspect-h-9 w-full overflow-hidden bg-gray-200 relative"},vw=["src","alt"],yw={class:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1"},xw=["onClick"],_w={key:5,class:"aspect-w-16 aspect-h-9 w-full overflow-hidden bg-gray-200 relative"},ww=["src","alt"],Cw={class:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-1"},kw=["onClick"],Sw={key:6,class:"aspect-w-16 aspect-h-9 w-full overflow-hidden bg-gray-200"},Ew=["src","alt","onClick"],Aw={class:"p-4"},Pw={class:"text-sm font-semibold text-gray-900 mb-1"},Tw={class:"text-xs text-primary-600 font-medium mb-2"},Rw={class:"text-sm text-gray-600 mb-2 line-clamp-2"},Mw={class:"flex items-center justify-between text-xs text-gray-500"},Iw=["src"],Qc={__name:"DashboardView",setup(t){const e=ws(),s=yt(),n=ie([]),i=ie(!0),r=ie([]),o=ie(0),a=ie(["/images/muebles/img1.jpg","/images/muebles/img2.jpg","/images/muebles/img3.jpg"]),l=()=>{o.value=(o.value+1)%a.value.length},u=()=>{o.value=o.value===0?a.value.length-1:o.value-1},d=ie(0),h=ie(["/images/muebles/img4.jpg","/images/muebles/img5.jpg","/images/muebles/img6.jpg"]),f=()=>{d.value=(d.value+1)%h.value.length},m=()=>{d.value=d.value===0?h.value.length-1:d.value-1},p=ie(0),x=ie(["/images/muebles/img7.webp","/images/muebles/img8.webp","/images/muebles/img9.webp","/images/muebles/img10.webp"]),v=()=>{p.value=(p.value+1)%x.value.length},y=()=>{p.value=p.value===0?x.value.length-1:p.value-1},g=ie(0),b=ie(["/images/muebles/img11.webp","/images/muebles/img12.webp"]),_=()=>{g.value=(g.value+1)%b.value.length},O=()=>{g.value=g.value===0?b.value.length-1:g.value-1},z=ie(0),B=ie(["/images/muebles/img13.webp","/images/muebles/img14.webp","/images/muebles/img15.webp"]),A=()=>{z.value=(z.value+1)%B.value.length},D=()=>{z.value=z.value===0?B.value.length-1:z.value-1},W=ie(0),H=ie(["/images/muebles/img16.webp","/images/muebles/img17.webp"]),C=()=>{W.value=(W.value+1)%H.value.length},Q=()=>{W.value=W.value===0?H.value.length-1:W.value-1},I=ie(!1),q=ie([]),L=ie(0),M=(N,oe)=>{q.value=Array.isArray(N)?N.slice():[N],L.value=oe||0,I.value=!0},R=()=>{I.value=!1},P=()=>{q.value.length&&(L.value=(L.value+1)%q.value.length)},X=()=>{q.value.length&&(L.value=L.value===0?q.value.length-1:L.value-1)},ce=async()=>{try{i.value=!0,await new Promise(N=>setTimeout(N,500)),n.value=[{id:1,titulo:"Cocina Integral Moderna",categoria:"Cocinas",descripcion:"Cocina completa con muebles altos y bajos, acabado en blanco con detalles contemporneos.",ubicacion:"uoa, Chile",imagen_url:"/images/muebles/MR1.png"},{id:2,titulo:"Cocina Modular Contempornea",categoria:"Cocinas",descripcion:"Muebles de cocina modulares con acabados modernos, cajones con sistema soft-close y encimera de cuarzo.",ubicacion:"Pirque, Chile",imagen_url:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"},{id:3,titulo:"Cocina Americana Elegante",categoria:"Cocinas",descripcion:"Diseo de cocina americana con isla central, muebles altos y bajos en tonos claros con detalles en madera.",ubicacion:"Los ngeles, Chile",imagen_url:"https://images.unsplash.com/photo-1620626011761-996317b8d101?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"},{id:4,titulo:"Cocina Termolaminada Premium",categoria:"Cocinas",descripcion:"Muebles de cocina termolaminados con cubierta de cuarzo, diseo funcional y acabados de alta calidad.",ubicacion:"Santiago, Chile",imagen_url:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"},{id:5,titulo:"Closet Modular Elegante",categoria:"Closets",descripcion:"Closet modular con mltiples compartimentos, cajones y barras colgadoras para optimizar el espacio.",ubicacion:"Santiago, Chile",imagen_url:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"},{id:6,titulo:"Closet Contemporneo Premium",categoria:"Closets",descripcion:"Closet contemporneo con diseo minimalista, puertas corredizas y sistema de organizacin interno.",ubicacion:"Santiago, Chile",imagen_url:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"}]}catch(N){console.error("Error cargando datos del dashboard:",N),s.error("Error al cargar los datos del dashboard")}finally{i.value=!1}},se=async()=>{try{if(!e.isAdmin)return;const N=await nt.get("/pedidos/xano",{params:{estado:"en_cotizacion",page:1,limit:10}});r.value=N.data.pedidos||[]}catch{s.error("Error al cargar cotizaciones pendientes")}};return $t(()=>{ce(),se()}),(N,oe)=>{var Qe;const De=rt("RouterLink");return w(),E("div",z_,[c("div",H_,[c("div",U_,[c("h1",V_," Bienvenido, "+F((Qe=Oe(e).user)==null?void 0:Qe.nombre)+"! ",1),oe[9]||(oe[9]=c("p",{class:"mt-2 text-blue-100"}," Ests en Comercial HG, tu plataforma para encontrar los mejores muebles. Explora nuestro catlogo, obtn recomendaciones personalizadas y gestiona tus pedidos. ",-1)),c("div",W_,[he(De,{to:"/cotizaciones",class:"inline-flex items-center px-4 py-2 bg-white text-blue-600 rounded-lg hover:bg-blue-50 transition-colors font-medium"},{default:pe(()=>[...oe[7]||(oe[7]=[c("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),J(" Cotizar ",-1)])]),_:1}),he(De,{to:"/analisis-espacio",class:"inline-flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium"},{default:pe(()=>[...oe[8]||(oe[8]=[c("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})],-1),J(" Analizar Espacio ",-1)])]),_:1})])])]),c("div",q_,[c("div",X_,[oe[14]||(oe[14]=c("div",{class:"card-header"},[c("h3",{class:"text-lg font-medium text-gray-900"},"Acciones Rpidas")],-1)),c("div",Y_,[c("div",K_,[he(De,{to:"/cotizaciones",class:"flex flex-col items-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors group"},{default:pe(()=>[...oe[10]||(oe[10]=[c("div",{class:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors"},[c("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])],-1),c("span",{class:"mt-2 text-sm font-medium text-gray-900"},"Cotizar",-1)])]),_:1}),he(De,{to:"/analisis-espacio",class:"flex flex-col items-center p-4 bg-red-50 rounded-lg hover:bg-red-100 transition-colors group"},{default:pe(()=>[...oe[11]||(oe[11]=[c("div",{class:"w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center group-hover:bg-red-200 transition-colors"},[c("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})])],-1),c("span",{class:"mt-2 text-sm font-medium text-gray-900"},"Analizar Espacio",-1)])]),_:1}),he(De,{to:"/mis-cotizaciones",class:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors group"},{default:pe(()=>[...oe[12]||(oe[12]=[c("div",{class:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center group-hover:bg-green-200 transition-colors"},[c("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1),c("span",{class:"mt-2 text-sm font-medium text-gray-900"},"Mis Cotizaciones",-1)])]),_:1}),he(De,{to:"/perfil",class:"flex flex-col items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group"},{default:pe(()=>[...oe[13]||(oe[13]=[c("div",{class:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-gray-200 transition-colors"},[c("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1),c("span",{class:"mt-2 text-sm font-medium text-gray-900"},"Mi Perfil",-1)])]),_:1})])])]),oe[15]||(oe[15]=c("div",{class:"card"},[c("div",{class:"card-header"},[c("h3",{class:"text-lg font-medium text-gray-900"},"Nuestra Ubicacin")]),c("div",{class:"card-body"},[c("div",{class:"space-y-4"},[c("div",{class:"flex items-start space-x-3"},[c("div",{class:"flex-shrink-0"},[c("div",{class:"w-8 h-8 rounded-full bg-primary-100 flex items-center justify-center"},[c("svg",{class:"w-4 h-4 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})])])]),c("div",{class:"flex-1 min-w-0"},[c("p",{class:"text-sm font-medium text-gray-900"},"Direccin"),c("p",{class:"text-sm text-gray-500"}," Franklin 565, Santiago Centro "),c("p",{class:"text-sm text-gray-500"},"Santiago, Chile")])]),c("div",{class:"mt-4"},[c("div",{class:"aspect-w-16 aspect-h-9 rounded-lg overflow-hidden border border-gray-200"},[c("iframe",{src:"https://maps.google.com/maps?q=Franklin+565,+Santiago+Centro,+Chile&t=&z=16&ie=UTF8&iwloc=&output=embed",width:"100%",height:"200",style:{border:"0"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade",class:"w-full h-48 rounded-lg",title:"Ubicacin de nuestra tienda en Franklin 565, Santiago Centro"})])]),c("div",{class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4"},[c("div",{class:"flex items-center space-x-2"},[c("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})]),c("span",{class:"text-sm text-gray-600"},"Lun - Vie: 9:00 - 18:00")]),c("div",{class:"flex items-center space-x-2"},[c("svg",{class:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})]),c("span",{class:"text-sm text-gray-600"},"+569 9816 3536")])])])])],-1))]),c("div",J_,[oe[29]||(oe[29]=c("div",{class:"card-header"},[c("div",{class:"flex items-center justify-between"},[c("h3",{class:"text-lg font-medium text-gray-900"},"Trabajos Realizados"),c("span",{class:"text-sm font-medium text-primary-600"}," Nuestros Proyectos ")])],-1)),c("div",Z_,[n.value.length===0?(w(),E("div",Q_,[...oe[16]||(oe[16]=[c("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1),c("p",{class:"mt-2 text-sm text-gray-500"}," No hay trabajos realizados para mostrar ",-1)])])):(w(),E("div",ew,[(w(!0),E(we,null,Le(n.value,V=>(w(),E("div",{key:V.id,class:"group cursor-pointer bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow transition-transform hover:-translate-y-1 animate-fade-in"},[V.id===1?(w(),E("div",tw,[c("img",{src:a.value[o.value],alt:V.titulo,class:"h-40 w-full object-contain object-center group-hover:scale-105 transition-transform duration-300 bg-white",onClick:oe[0]||(oe[0]=de=>M(a.value,o.value))},null,8,sw),c("button",{class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(u,["stop"])},[...oe[17]||(oe[17]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),c("button",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(l,["stop"])},[...oe[18]||(oe[18]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),c("div",nw,[(w(!0),E(we,null,Le(a.value,(de,$)=>(w(),E("button",{key:$,class:re(["w-2 h-2 rounded-full transition-all duration-200",[o.value===$?"bg-white":"bg-white bg-opacity-50"]]),onClick:Ee(ge=>o.value=$,["stop"])},null,10,iw))),128))])])):V.id===2?(w(),E("div",rw,[c("img",{src:h.value[d.value],alt:V.titulo,class:"h-40 w-full object-contain object-center group-hover:scale-105 transition-transform duration-300 bg-white",onClick:oe[1]||(oe[1]=de=>M(h.value,d.value))},null,8,ow),c("button",{class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(m,["stop"])},[...oe[19]||(oe[19]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),c("button",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(f,["stop"])},[...oe[20]||(oe[20]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),c("div",aw,[(w(!0),E(we,null,Le(h.value,(de,$)=>(w(),E("button",{key:$,class:re(["w-2 h-2 rounded-full transition-all duration-200",[d.value===$?"bg-white":"bg-white bg-opacity-50"]]),onClick:Ee(ge=>d.value=$,["stop"])},null,10,lw))),128))])])):V.id===3?(w(),E("div",cw,[c("img",{src:x.value[p.value],alt:V.titulo,class:"h-40 w-full object-contain object-center group-hover:scale-105 transition-transform duration-300 bg-white",onClick:oe[2]||(oe[2]=de=>M(x.value,p.value))},null,8,dw),c("button",{class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(y,["stop"])},[...oe[21]||(oe[21]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),c("button",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(v,["stop"])},[...oe[22]||(oe[22]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),c("div",uw,[(w(!0),E(we,null,Le(x.value,(de,$)=>(w(),E("button",{key:$,class:re(["w-2 h-2 rounded-full transition-all duration-200",[p.value===$?"bg-white":"bg-white bg-opacity-50"]]),onClick:Ee(ge=>p.value=$,["stop"])},null,10,hw))),128))])])):V.id===4?(w(),E("div",fw,[c("img",{src:b.value[g.value],alt:V.titulo,class:"h-40 w-full object-contain object-center group-hover:scale-105 transition-transform duration-300 bg-white",onClick:oe[3]||(oe[3]=de=>M(b.value,g.value))},null,8,pw),c("button",{class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(O,["stop"])},[...oe[23]||(oe[23]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),c("button",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(_,["stop"])},[...oe[24]||(oe[24]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),c("div",mw,[(w(!0),E(we,null,Le(b.value,(de,$)=>(w(),E("button",{key:$,class:re(["w-2 h-2 rounded-full transition-all duration-200",[g.value===$?"bg-white":"bg-white bg-opacity-50"]]),onClick:Ee(ge=>g.value=$,["stop"])},null,10,gw))),128))])])):V.id===5?(w(),E("div",bw,[c("img",{src:B.value[z.value],alt:V.titulo,class:"h-40 w-full object-contain object-center group-hover:scale-105 transition-transform duration-300 bg-white",onClick:oe[4]||(oe[4]=de=>M(B.value,z.value))},null,8,vw),c("button",{class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(D,["stop"])},[...oe[25]||(oe[25]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),c("button",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(A,["stop"])},[...oe[26]||(oe[26]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),c("div",yw,[(w(!0),E(we,null,Le(B.value,(de,$)=>(w(),E("button",{key:$,class:re(["w-2 h-2 rounded-full transition-all duration-200",[z.value===$?"bg-white":"bg-white bg-opacity-50"]]),onClick:Ee(ge=>z.value=$,["stop"])},null,10,xw))),128))])])):V.id===6?(w(),E("div",_w,[c("img",{src:H.value[W.value],alt:V.titulo,class:"h-40 w-full object-contain object-center group-hover:scale-105 transition-transform duration-300 bg-white",onClick:oe[5]||(oe[5]=de=>M(H.value,W.value))},null,8,ww),c("button",{class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(Q,["stop"])},[...oe[27]||(oe[27]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),c("button",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 hover:bg-opacity-70 text-white rounded-full p-2 transition-all duration-200",onClick:Ee(C,["stop"])},[...oe[28]||(oe[28]=[c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),c("div",Cw,[(w(!0),E(we,null,Le(H.value,(de,$)=>(w(),E("button",{key:$,class:re(["w-2 h-2 rounded-full transition-all duration-200",[W.value===$?"bg-white":"bg-white bg-opacity-50"]]),onClick:Ee(ge=>W.value=$,["stop"])},null,10,kw))),128))])])):(w(),E("div",Sw,[c("img",{src:V.imagen_url,alt:V.titulo,class:"h-40 w-full object-contain object-center group-hover:scale-105 transition-transform duration-300 bg-white",onClick:de=>M([V.imagen_url],0)},null,8,Ew)])),c("div",Aw,[c("h4",Pw,F(V.titulo),1),c("p",Tw,F(V.categoria),1),c("p",Rw,F(V.descripcion),1),c("div",Mw,[c("span",null,F(V.ubicacion),1),c("span",null,F(V.fecha_completado),1)])])]))),128))]))])]),I.value?(w(),E("div",{key:0,class:"fixed inset-0 z-50 bg-black bg-opacity-80 flex items-center justify-center",onClick:R},[c("div",{class:"relative max-w-[90vw] max-h-[85vh]",onClick:oe[6]||(oe[6]=Ee(()=>{},["stop"]))},[c("img",{src:q.value[L.value],alt:"Imagen ampliada",class:"max-w-[90vw] max-h-[85vh] object-contain rounded-lg"},null,8,Iw),c("button",{class:"absolute top-2 right-2 bg-black bg-opacity-60 text-white rounded-full p-2",onClick:R},"  "),q.value.length>1?(w(),E("button",{key:0,class:"absolute left-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-60 text-white rounded-full p-3",onClick:X},"  ")):Z("",!0),q.value.length>1?(w(),E("button",{key:1,class:"absolute right-2 top-1/2 -translate-y-1/2 bg-black bg-opacity-60 text-white rounded-full p-3",onClick:P},"  ")):Z("",!0)])])):Z("",!0)])}}},Ow={class:"container-custom section-padding"},Lw={class:"card"},$w={class:"card-body"},Dw={key:0,class:"py-8 text-center text-gray-600"},Nw={key:1},Bw={key:0,class:"py-8 text-center text-gray-600"},jw={key:1,class:"overflow-x-auto"},Fw={class:"min-w-full"},Gw={class:"py-2 pr-4"},zw={class:"py-2 pr-4"},Hw={class:"py-2 pr-4"},Uw={class:"py-2 pr-4"},Vw={class:"py-2 pr-4"},Ww={class:"py-2 pr-4"},qw={class:"py-2 pr-4"},Xw={class:"py-2 pr-4"},Yw={class:"flex gap-2"},Kw=["onClick"],Jw={key:0,class:"px-2 py-1 text-xs rounded bg-red-100 text-red-700"},Zw={__name:"AdminCotizacionesView",setup(t){const e=yt(),s=as(),n=ie(!0),i=ie([]),r=He({page:1,limit:10,total:0});ie(!1),ie(null),ie([]);const o=d=>new Intl.NumberFormat("es-ES",{minimumFractionDigits:0,maximumFractionDigits:0}).format(d||0),a=d=>d?new Date(d).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"}):"",l=d=>{s.push(`/admin/cotizaciones/${d.id}`)},u=async(d=1)=>{try{n.value=!0;const h={page:d,limit:r.limit},f=await nt.get("/pedidos/cotizaciones/xano",{params:h});i.value=f.data.cotizaciones||[];const m=f.data.pagination||{page:d,limit:r.limit,total:i.value.length};r.page=m.page||d,r.limit=m.limit||r.limit,r.total=m.total??i.value.length}catch{e.error("Error al cargar cotizaciones"),i.value=[],r.page=d,r.total=0}finally{n.value=!1}};return $t(()=>u()),(d,h)=>(w(),E("div",Ow,[c("div",Lw,[c("div",$w,[n.value?(w(),E("div",Dw," Cargando... ")):(w(),E("div",Nw,[i.value.length===0?(w(),E("div",Bw," No hay cotizaciones pendientes ")):(w(),E("div",jw,[c("table",Fw,[h[0]||(h[0]=c("thead",null,[c("tr",{class:"text-left text-sm text-gray-600"},[c("th",{class:"py-2 pr-4"},"ID"),c("th",{class:"py-2 pr-4"},"Fecha"),c("th",{class:"py-2 pr-4"},"Material"),c("th",{class:"py-2 pr-4"},"Color"),c("th",{class:"py-2 pr-4"},"Medidas"),c("th",{class:"py-2 pr-4"},"Comuna"),c("th",{class:"py-2 pr-4"},"Precio"),c("th",{class:"py-2 pr-4"},"Acciones")])],-1)),c("tbody",null,[(w(!0),E(we,null,Le(i.value,f=>(w(),E("tr",{key:f.id,class:"border-t"},[c("td",Gw,"#"+F(f.id),1),c("td",zw,F(a(f.created_at)),1),c("td",Hw,F(f.material_mueble),1),c("td",Uw,F(f.color),1),c("td",Vw,F(f.medidas),1),c("td",Ww,F(f.comuna||f.traslado_comuna||""),1),c("td",qw," $"+F(o(f.precio_unitario)),1),c("td",Xw,[c("div",Yw,[c("button",{class:"px-3 py-1 border rounded",onClick:m=>l(f)}," Ver ",8,Kw),f.rechazada?(w(),E("span",Jw,"Rechazado")):Z("",!0)])])]))),128))])])]))]))])])]))}},Qw={class:"container-custom section-padding"},eC={class:"max-w-4xl mx-auto"},tC={class:"flex items-center justify-between mb-6"},sC={class:"text-2xl font-bold"},nC={key:0,class:"card"},iC={key:1,class:"space-y-6"},rC={class:"card"},oC={class:"card-header"},aC={class:"text-sm text-gray-600"},lC={class:"card-body"},cC={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},dC={class:"p-3 bg-gray-50 rounded"},uC={class:"text-sm font-medium text-gray-900"},hC={class:"p-3 bg-gray-50 rounded"},fC={class:"text-sm font-medium text-gray-900"},pC={class:"p-3 bg-gray-50 rounded"},mC={class:"text-sm font-medium text-gray-900"},gC={class:"p-3 bg-gray-50 rounded"},bC={class:"text-sm font-medium text-gray-900"},vC={class:"card"},yC={class:"card-body"},xC={class:"min-w-full"},_C={class:"py-2"},wC={class:"py-2"},CC={class:"py-2"},kC={class:"py-2"},SC={class:"py-2"},EC={class:"py-2"},AC={class:"flex items-center justify-end mt-4"},PC={class:"text-lg font-semibold"},TC={class:"card"},RC={class:"card-body flex flex-wrap gap-2 justify-end"},MC={__name:"AdminCotizacionDetalleView",setup(t){const e=Xr(),s=as(),n=yt(),i=ie(!0),r=ie(null),o=ie(!1),a=ie("pendiente"),l=ie(null),u=ke(()=>e.params.id),d=g=>new Intl.NumberFormat("es-CL",{style:"currency",currency:"CLP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(g||0)),h=g=>g?new Date(g).toLocaleString("es-CL"):"",f=async()=>{var g,b,_,O,z,B,A,D,W,H,C,Q;try{i.value=!0;const q=(await nt.get(`/pedidos/cotizaciones/xano/${u.value}`)).data.pedido||{};r.value={id:q.id,created_at:q.created_at,precio_unitario:q.total_estimado??((b=(g=q.detalles)==null?void 0:g[0])==null?void 0:b.precio_unitario)??0,color:((O=(_=q.detalles)==null?void 0:_[0])==null?void 0:O.color)||"",material_mueble:((B=(z=q.detalles)==null?void 0:z[0])==null?void 0:B.material)||"",medidas:((D=(A=q.detalles)==null?void 0:A[0])==null?void 0:D.medidas)||"",comuna:((H=(W=q.detalles)==null?void 0:W[0])==null?void 0:H.comuna)||"",cubierta:((Q=(C=q.detalles)==null?void 0:C[0])==null?void 0:Q.descripcion)||"Cotizacin",detalles:q.detalles||[]},a.value=q.estado_cotizacion||"pendiente",o.value=a.value==="aprobada"}catch{n.error("No se pudo cargar la cotizacin")}finally{i.value=!1}},m=()=>new Promise(g=>{var _;if((_=window.jspdf)!=null&&_.jsPDF)return g(window.jspdf.jsPDF);const b=document.createElement("script");b.src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js",b.onload=()=>g(window.jspdf.jsPDF),document.head.appendChild(b)}),p=async()=>{const g=await m(),b=new g({unit:"mm",format:"a4"}),_=async(W,H=140,C=56)=>{try{const I=await(await fetch(W)).text(),q=new Blob([I],{type:"image/svg+xml;charset=utf-8"}),L=URL||window.URL,M=L.createObjectURL(q),R=new Image;R.crossOrigin="anonymous",await new Promise(se=>{R.onload=()=>se(null),R.src=M});const P=document.createElement("canvas");P.width=140,P.height=56,P.getContext("2d").drawImage(R,0,0,140,56);const ce=P.toDataURL("image/png");return L.revokeObjectURL(M),ce}catch{return null}},O=r.value,z=await _(Fa);z&&b.addImage(z,"PNG",15,15,35,14),b.setFont("helvetica","bold"),b.setFontSize(16),b.text("Comercial HG",55,22),b.setFont("helvetica","normal"),b.setFontSize(10),b.text("Muebles a medida  Cotizacin",55,27),b.text(`#${O.id}`,180,27,{align:"right"}),b.setDrawColor(220),b.line(15,33,195,33),b.setFontSize(14),b.setFont("helvetica","bold"),b.text("Resumen de Cotizacin",15,43),b.setFont("helvetica","normal"),b.setFontSize(10);const B=O.created_at?h(O.created_at):"";b.text(`Emitida: ${B}`,15,48);const A=[["Cubierta",O.cubierta||""],["Material",O.material_mueble||""],["Color",O.color||""],["Medidas",O.medidas||""],["Comuna",O.comuna||""],["Total",d(O.precio_unitario)]];let D=58;return b.setFontSize(11),b.setFont("helvetica","bold"),b.text("Campo",20,D),b.text("Detalle",80,D),b.setDrawColor(220),b.line(15,D+2,195,D+2),b.setFont("helvetica","normal"),D+=8,A.forEach(W=>{b.text(String(W[0]),20,D),b.text(String(W[1]),80,D),D+=8,b.setDrawColor(240),b.line(15,D,195,D),D+=2}),b.setFontSize(9),b.setTextColor(120),b.text("Comercial HG  contacto@comercialhg.com",15,285),b.text("www.comercialhg.com",195,285,{align:"right"}),l.value=b.output("blob"),l.value},x=async()=>{try{const g=await p(),b=new FormData;b.append("pdf",g,`cotizacion-${r.value.id}.pdf`),await nt.post(`/pedidos/cotizaciones/xano/${r.value.id}/aceptar`,b,{headers:{"Content-Type":"multipart/form-data"}}),o.value=!0,a.value="aprobada",n.success("Cotizacin aceptada")}catch{n.error("No se pudo aceptar la cotizacin")}},v=async()=>{try{await nt.patch(`/pedidos/cotizaciones/xano/${r.value.id}/rechazar`),n.success("Cotizacin rechazada"),a.value="rechazada",s.push("/admin/cotizaciones")}catch{n.error("No se pudo rechazar la cotizacin")}},y=async()=>{l.value||await p();const g=URL.createObjectURL(l.value),b=document.createElement("a");b.href=g,b.download=`cotizacion-${r.value.id}.pdf`,document.body.appendChild(b),b.click(),b.remove(),URL.revokeObjectURL(g)};return $t(()=>f()),(g,b)=>{var _,O,z,B,A,D,W,H;return w(),E("div",Qw,[c("div",eC,[c("div",tC,[c("h1",sC,"Cotizacin #"+F((_=r.value)==null?void 0:_.id),1),c("button",{class:"btn-secondary",onClick:b[0]||(b[0]=C=>Oe(s).push("/admin/cotizaciones"))}," Volver ")]),i.value?(w(),E("div",nC,[...b[1]||(b[1]=[c("div",{class:"card-body py-8 text-center text-gray-600"}," Cargando... ",-1)])])):(w(),E("div",iC,[c("div",rC,[c("div",oC,[b[2]||(b[2]=c("h2",{class:"text-xl font-semibold"},"Resumen",-1)),c("p",aC," Emitida: "+F(h((O=r.value)==null?void 0:O.created_at)),1)]),c("div",lC,[c("div",cC,[c("div",dC,[b[3]||(b[3]=c("div",{class:"text-xs text-gray-500"},"Material",-1)),c("div",uC,F((z=r.value)==null?void 0:z.material_mueble),1)]),c("div",hC,[b[4]||(b[4]=c("div",{class:"text-xs text-gray-500"},"Color",-1)),c("div",fC,F((B=r.value)==null?void 0:B.color),1)]),c("div",pC,[b[5]||(b[5]=c("div",{class:"text-xs text-gray-500"},"Medidas",-1)),c("div",mC,F((A=r.value)==null?void 0:A.medidas),1)]),c("div",gC,[b[6]||(b[6]=c("div",{class:"text-xs text-gray-500"},"Comuna",-1)),c("div",bC,F(((D=r.value)==null?void 0:D.comuna)||""),1)])])])]),c("div",vC,[b[9]||(b[9]=c("div",{class:"card-header"},[c("h2",{class:"text-xl font-semibold"},"Detalle")],-1)),c("div",yC,[c("table",xC,[b[7]||(b[7]=c("thead",null,[c("tr",{class:"text-left text-sm text-gray-600"},[c("th",{class:"py-2"},"Descripcin"),c("th",{class:"py-2"},"Material"),c("th",{class:"py-2"},"Color"),c("th",{class:"py-2"},"Medidas"),c("th",{class:"py-2"},"Cantidad"),c("th",{class:"py-2"},"Precio")])],-1)),c("tbody",null,[(w(!0),E(we,null,Le(((W=r.value)==null?void 0:W.detalles)||[],C=>(w(),E("tr",{key:C.descripcion,class:"border-t"},[c("td",_C,F(C.descripcion),1),c("td",wC,F(C.material),1),c("td",CC,F(C.color),1),c("td",kC,F(C.medidas),1),c("td",SC,F(C.cantidad||1),1),c("td",EC,F(d(C.precio_unitario??0)),1)]))),128))])]),c("div",AC,[b[8]||(b[8]=c("div",{class:"text-sm text-gray-600 mr-3"},"Total",-1)),c("div",PC,F(d((H=r.value)==null?void 0:H.precio_unitario)),1)])])]),c("div",TC,[c("div",RC,[a.value!=="aprobada"&&a.value!=="rechazada"?(w(),E("button",{key:0,class:"px-4 py-2 border rounded",onClick:v}," Rechazar ")):Z("",!0),a.value!=="aprobada"&&a.value!=="rechazada"?(w(),E("button",{key:1,class:"px-4 py-2 bg-primary-600 text-white rounded",onClick:x}," Aceptar ")):Z("",!0),a.value==="aprobada"?(w(),E("button",{key:2,class:"px-4 py-2 border rounded",onClick:y}," Descargar PDF ")):Z("",!0)])])]))])])}}},IC="/images/muebles/img5.jpg",OC={},LC={class:"container mx-auto px-4 py-12"},$C={class:"mt-12 text-center"};function DC(t,e){const s=rt("RouterLink");return w(),E("div",LC,[e[1]||(e[1]=dt('<div class="text-center mb-10"><h1 class="text-3xl md:text-4xl font-bold mb-4">Sobre Nosotros</h1><p class="text-gray-700 max-w-2xl mx-auto"> En Comercial HG diseamos y fabricamos muebles de bao, cocina y closets a medida, combinando artesana con tecnologa para resultados impecables. </p></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10"><div class="bg-white rounded-lg shadow p-6 border-t-4 border-blue-600"><h2 class="text-xl font-semibold mb-2">Misin</h2><p class="text-gray-700"> Crear soluciones de mobiliario personalizadas con calidad premium y servicio cercano. </p></div><div class="bg-white rounded-lg shadow p-6 border-t-4 border-red-600"><h2 class="text-xl font-semibold mb-2">Visin</h2><p class="text-gray-700"> Ser referentes en diseo a medida integrando IA en todo el proceso. </p></div><div class="bg-white rounded-lg shadow p-6 border-t-4 border-blue-600"><h2 class="text-xl font-semibold mb-2">Valores</h2><ul class="list-disc list-inside text-gray-700 space-y-1"><li>Calidad y detalle</li><li>Compromiso con plazos</li><li>Atencin personalizada</li></ul></div></div><div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-center"><div class="rounded-lg shadow overflow-hidden"><img src="'+IC+'" alt="Cocina Comercial HG" class="w-full h-56 md:h-64 lg:h-72 object-cover" loading="lazy"></div><div class="bg-white rounded-lg shadow p-6"><h2 class="text-xl font-semibold mb-2">Nuestro Taller</h2><p class="text-gray-700"> Trabajamos con materiales de primera y equipos de precisin para asegurar acabados duraderos y funcionales. </p><div class="mt-4 flex flex-wrap gap-2"><span class="px-3 py-1 bg-blue-100 text-blue-700 rounded">Bao</span><span class="px-3 py-1 bg-blue-100 text-blue-700 rounded">Cocina</span><span class="px-3 py-1 bg-blue-100 text-blue-700 rounded">Closets</span></div></div></div>',3)),c("div",$C,[he(s,{to:"/contacto",class:"inline-block px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},{default:pe(()=>[...e[0]||(e[0]=[J(" Contactar ",-1)])]),_:1})])])}const NC=ut(OC,[["render",DC]]),BC={},jC={class:"container mx-auto px-4 py-12"},FC={class:"mt-10 flex flex-wrap gap-3 justify-center"};function GC(t,e){const s=rt("RouterLink");return w(),E("div",jC,[e[2]||(e[2]=dt('<div class="text-center mb-8"><h1 class="text-3xl md:text-4xl font-bold mb-3">Cmo Funciona</h1><p class="text-gray-700 max-w-2xl mx-auto"> Un proceso simple y claro para obtener tu mueble ideal con ayuda de IA. </p></div><ol class="grid grid-cols-1 md:grid-cols-3 gap-6"><li class="bg-white rounded-lg shadow p-6"><h2 class="text-lg font-semibold mb-2">1. Describe tu espacio</h2><p class="text-gray-700">Indica medidas, estilo y necesidades.</p></li><li class="bg-white rounded-lg shadow p-6"><h2 class="text-lg font-semibold mb-2">2. Recomendacin con IA</h2><p class="text-gray-700"> Generamos propuestas optimizadas con materiales y tiempos estimados. </p></li><li class="bg-white rounded-lg shadow p-6"><h2 class="text-lg font-semibold mb-2">3. Fabricacin e instalacin</h2><p class="text-gray-700"> Nos encargamos de todo, con plazos claros y resultados de calidad. </p></li></ol>',2)),c("div",FC,[he(s,{to:"/recomendaciones",class:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"},{default:pe(()=>[...e[0]||(e[0]=[J(" Probar Recomendaciones IA ",-1)])]),_:1}),he(s,{to:"/analisis-espacio",class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors"},{default:pe(()=>[...e[1]||(e[1]=[J(" Analizar mi Espacio ",-1)])]),_:1})])])}const zC=ut(BC,[["render",GC]]),HC={},UC={class:"container mx-auto px-4 py-12"};function VC(t,e){return w(),E("div",UC,[...e[0]||(e[0]=[dt('<div class="text-center mb-8"><h1 class="text-3xl md:text-4xl font-bold mb-3">Testimonios</h1><p class="text-gray-700">Clientes que confiaron en Comercial HG.</p></div><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><div class="bg-white rounded-lg shadow p-6"><div class="flex text-yellow-400 mb-2"><span></span></div><p class="text-gray-700"> Excelente calidad y atencin. El closet qued perfecto. </p><p class="text-sm text-gray-500 mt-2">Sofa, Santiago</p></div><div class="bg-white rounded-lg shadow p-6"><div class="flex text-yellow-400 mb-2"><span></span></div><p class="text-gray-700"> La recomendacin con IA nos ahorr tiempo y dinero. </p><p class="text-sm text-gray-500 mt-2">Carlos, uoa</p></div><div class="bg-white rounded-lg shadow p-6"><div class="flex text-yellow-400 mb-2"><span></span></div><p class="text-gray-700"> Muebles de cocina impecables, plazos cumplidos. </p><p class="text-sm text-gray-500 mt-2">Mara, Pirque</p></div></div>',2)])])}const WC=ut(HC,[["render",VC]]),qC={},XC={class:"container mx-auto px-4 py-12"},YC={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},KC={class:"bg-white rounded-lg shadow p-6"},JC={class:"list-disc list-inside text-gray-700 space-y-1"},ZC={class:"bg-white rounded-lg shadow p-6"},QC={class:"mt-4"};function ek(t,e){const s=rt("RouterLink");return w(),E("div",XC,[e[6]||(e[6]=dt('<div class="text-center mb-8"><h1 class="text-3xl md:text-4xl font-bold mb-3">Centro de Ayuda</h1><p class="text-gray-700">Encuentra respuestas rpidas y guas tiles.</p></div><div class="max-w-xl mx-auto mb-8"><input type="text" placeholder="Buscar en ayuda..." class="w-full border rounded-lg px-4 py-2"></div>',2)),c("div",YC,[c("div",KC,[e[2]||(e[2]=c("h2",{class:"text-lg font-semibold mb-2"},"Guas",-1)),c("ul",JC,[c("li",null,[he(s,{to:"/como-funciona",class:"text-blue-600"},{default:pe(()=>[...e[0]||(e[0]=[J(" Solicitar recomendaciones ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/mis-cotizaciones",class:"text-blue-600"},{default:pe(()=>[...e[1]||(e[1]=[J(" Mis cotizaciones ",-1)])]),_:1})])])]),c("div",ZC,[e[4]||(e[4]=c("h2",{class:"text-lg font-semibold mb-2"},"Contacto rpido",-1)),e[5]||(e[5]=c("p",{class:"text-gray-700"}," Escrbenos a contacto@comercialhg.com o llama al +56998163536. ",-1)),c("div",QC,[he(s,{to:"/contacto",class:"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg"},{default:pe(()=>[...e[3]||(e[3]=[J(" Ir a Contacto ",-1)])]),_:1})])])])])}const tk=ut(qC,[["render",ek]]),sk={},nk={class:"container mx-auto px-4 py-12"},ik={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},rk={class:"bg-white rounded-lg shadow p-6"};function ok(t,e){return w(),E("div",nk,[e[4]||(e[4]=c("h1",{class:"text-3xl font-bold mb-6"},"Contacto",-1)),c("div",ik,[e[3]||(e[3]=dt('<div class="bg-white rounded-lg shadow p-6"><h2 class="text-lg font-semibold mb-2">Informacin</h2><p class="text-gray-700"> Franklin 565, Santiago Centro, Santiago, Chile </p><p class="text-gray-700">+56998163536</p><p class="text-gray-700">contacto@comercialhg.com</p></div>',1)),c("div",rk,[e[2]||(e[2]=c("h2",{class:"text-lg font-semibold mb-2"},"Envanos un mensaje",-1)),c("form",{class:"space-y-4",onSubmit:e[0]||(e[0]=Ee(()=>{},["prevent"]))},[...e[1]||(e[1]=[c("input",{type:"text",placeholder:"Nombre",class:"w-full border rounded-lg px-4 py-2"},null,-1),c("input",{type:"email",placeholder:"Email",class:"w-full border rounded-lg px-4 py-2"},null,-1),c("textarea",{placeholder:"Mensaje",class:"w-full border rounded-lg px-4 py-2 h-32"},null,-1),c("a",{href:"mailto:contacto@comercialhg.com",class:"inline-block px-6 py-2 bg-blue-600 text-white rounded-lg"}," Enviar por correo ",-1)])],32)])])])}const ak=ut(sk,[["render",ok]]),lk={},ck={class:"container mx-auto px-4 py-12"};function dk(t,e){return w(),E("div",ck,[...e[0]||(e[0]=[dt('<h1 class="text-3xl font-bold mb-6">Preguntas Frecuentes</h1><div class="space-y-4"><details class="bg-white rounded-lg shadow p-4"><summary class="font-semibold">Cunto tarda la fabricacin?</summary><p class="text-gray-700 mt-2"> El tiempo promedio es de 10 a 20 das segn el proyecto. </p></details><details class="bg-white rounded-lg shadow p-4"><summary class="font-semibold">Trabajan a medida?</summary><p class="text-gray-700 mt-2"> S, todos nuestros muebles se fabrican a medida. </p></details><details class="bg-white rounded-lg shadow p-4"><summary class="font-semibold">Ofrecen instalacin?</summary><p class="text-gray-700 mt-2"> Contamos con servicio de instalacin opcional. </p></details></div>',2)])])}const uk=ut(lk,[["render",dk]]),hk={},fk={class:"container mx-auto px-4 py-12"},pk={class:"text-sm text-gray-600 mb-8"};function mk(t,e){return w(),E("div",fk,[e[0]||(e[0]=c("h1",{class:"text-3xl font-bold mb-2"}," Poltica de Privacidad y Proteccin de Datos ",-1)),c("p",pk," ltima actualizacin: "+F(new Date().toLocaleDateString()),1),e[1]||(e[1]=dt('<section class="space-y-4"><h2 class="text-lg font-medium">1. Responsable del tratamiento</h2><p class="text-gray-700"> El responsable del tratamiento de los datos personales recolectados a travs de esta plataforma es Comercial HG, con domicilio comercial en Franklin 565, Santiago Centro, Santiago, Chile. </p></section><section class="space-y-4 mt-6"><h2 class="text-lg font-medium">2. Recopilacin de datos</h2><p class="text-gray-700"> En cumplimiento con la Ley N 19.628 sobre Proteccin de la Vida Privada, informamos que recopilamos los siguientes datos para la prestacin del servicio: </p><div class="space-y-2"><div><h3 class="text-base font-semibold">Datos identificatorios</h3><p class="text-gray-700"> Nombre completo, correo electrnico, nmero telefnico (+569...) y direccin. </p></div><div><h3 class="text-base font-semibold">Datos del proyecto</h3><p class="text-gray-700"> Medidas, preferencias de materiales y presupuesto estimado. </p></div><div><h3 class="text-base font-semibold">Datos visuales</h3><p class="text-gray-700"> Fotografas de espacios interiores proporcionadas voluntariamente por el usuario para el uso de herramientas de diseo. </p></div></div></section><section class="space-y-4 mt-6"><h2 class="text-lg font-medium">3. Finalidad del tratamiento</h2><ul class="list-disc list-inside space-y-1 text-gray-700"><li> Gestionar el registro de usuarios y mantener el historial de cotizaciones. </li><li> Proveer los servicios de diseo asistido y clculo de presupuestos. </li><li> Entrenar y mejorar la precisin de los modelos de Inteligencia Artificial utilizados en la atencin al cliente. </li><li> Establecer contacto comercial a travs del correo contacto@comercialhg.com o va telefnica. </li></ul></section><section class="space-y-4 mt-6"><h2 class="text-lg font-medium">4. Transferencia a terceros</h2><p class="text-gray-700"> Comercial HG garantiza que no comercializa datos personales. No obstante, para la operacin tcnica de la plataforma, ciertos datos (incluyendo imgenes temporales) pueden ser procesados por proveedores de infraestructura en la nube y servicios de IA externos, quienes actan bajo estrictos acuerdos de seguridad y confidencialidad. </p></section><section class="space-y-4 mt-6"><h2 class="text-lg font-medium">5. Seguridad y almacenamiento</h2><div class="space-y-2"><div><h3 class="text-base font-semibold">5.1. Medidas de seguridad</h3><p class="text-gray-700"> Utilizamos protocolos de encriptacin estndar (SSL/TLS) para proteger la transmisin de sus datos. </p></div><div><h3 class="text-base font-semibold">5.2. Retencin de imgenes</h3><p class="text-gray-700"> Las fotografas subidas para visualizacin se almacenan de manera temporal para la ejecucin del servicio. Comercial HG se reserva el derecho de eliminar peridicamente dichos archivos de sus servidores para optimizar el rendimiento del sistema y garantizar la privacidad del usuario. </p></div></div></section><section class="space-y-4 mt-6"><h2 class="text-lg font-medium">6. Derechos ARCO</h2><p class="text-gray-700"> El titular de los datos podr ejercer en cualquier momento sus derechos de Acceso, Rectificacin, Cancelacin y Oposicin respecto a sus datos personales. Para ello, deber enviar una solicitud escrita al correo electrnico contacto@comercialhg.com o contactar al soporte al +56998163536. </p></section>',6))])}const gk=ut(hk,[["render",mk]]),bk={},vk={class:"container mx-auto px-4 py-12"},yk={class:"text-sm text-gray-600 mb-8"};function xk(t,e){return w(),E("div",vk,[e[0]||(e[0]=c("h1",{class:"text-3xl font-bold mb-2"},"Trminos y Condiciones",-1)),c("p",yk," ltima actualizacin: "+F(new Date().toLocaleDateString()),1),e[1]||(e[1]=dt('<h2 class="text-2xl font-semibold mb-2">Trminos y Condiciones de Uso</h2><p class="text-sm text-gray-600 mb-6"> ltima actualizacin: Diciembre 2025 </p><section class="space-y-4"><h3 class="text-lg font-medium">1. Informacin general y aceptacin</h3><p class="text-gray-700"> Los presentes Trminos y Condiciones regulan el acceso, navegacin y uso de la plataforma digital operada por Comercial HG, domiciliada en Franklin 565, Santiago Centro, Santiago, Chile. Al registrarse o utilizar los servicios de cotizacin y visualizacin ofrecidos, el usuario acepta someterse ntegramente a las disposiciones aqu establecidas. </p></section><section class="space-y-4 mt-6"><h3 class="text-lg font-medium">2. Naturaleza de los servicios</h3><p class="text-gray-700"> La plataforma proporciona herramientas tecnolgicas para la configuracin y cotizacin referencial de muebles a medida. El usuario declara conocer que, debido a la naturaleza personalizada de la fabricacin, los servicios digitales constituyen una etapa preliminar de estimacin y no un contrato de compraventa perfeccionado. </p></section><section class="space-y-4 mt-6"><h3 class="text-lg font-medium">3. Poltica de precios y cotizaciones</h3><div class="space-y-3"><div><h4 class="text-base font-semibold">3.1. Valores referenciales</h4><p class="text-gray-700"> Todos los precios emitidos por el sistema, incluidos aquellos calculados automticamente segn medidas y materiales, tienen carcter estrictamente referencial y estimativo. No constituyen una oferta vinculante ni un precio final de venta. </p></div><div><h4 class="text-base font-semibold">3.2. Validacin tcnica</h4><p class="text-gray-700"> Todo proyecto requiere una validacin tcnica posterior por parte de especialistas de Comercial HG para verificar la factibilidad constructiva, rectificar medidas en terreno y confirmar el stock de materiales. El precio final ser fijado nicamente tras dicha validacin. </p></div><div><h4 class="text-base font-semibold">3.3. Errores del sistema</h4><p class="text-gray-700"> Comercial HG se reserva el derecho de anular cotizaciones o pedidos que presenten errores manifiestos de precio debido a fallas algortmicas, de integracin de datos o errores tipogrficos, sin que ello genere derecho a indemnizacin para el usuario. </p></div></div></section><section class="space-y-4 mt-6"><h3 class="text-lg font-medium"> 4. Uso de herramientas de Inteligencia Artificial (IA) </h3><div class="space-y-3"><div><h4 class="text-base font-semibold">4.1. Asistencia virtual</h4><p class="text-gray-700"> La informacin tcnica proporcionada por el asistente ComercialHG IA es de carcter orientativo. El usuario debe validar cualquier decisin crtica sobre materiales o instalacin con el personal humano de la empresa. </p></div><div><h4 class="text-base font-semibold">4.2. Visualizacin predictiva</h4><p class="text-gray-700"> Las imgenes generadas mediante IA (superposicin de muebles en fotografas del usuario) son prototipos conceptuales destinados a evaluar esttica y estilo. No representan con exactitud milimtrica el color, textura, iluminacin o dimensiones del producto final fabricado. </p></div></div></section><section class="space-y-4 mt-6"><h3 class="text-lg font-medium"> 5. Propiedad intelectual y contenido del usuario </h3><div class="space-y-3"><div><h4 class="text-base font-semibold">5.1. Licencia de uso</h4><p class="text-gray-700"> Al cargar fotografas de sus espacios privados en la plataforma, el usuario otorga a Comercial HG una licencia de uso temporal, no exclusiva y gratuita, con el nico fin de procesar dichas imgenes mediante algoritmos de visin por computador para generar la visualizacin solicitada. </p></div><div><h4 class="text-base font-semibold">5.2. Responsabilidad</h4><p class="text-gray-700"> El usuario garantiza ser el titular de los derechos de las imgenes subidas, liberando a Comercial HG de cualquier responsabilidad por reclamos de terceros sobre la privacidad o propiedad de dichas fotos. </p></div></div></section><section class="space-y-4 mt-6"><h3 class="text-lg font-medium">6. Limitacin de responsabilidad</h3><ul class="list-disc list-inside space-y-1 text-gray-700"><li> Interrupciones del servicio derivadas de cortes de energa o fallos en proveedores de internet. </li><li>Prdida de datos de cotizaciones no guardadas por el usuario.</li><li> Decisiones de compra basadas exclusivamente en la interpretacin visual de las herramientas de IA. </li></ul></section><section class="space-y-4 mt-6"><h3 class="text-lg font-medium"> 7. Legislacin aplicable y jurisdiccin </h3><p class="text-gray-700"> Estos trminos se rigen por las leyes de la Repblica de Chile. Para cualquier controversia derivada del uso de la plataforma, las partes se someten a la competencia de los Tribunales Ordinarios de Justicia de la comuna de Santiago. </p></section>',9))])}const _k=ut(bk,[["render",xk]]),wk={},Ck={class:"container mx-auto px-4 py-12"};function kk(t,e){return w(),E("div",Ck,[...e[0]||(e[0]=[dt('<h1 class="text-3xl font-bold mb-6">Poltica de Cookies</h1><p class="text-gray-700 mb-4"> Usamos cookies para mejorar tu experiencia y analizar el uso del sitio. </p><h2 class="text-xl font-semibold mt-6 mb-2">Tipos de cookies</h2><ul class="list-disc list-inside text-gray-700 space-y-1"><li>Esenciales: necesarias para el funcionamiento</li><li>Preferencias: guardan tus opciones</li><li>Analticas: estadsticas de uso</li></ul><h2 class="text-xl font-semibold mt-6 mb-2">Gestin</h2><p class="text-gray-700"> Puedes desactivarlas desde tu navegador. Al continuar, aceptas su uso. </p>',6)])])}const Sk=ut(wk,[["render",kk]]),Ek={},Ak={class:"container mx-auto px-4 py-12"},Pk={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Tk={class:"bg-white rounded-lg shadow p-6"},Rk={class:"space-y-1 text-blue-600"},Mk={class:"bg-white rounded-lg shadow p-6"},Ik={class:"space-y-1 text-blue-600"},Ok={class:"bg-white rounded-lg shadow p-6"},Lk={class:"space-y-1 text-blue-600"};function $k(t,e){const s=rt("RouterLink");return w(),E("div",Ak,[e[17]||(e[17]=c("h1",{class:"text-3xl font-bold mb-6"},"Mapa del Sitio",-1)),c("div",Pk,[c("div",Tk,[e[5]||(e[5]=c("h2",{class:"text-lg font-semibold mb-2"},"Enlaces",-1)),c("ul",Rk,[c("li",null,[he(s,{to:"/"},{default:pe(()=>[...e[0]||(e[0]=[J(" Inicio ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/catalogo"},{default:pe(()=>[...e[1]||(e[1]=[J(" Catlogo ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/cotizaciones"},{default:pe(()=>[...e[2]||(e[2]=[J(" Cotizaciones ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/analisis-espacio"},{default:pe(()=>[...e[3]||(e[3]=[J(" Anlisis de Espacio ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/mis-cotizaciones"},{default:pe(()=>[...e[4]||(e[4]=[J(" Mis Cotizaciones ",-1)])]),_:1})])])]),c("div",Mk,[e[12]||(e[12]=c("h2",{class:"text-lg font-semibold mb-2"},"Informacin",-1)),c("ul",Ik,[c("li",null,[he(s,{to:"/sobre-nosotros"},{default:pe(()=>[...e[6]||(e[6]=[J(" Sobre Nosotros ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/como-funciona"},{default:pe(()=>[...e[7]||(e[7]=[J(" Cmo Funciona ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/testimonios"},{default:pe(()=>[...e[8]||(e[8]=[J(" Testimonios ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/ayuda"},{default:pe(()=>[...e[9]||(e[9]=[J(" Centro de Ayuda ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/contacto"},{default:pe(()=>[...e[10]||(e[10]=[J(" Contacto ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/faq"},{default:pe(()=>[...e[11]||(e[11]=[J(" Preguntas Frecuentes ",-1)])]),_:1})])])]),c("div",Ok,[e[16]||(e[16]=c("h2",{class:"text-lg font-semibold mb-2"},"Legal",-1)),c("ul",Lk,[c("li",null,[he(s,{to:"/privacidad"},{default:pe(()=>[...e[13]||(e[13]=[J(" Poltica de Privacidad ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/terminos"},{default:pe(()=>[...e[14]||(e[14]=[J(" Trminos de Servicio ",-1)])]),_:1})]),c("li",null,[he(s,{to:"/cookies"},{default:pe(()=>[...e[15]||(e[15]=[J(" Poltica de Cookies ",-1)])]),_:1})])])])])])}const Dk=ut(Ek,[["render",$k]]),Nk=[{path:"/",name:"home",component:U4,meta:{title:"Inicio",requiresAuth:!1}},{path:"/privacidad",name:"privacidad",component:gk,meta:{title:"Poltica de Privacidad",requiresAuth:!1}},{path:"/terminos",name:"terminos",component:_k,meta:{title:"Trminos de Servicio",requiresAuth:!1}},{path:"/cookies",name:"cookies",component:Sk,meta:{title:"Poltica de Cookies",requiresAuth:!1}},{path:"/sitemap",name:"sitemap",component:Dk,meta:{title:"Mapa del Sitio",requiresAuth:!1}},{path:"/sobre-nosotros",name:"sobre-nosotros",component:NC,meta:{title:"Sobre Nosotros",requiresAuth:!1}},{path:"/como-funciona",name:"como-funciona",component:zC,meta:{title:"Cmo Funciona",requiresAuth:!1}},{path:"/testimonios",name:"testimonios",component:WC,meta:{title:"Testimonios",requiresAuth:!1}},{path:"/login",name:"login",component:Cc,meta:{title:"Iniciar Sesin",requiresAuth:!1,hideForAuth:!0}},{path:"/admin/login",name:"admin-login",component:Cc,meta:{title:"Login Administrador",requiresAuth:!1,hideForAuth:!0}},{path:"/register",name:"register",component:hb,meta:{title:"Registrarse",requiresAuth:!1,hideForAuth:!0}},{path:"/auth/forgot-password",name:"forgot-password",component:Pb,meta:{title:"Recuperar Contrasea",requiresAuth:!1,hideForAuth:!0}},{path:"/auth/reset-password/:token",name:"reset-password",component:nv,meta:{title:"Restablecer Contrasea",requiresAuth:!1,hideForAuth:!0}},{path:"/catalogo",name:"catalog",component:g3,meta:{title:"Catlogo",requiresAuth:!1}},{path:"/cotizaciones",name:"cotizaciones",component:Dy,meta:{title:"Cotizaciones",requiresAuth:!1}},{path:"/mis-cotizaciones",name:"mis-cotizaciones",component:a6,meta:{title:"Mis Cotizaciones",requiresAuth:!0}},{path:"/analisis-espacio",name:"analisis-espacio",component:$x,meta:{title:"Anlisis de espacio con IA",requiresAuth:!0}},{path:"/diagnostico-ia",name:"diagnostico-ia",component:x7,meta:{title:"Diagnstico de IA",requiresAuth:!0}},{path:"/perfil",name:"profile",component:G_,meta:{title:"Mi Perfil",requiresAuth:!0}},{path:"/dashboard",name:"dashboard",component:Qc,meta:{title:"Mi rea Personal",requiresAuth:!0}},{path:"/admin",name:"admin-dashboard",component:Qc,meta:{title:"Panel de Administracin",requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/cotizaciones",name:"admin-quotes",component:Zw,meta:{title:"Cotizaciones",requiresAuth:!0,requiresAdmin:!0}},{path:"/admin/cotizaciones/:id",name:"admin-quote-detail",component:MC,meta:{title:"Detalle de Cotizacin",requiresAuth:!0,requiresAdmin:!0}},{path:"/ayuda",name:"ayuda",component:tk,meta:{title:"Centro de Ayuda",requiresAuth:!1}},{path:"/contacto",name:"contacto",component:ak,meta:{title:"Contacto",requiresAuth:!1}},{path:"/faq",name:"faq",component:uk,meta:{title:"Preguntas Frecuentes",requiresAuth:!1}}],u0=Km({history:Pm("/"),routes:Nk,scrollBehavior(t,e,s){return s||{top:0}}});u0.beforeEach(async(t,e,s)=>{const n=ws();if(document.title=t.meta.title?`${t.meta.title} - Sistema de Muebles`:"Sistema de Muebles",n.token&&!n.user)try{await n.verifyToken()}catch(i){if(console.warn("Token invlido al navegar:",i),t.meta.requiresAuth){n.logout(),s({name:"login",query:{redirect:t.fullPath}});return}}if(t.meta.hideForAuth&&n.isAuthenticated){s({name:"home"});return}if(t.meta.requiresAuth&&!n.isAuthenticated){s({name:"login",query:{redirect:t.fullPath}});return}if(t.meta.requiresAdmin&&!n.isAdmin){s({name:"admin-login",query:{admin:1,redirect:t.fullPath}});return}s()});const no=Cu(S4);no.use(Hp());no.use(u0);const Bk=ws();Bk.initialize();no.use(U1,{position:"top-right",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1});no.mount("#app");
//# sourceMappingURL=index-wJ4PKysG.js.map
